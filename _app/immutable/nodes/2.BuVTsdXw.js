import{l as za,f as We,r as Ce,e as he,a as se,t as Ae,s as ve,d as an,c as Oe}from"../chunks/CTv_EfRB.js";import{i as He}from"../chunks/DKDZcyxF.js";import{h as Ge,s as ha,ag as tn,an as nn,a as rn,b as ln,m as l,H as on,r as wa,c as _a,f as oa,at as sn,ay as da,d as Ga,e as Ua,p as un,aw as ja,R as cn,L as Fa,az as Na,aA as Sa,aB as Ca,aC as dn,ah as fn,aD as vn,aE as bn,aF as Ka,a0 as pn,O as gn,aj as hn,aG as _n,a5 as mn,G as La,aH as xn,am as yn,aI as An,k as Xa,Q as qa,ak as kn,K as $n,w as Me,ac as Je,J as v,aJ as Ze,A as h,C as y,B as g,y as Ee,z as Pe,af as k,aK as pa,aL as Nn,aM as fa,x as ze}from"../chunks/BsOv8DMm.js";import{i as Ve}from"../chunks/_TBU46Sx.js";import{z as Ya,r as aa,t as oe,b as ia,s as Cn,a as Ta,i as En}from"../chunks/D3lhYDpl.js";import{p as Qe,b as Se}from"../chunks/CdqiTcZ4.js";function Da(a,t){return t}function Rn(a,t,n,s){for(var u=[],r=t.length,i=0;i<r;i++)dn(t[i].e,u,!0);var e=r>0&&u.length===0&&n!==null;if(e){var p=n.parentNode;fn(p),p.append(n),s.clear(),Ye(a,t[0].prev,t[r-1].next)}vn(u,()=>{for(var _=0;_<r;_++){var $=t[_];e||(s.delete($.k),Ye(a,$.prev,$.next)),bn($.e,!e)}})}function Va(a,t,n,s,u,r=null){var i=a,e={flags:t,items:new Map,first:null},p=(t&Ka)!==0;if(p){var _=a;i=Ge?ha(tn(_)):_.appendChild(nn())}Ge&&rn();var $=null,L=!1,B=pn(()=>{var m=n();return gn(m)?m:m==null?[]:ja(m)});ln(()=>{var m=l(B),N=m.length;if(L&&N===0)return;L=N===0;let D=!1;if(Ge){var Z=i.data===on;Z!==(N===0)&&(i=wa(),ha(i),_a(!1),D=!0)}if(Ge){for(var I=null,V,q=0;q<N;q++){if(oa.nodeType===8&&oa.data===sn){i=oa,D=!0,_a(!1);break}var G=m[q],A=s(G,q);V=Wa(oa,e,I,null,G,A,q,u,t),e.items.set(A,V),I=V}N>0&&ha(wa())}if(!Ge){var x=hn;wn(m,e,i,u,t,(x.f&da)!==0,s)}r!==null&&(N===0?$?Ga($):$=Ua(()=>r(i)):$!==null&&un($,()=>{$=null})),D&&_a(!0),l(B)}),Ge&&(i=oa)}function wn(a,t,n,s,u,r,i,e){var J,ee,M,R;var p=(u&_n)!==0,_=(u&(Na|Ca))!==0,$=a.length,L=t.items,B=t.first,m=B,N,D=null,Z,I=[],V=[],q,G,A,x;if(p)for(x=0;x<$;x+=1)q=a[x],G=i(q,x),A=L.get(G),A!==void 0&&((J=A.a)==null||J.measure(),(Z??(Z=new Set)).add(A));for(x=0;x<$;x+=1){if(q=a[x],G=i(q,x),A=L.get(G),A===void 0){var ae=m?m.e.nodes_start:n;D=Wa(ae,t,D,D===null?t.first:D.next,q,G,x,s,u),L.set(G,D),I=[],V=[],m=D.next;continue}if(_&&Fn(A,q,x,u),A.e.f&da&&(Ga(A.e),p&&((ee=A.a)==null||ee.unfix(),(Z??(Z=new Set)).delete(A))),A!==m){if(N!==void 0&&N.has(A)){if(I.length<V.length){var Q=V[0],W;D=Q.prev;var T=I[0],F=I[I.length-1];for(W=0;W<I.length;W+=1)Ia(I[W],Q,n);for(W=0;W<V.length;W+=1)N.delete(V[W]);Ye(t,T.prev,F.next),Ye(t,D,T),Ye(t,F,Q),m=Q,D=F,x-=1,I=[],V=[]}else N.delete(A),Ia(A,m,n),Ye(t,A.prev,A.next),Ye(t,A,D===null?t.first:D.next),Ye(t,D,A),D=A;continue}for(I=[],V=[];m!==null&&m.k!==G;)(r||!(m.e.f&da))&&(N??(N=new Set)).add(m),V.push(m),m=m.next;if(m===null)continue;A=m}I.push(A),D=A,m=A.next}if(m!==null||N!==void 0){for(var E=N===void 0?[]:ja(N);m!==null;)(r||!(m.e.f&da))&&E.push(m),m=m.next;var K=E.length;if(K>0){var S=u&Ka&&$===0?n:null;if(p){for(x=0;x<K;x+=1)(M=E[x].a)==null||M.measure();for(x=0;x<K;x+=1)(R=E[x].a)==null||R.fix()}Rn(t,E,S,L)}}p&&cn(()=>{var P;if(Z!==void 0)for(A of Z)(P=A.a)==null||P.apply()}),Fa.first=t.first&&t.first.e,Fa.last=D&&D.e}function Fn(a,t,n,s){s&Na&&Sa(a.v,t),s&Ca?Sa(a.i,n):a.i=n}function Wa(a,t,n,s,u,r,i,e,p,_){var $=(p&Na)!==0,L=(p&xn)===0,B=$?L?mn(u):La(u):u,m=p&Ca?La(i):i,N={i:m,v:B,k:r,a:null,e:null,prev:n,next:s};try{return N.e=Ua(()=>e(a,B,m),Ge),N.e.prev=n&&n.e,N.e.next=s&&s.e,n===null?t.first=N:(n.next=N,n.e.next=N.e),s!==null&&(s.prev=N,s.e.prev=N.e),N}finally{}}function Ia(a,t,n){for(var s=a.next?a.next.e.nodes_start:n,u=t?t.e.nodes_start:n,r=a.e.nodes_start;r!==s;){var i=yn(r);u.before(r),r=i}}function Ye(a,t,n){t===null?a.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function me(a,t,n=t){var s=An();za(a,"input",u=>{var r=u?a.defaultValue:a.value;if(r=ma(a)?xa(r):r,n(r),s&&r!==(r=t())){var i=a.selectionStart,e=a.selectionEnd;a.value=r??"",e!==null&&(a.selectionStart=i,a.selectionEnd=Math.min(e,a.value.length))}}),(Ge&&a.defaultValue!==a.value||Xa(t)==null&&a.value)&&n(ma(a)?xa(a.value):a.value),qa(()=>{var u=t();ma(a)&&u===xa(a.value)||a.type==="date"&&!u&&!a.value||u!==a.value&&(a.value=u??"")})}function Ea(a,t,n=t){za(a,"change",s=>{var u=s?a.defaultChecked:a.checked;n(u)}),(Ge&&a.defaultChecked!==a.checked||Xa(t)==null)&&n(a.checked),qa(()=>{var s=t();a.checked=!!s})}function ma(a){var t=a.type;return t==="number"||t==="range"}function xa(a){return a===""?null:+a}function Ha(a,t,n){var s=$n(a,t);s&&s.set&&(a[t]=n,kn(()=>{a[t]=null}))}const Sn=!0,Pl=Object.freeze(Object.defineProperty({__proto__:null,prerender:Sn},Symbol.toStringTag,{value:"Module"}));function le(a){return parseInt(a,16)}function va(a){return Math.floor(a).toString(16).padStart(2,"0").toUpperCase()}function ya(a,t,n){const s=a>t;let u=t,r=a;s&&(u=a,r=t);const e=(u-r)/n;let p=r;const _=[r];for(let $=1;$<n;$++)p+=e,_.push(p);return _[n-1]=u,s&&_.reverse(),_}const Ln=/^(\(.*\)|\\?.)$/,ea=a=>{const t=a.toString();return Ln.test(t)?t:`(?:${t})`},Tn=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,Dn=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,z=a=>{const t=n=>z(`(?<${n}>${`${a}`.replace(Tn,"$1$2")})`);return{toString:()=>a.toString(),and:Object.assign((...n)=>z(`${a}${f(...n)}`),{referenceTo:n=>z(`${a}\\k<${n}>`)}),or:(...n)=>z(`(?:${a}|${f(...n)})`),after:(...n)=>z(`(?<=${f(...n)})${a}`),before:(...n)=>z(`${a}(?=${f(...n)})`),notAfter:(...n)=>z(`(?<!${f(...n)})${a}`),notBefore:(...n)=>z(`${a}(?!${f(...n)})`),times:Object.assign(n=>z(`${ea(a)}{${n}}`),{any:()=>z(`${ea(a)}*`),atLeast:n=>z(`${ea(a)}{${n},}`),atMost:n=>z(`${ea(a)}{0,${n}}`),between:(n,s)=>z(`${ea(a)}{${n},${s}}`)}),optionally:()=>z(`${ea(a)}?`),as:t,groupedAs:t,grouped:()=>z(`${a}`.replace(Dn,"($1$3)$2")),at:{lineStart:()=>z(`^${a}`),lineEnd:()=>z(`${a}$`)}}},Vn=/[.*+?^${}()|[\]\\/]/g,$e=a=>z(`[^${a.replace(/[-\\^\]]/g,"\\$&")}]`),In=(...a)=>z(`(?:${a.map(t=>f(t)).join("|")})`),Hn=z(".");z("\\b\\w+\\b");z("\\w");z("\\b");const Le=z("\\d");z("\\s");const Mn=Object.assign(z("[a-zA-Z]"),{lowercase:z("[a-z]"),uppercase:z("[A-Z]")});z("\\t");z("\\n");z("\\r");z("\\W+"),z("\\W"),z("\\B"),z("\\D"),z("\\S"),Object.assign(z("[^a-zA-Z]"),{lowercase:z("[^a-z]"),uppercase:z("[^A-Z]")}),z("[^\\t]"),z("[^\\n]"),z("[^\\r]");const f=(...a)=>z(a.map(t=>typeof t=="string"?t.replace(Vn,"\\$&"):t).join("")),de=(...a)=>z(`${ea(f(...a))}+`),C=(...a)=>{const t=a.length>1&&(Array.isArray(a[a.length-1])||a[a.length-1]instanceof Set)?a.pop():void 0;return new RegExp(f(...a).toString(),[...t||""].join(""))},Pn=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,Bn=/^[^\\]+/g,Ja=/(?<sil>(?:sha|shi|shu|she|sho|cha|chi|chu|che|cho|tsu|kya|kyi|kyu|kye|kyo|gya|gyi|gyu|gye|gyo|sya|syu|syi|sye|syo|zya|zyu|zyi|zye|zyo|jya|jyu|jyi|jye|jyo|tya|tyi|tyu|tye|tyo|dya|dyi|dyu|dye|dyo|nya|nyi|nyu|nye|nyo|hya|hyi|hyu|hye|hyo|fya|fyi|fyu|fye|fyo|bya|byi|byu|bye|byo|pya|pyi|pyu|pye|pyo|mya|myi|myu|mye|myo|rya|ryi|ryu|rye|ryo|vya|vyi|vyu|vye|vyo|ka|ki|ku|ke|ko|ga|gi|gu|ge|go|sa|su|si|se|so|za|zu|zi|ze|zo|ja|ju|ji|je|jo|ta|ti|tu|te|to|da|di|du|de|do|na|ni|nu|ne|no|ha|hi|hu|he|ho|fa|fi|fu|fe|fo|ba|bi|bu|be|bo|pa|pi|pu|pe|po|ma|mi|mu|me|mo|ya|yi|yu|ye|yo|ra|ri|ru|re|ro|wa|wo|va|vi|vu|ve|vo|a|i|u|e|o|n|t)[^a-zA-Z\d\s:]*\s?)/g,Ma=de(Le).and(f(":")).and(Le.times(2)).and(f(":")).and(Le.times(2)).and(f(".")).and(Le.times(2)),On=In("Dialogue","Comment").groupedAs("type").and(f(": ")).and(de(Le).optionally().groupedAs("layer")).and(f(",")).and(Ma.optionally().groupedAs("start")).and(f(",")).and(Ma.optionally().groupedAs("end")).and(f(",")).and(de($e(",").optionally()).groupedAs("style")).and(f(",")).and(de($e(",")).optionally().groupedAs("actor")).and(f(",")).and(de(Le).optionally().groupedAs("marginLeft")).and(f(",")).and(de(Le).optionally().groupedAs("marginRight")).and(f(",")).and(de(Le).optionally().groupedAs("marginVertical")).and(f(",")).and(de($e(",")).optionally().groupedAs("effect")).and(f(",")).and(de(Hn).optionally().groupedAs("content")),zn=C(On),Gn=f("-").optionally().and(de(Le)),w=Gn.and(f(".").and(de(Le)).optionally()),Za=f("\\").and("a").and(w.groupedAs("a_value")),Un=C(Za),ye=Mn.or(Le).times(2),Qa=f("&H").and(ye.groupedAs("color_bgr_blue")).and(ye.groupedAs("color_bgr_green")).and(ye.groupedAs("color_bgr_red")).and(f("&")),et=f("\\c").and(Qa),at=f("\\1c").and(f("&H")).and(ye.groupedAs("color1_bgr_blue")).and(ye.groupedAs("color1_bgr_green")).and(ye.groupedAs("color1_bgr_red")).and(f("&")),tt=f("\\2c").and(f("&H")).and(ye.groupedAs("color2_bgr_blue")).and(ye.groupedAs("color2_bgr_green")).and(ye.groupedAs("color2_bgr_red")).and(f("&")),nt=f("\\3c").and(f("&H")).and(ye.groupedAs("color3_bgr_blue")).and(ye.groupedAs("color3_bgr_green")).and(ye.groupedAs("color3_bgr_red")).and(f("&")),rt=f("\\4c").and(f("&H")).and(ye.groupedAs("color4_bgr_blue")).and(ye.groupedAs("color4_bgr_green")).and(ye.groupedAs("color4_bgr_red")).and(f("&")),jn=C(Qa),Kn=C(et),Xn=C(at),qn=C(tt),Yn=C(nt),Wn=C(rt),lt=f("\\").and("alpha").and(de($e("\\")).groupedAs("alpha_value")),Jn=C(lt),ot=f("\\").and("1a").and(de($e("\\")).groupedAs("alpha1_value")),Zn=C(ot),st=f("\\").and("2a").and(de($e("\\")).groupedAs("alpha2_value")),Qn=C(st),ut=f("\\").and("3a").and(de($e("\\")).groupedAs("alpha3_value")),er=C(ut),it=f("\\").and("4a").and(de($e("\\")).groupedAs("alpha4_value")),ar=C(it),ct=f("\\").and("k").and(w.groupedAs("k_lower_case_value")),tr=C(ct),dt=f("\\").and("K").and(w.groupedAs("k_upper_case_value")),nr=C(dt),ft=f("\\").and("kf").and(w.groupedAs("kf_value")),rr=C(ft),vt=f("\\").and("ko").and(w.groupedAs("ko_value")),lr=C(vt),bt=f("\\").and("q").and(w.groupedAs("q_value")),or=C(bt),pt=f("\\").and("s").and(w.groupedAs("s_value")),sr=C(pt),gt=f("\\").and("u").and(w.groupedAs("u_value")),ur=C(gt),ht=f("\\").and("r").and(de($e("\\")).groupedAs("r_value")),ir=C(ht),_t=f("\\").and("fe").and(w.groupedAs("fe_value")),cr=C(_t),mt=f("\\").and("fn").and(de($e("\\")).groupedAs("fn_value")),dr=C(mt),xt=f("\\").and("p").and(w.groupedAs("p_value")),fr=C(xt),yt=f("\\").and("pbo").and(w.groupedAs("pbo_value")),vr=C(yt),At=f("\\").and("an").and(w.groupedAs("an_value")),br=C(At),kt=f("\\").and("b").and(w.groupedAs("b_value")),pr=C(kt),$t=f("\\").and("be").and(w.groupedAs("be_value")),gr=C($t),Nt=f("\\").and("blur").and(w.groupedAs("blur_value")),hr=C(Nt),Ct=f("\\").and("bord").and(w.groupedAs("bord_value")),_r=C(Ct),Et=f("\\").and("xbord").and(w.groupedAs("xbord_value")),mr=C(Et),Rt=f("\\").and("ybord").and(w.groupedAs("ybord_value")),xr=C(Rt),wt=f("\\").and("shad").and(w.groupedAs("shad_value")),yr=C(wt),Ft=f("\\").and("xshad").and(w.groupedAs("xshad_value")),Ar=C(Ft),St=f("\\").and("yshad").and(w.groupedAs("yshad_value")),kr=C(St),Lt=f("\\").and("fax").and(w.groupedAs("fax_value")),$r=C(Lt),Tt=f("\\").and("fay").and(w.groupedAs("fay_value")),Nr=C(Tt),Dt=f("\\").and("fscx").and(w.groupedAs("fscx_value")),Cr=C(Dt),Vt=f("\\").and("fscy").and(w.groupedAs("fscy_value")),Er=C(Vt),It=f("\\").and("fsp").and(w.groupedAs("fsp_value")),Rr=C(It),Ht=f("\\").and("fr").and(w.groupedAs("fr_value")),wr=C(Ht),Mt=f("\\").and("frx").and(w.groupedAs("frx_value")),Fr=C(Mt),Pt=f("\\").and("fry").and(w.groupedAs("fry_value")),Sr=C(Pt),Bt=f("\\").and("frz").and(w.groupedAs("frz_value")),Lr=C(Bt),Ot=f("\\").and("i").and(f("1").or("0").groupedAs("i_value")),Tr=C(Ot),zt=f("\\").and("fs").and(w.groupedAs("fs_value")),Dr=C(zt),Gt=f("\\").and("pos").and(f("(")).and(w.groupedAs("pos_x")).and(f(",")).and(w.groupedAs("pos_y")).and(f(")")),Vr=C(Gt),Ut=f("\\").and("org").and(f("(")).and(w.groupedAs("org_x")).and(f(",")).and(w.groupedAs("org_y")).and(f(")")),Ir=C(Ut),jt=f("\\").and("fad").and(f("(")).and(w.groupedAs("in")).and(f(",")).and(w.groupedAs("out")).and(f(")")),Hr=C(jt),Kt=f("\\").and("fade").and(f("(")).and(w.groupedAs("fade_alpha1")).and(f(",")).and(w.groupedAs("fade_alpha2")).and(f(",")).and(w.groupedAs("fade_alpha3")).and(f(",")).and(w.groupedAs("fade_t1")).and(f(",")).and(w.groupedAs("fade_t2")).and(f(",")).and(w.groupedAs("fade_t3")).and(f(",")).and(w.groupedAs("fade_t4")).and(f(")")),Mr=C(Kt),Pr=f(",").and(w.groupedAs("move_t1")).and(f(",")).and(w.groupedAs("move_t2")).optionally(),Xt=f("\\").and("move").and(f("(")).and(w.groupedAs("move_x1")).and(f(",")).and(w.groupedAs("move_y1")).and(f(",")).and(w.groupedAs("move_x2")).and(f(",")).and(w.groupedAs("move_y2")).and(Pr).and(f(")")),Br=C(Xt),qt=f("\\").and("clip").and(f("(")).and(de($e(")")).groupedAs("clip_args")).and(f(")")),Or=C(qt),Yt=f("\\").and("iclip").and(f("(")).and(de($e(")")).groupedAs("iclip_args")).and(f(")")),zr=C(Yt),Gr=f("\\").and(de($e("\\")).groupedAs("unknown_value")),Wt=$t.or(lt).or(Et).or(Rt).or(Ft).or(St).or(Yt).or(Xt).or(Nt).or(Ct).or(wt).or(Dt).or(Vt).or(Kt).or(qt).or(It).or(Gt).or(Ut).or(jt).or(yt).or(Mt).or(Pt).or(Bt).or(Lt).or(Tt).or(vt).or(ft).or(Ht).or(zt).or(_t).or(mt).or(At).or(at).or(tt).or(nt).or(rt).or(ot).or(st).or(ut).or(it).or(et).or(bt).or(gt).or(pt).or(xt).or(ht).or(Ot).or(kt).or(Za).or(ct).or(dt).or(Gr),Ur=f("\\").at.lineStart().and("t").and(f("(")).and(w.groupedAs("arg1").and(f(",")).optionally()).and(w.groupedAs("arg2").and(f(",")).optionally()).and(w.groupedAs("arg3").and(f(",")).optionally()).and(de(Wt).groupedAs("tags")).and(f(")")),jr=C(Wt),Jt=C(Ur);function Aa(a){const t=Math.floor(a/3600),n=Math.floor((a/3600-t)*60);return a=a-t*3600-n*60,{hours:t,minutes:n,seconds:a}}function Pa(a){var e,p,_;const t=/(?<h>\d+):(?<m>[0-9]{1,2}?):(?<s>[0-9]{1,2}(?:\.[0-9]{1,2})?)/,n=a.match(t);if(!n||n.length===0)return null;const s=Math.floor(Number(((e=n.groups)==null?void 0:e.h)??"0")),u=Math.floor(Number(((p=n.groups)==null?void 0:p.m)??"0")),r=Number(((_=n.groups)==null?void 0:_.s)??"0"),i={hours:s,minutes:u,seconds:r};return Ra(i),i}function Ra(a){a.seconds>=60&&(a.seconds-=60,a.minutes++),a.minutes>=60&&(a.minutes-=60,a.hours++),a.hours>=9&&(a.hours=9,a.minutes=59,a.seconds=59.99)}function Ba(a){Ra(a);const t=a.hours.toFixed(0),n=a.minutes.toFixed(0).padStart(2,"0"),s=a.seconds.toFixed(2).padStart(5,"0");return`${t}:${n}:${s}`}function ba(a){return Ra(a),a.hours*3600+a.minutes*60+a.seconds}var ka;(function(a){a[a.DOWN_LEFT=1]="DOWN_LEFT",a[a.DOWN_CENTER=2]="DOWN_CENTER",a[a.DOWN_RIGHT=3]="DOWN_RIGHT",a[a.CENTER_LEFT=4]="CENTER_LEFT",a[a.CENTER_CENTER=5]="CENTER_CENTER",a[a.CENTER_RIGHT=6]="CENTER_RIGHT",a[a.UP_LEFT=7]="UP_LEFT",a[a.UP_CENTER=8]="UP_CENTER",a[a.UP_RIGHT=9]="UP_RIGHT"})(ka||(ka={}));Ya.nativeEnum(ka);var $a;(function(a){a[a.ANSI=0]="ANSI",a[a.DEFAULT=1]="DEFAULT",a[a.SYMBOL=2]="SYMBOL",a[a.MAC=77]="MAC",a[a.SHIFT_JIS=128]="SHIFT_JIS",a[a.HANGEUL=129]="HANGEUL",a[a.JOHAB=130]="JOHAB",a[a.GB2312=134]="GB2312",a[a.CHINESE_BIG5=136]="CHINESE_BIG5",a[a.GREEK=161]="GREEK",a[a.TURKISH=162]="TURKISH",a[a.VIETNAMESE=163]="VIETNAMESE",a[a.HEBREW=177]="HEBREW",a[a.ARAB=178]="ARAB",a[a.BALTIC=186]="BALTIC",a[a.RUSSIAN=204]="RUSSIAN",a[a.THAI=222]="THAI",a[a.EASTERN_EUROPE=238]="EASTERN_EUROPE",a[a.OEM=255]="OEM"})($a||($a={}));Ya.nativeEnum($a);function Kr(a){const t=[],n=a.content.split(" ");for(let p=0;p<n.length;p++){const _=n[p];if(Xr(_)){const $=_.matchAll(Ja);for(const L of $)t.push({text:L[1],durationInMs:0})}else t.push({text:_,durationInMs:0});p!=n.length-1&&(t[t.length-1].text+=" ")}const s=il(a),u=Math.floor(Math.round(s*100/t.length)),r=t.length*u;for(const p of t)p.durationInMs=u;if(!(r===s*100)){const _=s*100-r;t[t.length-1].durationInMs+=_}const e=[];for(const p of t)e.push({name:"effect",tags:[{name:b.kf,value:p.durationInMs}]},{name:"text",value:p.text});a.content=_e(e)}function Xr(a){for(;a.length>0;){const t=a.match(Ja);if(!t||t.length===0)return!1;a=a.substring(t[0].length)}return!0}var b;(function(a){a.a="a",a.alpha="alpha",a.alpha1="1a",a.alpha2="2a",a.alpha3="3a",a.alpha4="4a",a.an="an",a.b="b",a.be="be",a.blur="blur",a.bord="bord",a.clip="clip",a.color="c",a.color1="1c",a.color2="2c",a.color3="3c",a.color4="4c",a.fad="fad",a.fade="fade",a.fax="fax",a.fay="fay",a.fe="fe",a.fn="fn",a.fr="fr",a.frx="frx",a.fry="fry",a.frz="frz",a.fs="fs",a.fscx="fscx",a.fscy="fscy",a.fsp="fsp",a.i="i",a.iclip="iclip",a.kLowerCase="k",a.kUpperCase="K",a.kf="kf",a.ko="ko",a.move="move",a.org="org",a.p="p",a.pbo="pbo",a.pos="pos",a.q="q",a.r="r",a.s="s",a.shad="shad",a.t="t",a.text="text",a.u="u",a.unknown="unknown",a.xbord="xbord",a.xshad="xshad",a.ybord="ybord",a.yshad="yshad"})(b||(b={}));function ca(a,t){var $,L,B,m,N,D,Z,I,V,q,G,A,x,ae,Q,W,T,F,E,K,S,J,ee,M,R,P,ne,te,ie,ce,ue,O,fe,xe,Be,we,Fe,Ne,ta,je,Te,Ke,na,Xe,qe,c,ra,U,j,H,X;const n=a.substring(1),s=a.match(Jt);if(s&&s.length>0)return qr(a,t,n,s);const u=a.match(Bn);if(u&&u.length>0){const o=u[0];return t.push({name:b.text,value:o}),a=a.substring(o.length),a.length>0&&ca(a,t),t}const r=a.match(jr);if(!r||r.length==0)return t;function i(o,d,Y){return o.push(d),a=a.substring(Y),a.length>0&&ca(a,o),o}let e=($=r[0].match(Br))==null?void 0:$.groups;if(e!=null){const o=Number((e==null?void 0:e.move_x1)??"0"),d=Number((e==null?void 0:e.move_y1)??"0"),Y=Number((e==null?void 0:e.move_x2)??"0"),re=Number((e==null?void 0:e.move_y2)??"0"),pe=e!=null&&e.move_t1?Number(e.move_t1):null,ke=e!=null&&e.move_t2?Number(e.move_t2):null,ga={name:b.move,x1:o,y1:d,x2:Y,y2:re,t1:pe,t2:ke};return i(t,ga,r[0].length)}if(e=(L=r[0].match(Jn))==null?void 0:L.groups,e!=null){const o=(e==null?void 0:e.alpha_value)??"",d={name:b.alpha,value:o};return i(t,d,r[0].length)}if(e=(B=r[0].match(mr))==null?void 0:B.groups,e!=null){const o=Number((e==null?void 0:e.xbord_value)??"0"),d={name:b.xbord,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(m=r[0].match(xr))==null?void 0:m.groups,e!=null){const o=Number((e==null?void 0:e.ybord_value)??"0"),d={name:b.ybord,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(N=r[0].match(Ar))==null?void 0:N.groups,e!=null){const o=Number((e==null?void 0:e.xshad_value)??"0"),d={name:b.xshad,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(D=r[0].match(kr))==null?void 0:D.groups,e!=null){const o=Number((e==null?void 0:e.yshad_value)??"0"),d={name:b.yshad,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(Z=r[0].match(zr))==null?void 0:Z.groups,e!=null){const o=(e==null?void 0:e.iclip_args)??"",d={name:b.iclip,drawCommands:o};return i(t,d,r[0].length)}if(e=(I=r[0].match(hr))==null?void 0:I.groups,e!=null){const o=Number((e==null?void 0:e.blur_value)??"0"),d={name:b.blur,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(V=r[0].match(_r))==null?void 0:V.groups,e!=null){const o=Number((e==null?void 0:e.bord_value)??"0"),d={name:b.bord,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(q=r[0].match(yr))==null?void 0:q.groups,e!=null){const o=Number((e==null?void 0:e.shad_value)??"0"),d={name:b.shad,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(G=r[0].match(Cr))==null?void 0:G.groups,e!=null){const o=Number((e==null?void 0:e.fscx_value)??"0"),d={name:b.fscx,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(A=r[0].match(Er))==null?void 0:A.groups,e!=null){const o=Number((e==null?void 0:e.fscy_value)??"0"),d={name:b.fscy,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(x=r[0].match(Mr))==null?void 0:x.groups,e!=null){const o=Number((e==null?void 0:e.fade_alpha1)??"0"),d=Number((e==null?void 0:e.fade_alpha2)??"0"),Y=Number((e==null?void 0:e.fade_alpha3)??"0"),re=Number((e==null?void 0:e.fade_t1)??"0"),pe=Number((e==null?void 0:e.fade_t2)??"0"),ke=Number((e==null?void 0:e.fade_t3)??"0"),ga=Number((e==null?void 0:e.fade_t4)??"0"),en={name:b.fade,alpha1:o,alpha2:d,alpha3:Y,t1:re,t2:pe,t3:ke,t4:ga};return i(t,en,r[0].length)}if(e=(ae=r[0].match(Or))==null?void 0:ae.groups,e!=null){const o=(e==null?void 0:e.clip_args)??"",d={name:b.clip,drawCommands:o};return i(t,d,r[0].length)}if(e=(Q=r[0].match(Rr))==null?void 0:Q.groups,e!=null){const o=Number((e==null?void 0:e.fsp_value)??"0"),d={name:b.fsp,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(W=r[0].match(Vr))==null?void 0:W.groups,e!=null){const o=Number((e==null?void 0:e.pos_x)??"0"),d=Number((e==null?void 0:e.pos_y)??"0"),Y={name:b.pos,x:o,y:d};return i(t,Y,r[0].length)}if(e=(T=r[0].match(Ir))==null?void 0:T.groups,e!=null){const o=Number((e==null?void 0:e.org_x)??"0"),d=Number((e==null?void 0:e.org_y)??"0"),Y={name:b.org,x:o,y:d};return i(t,Y,r[0].length)}if(e=(F=r[0].match(Hr))==null?void 0:F.groups,e!=null){const o=Number((e==null?void 0:e.in)??"0"),d=Number((e==null?void 0:e.out)??"0"),Y={name:b.fad,in:o,out:d};return i(t,Y,r[0].length)}if(e=(E=r[0].match(Fr))==null?void 0:E.groups,e!=null){const o=Number((e==null?void 0:e.frx_value)??"0"),d={name:b.frx,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(K=r[0].match(Sr))==null?void 0:K.groups,e!=null){const o=Number((e==null?void 0:e.fry_value)??"0"),d={name:b.fry,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(S=r[0].match(Lr))==null?void 0:S.groups,e!=null){const o=Number((e==null?void 0:e.frz_value)??"0"),d={name:b.frz,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(J=r[0].match($r))==null?void 0:J.groups,e!=null){const o=Number((e==null?void 0:e.fax_value)??"0"),d={name:b.fax,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(ee=r[0].match(Nr))==null?void 0:ee.groups,e!=null){const o=Number((e==null?void 0:e.fay_value)??"0"),d={name:b.fay,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(M=r[0].match(vr))==null?void 0:M.groups,e!=null){const o=Number((e==null?void 0:e.pbo_value)??"0"),d={name:b.pbo,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(R=r[0].match(cr))==null?void 0:R.groups,e!=null){const o=Number((e==null?void 0:e.fe_value)??"0"),d={name:b.fe,encodingId:Number(o)};return i(t,d,r[0].length)}if(e=(P=r[0].match(dr))==null?void 0:P.groups,e!=null){const o=(e==null?void 0:e.fn_value)??"",d={name:b.fn,font:o};return i(t,d,r[0].length)}if(e=(ne=r[0].match(br))==null?void 0:ne.groups,e!=null){const o=Number((e==null?void 0:e.an_value)??"0"),d={name:b.an,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(te=r[0].match(gr))==null?void 0:te.groups,e!=null){const o=Number((e==null?void 0:e.be_value)??"0"),d={name:b.be,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(ie=r[0].match(wr))==null?void 0:ie.groups,e!=null){const o=Number((e==null?void 0:e.fr_value)??"0"),d={name:b.fr,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(ce=r[0].match(Dr))==null?void 0:ce.groups,e!=null){const o=Number((e==null?void 0:e.fs_value)??"0"),d={name:b.fs,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(ue=r[0].match(lr))==null?void 0:ue.groups,e!=null){const o=Number((e==null?void 0:e.ko_value)??"0"),d={name:b.ko,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(O=r[0].match(rr))==null?void 0:O.groups,e!=null){const o=Number((e==null?void 0:e.kf_value)??"0"),d={name:b.kf,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(fe=r[0].match(Xn))==null?void 0:fe.groups,e!=null){const o=Number(le((e==null?void 0:e.color1_bgr_blue)??"0")),d=Number(le((e==null?void 0:e.color1_bgr_green)??"0")),Y=Number(le((e==null?void 0:e.color1_bgr_red)??"0")),re={name:b.color1,blue:o,green:d,red:Y};return i(t,re,r[0].length)}if(e=(xe=r[0].match(qn))==null?void 0:xe.groups,e!=null){const o=Number(le((e==null?void 0:e.color2_bgr_blue)??"0")),d=Number(le((e==null?void 0:e.color2_bgr_green)??"0")),Y=Number(le((e==null?void 0:e.color2_bgr_red)??"0")),re={name:b.color2,blue:o,green:d,red:Y};return i(t,re,r[0].length)}if(e=(Be=r[0].match(Yn))==null?void 0:Be.groups,e!=null){const o=Number(le((e==null?void 0:e.color3_bgr_blue)??"0")),d=Number(le((e==null?void 0:e.color3_bgr_green)??"0")),Y=Number(le((e==null?void 0:e.color3_bgr_red)??"0")),re={name:b.color3,blue:o,green:d,red:Y};return i(t,re,r[0].length)}if(e=(we=r[0].match(Wn))==null?void 0:we.groups,e!=null){const o=Number(le((e==null?void 0:e.color4_bgr_blue)??"0")),d=Number(le((e==null?void 0:e.color4_bgr_green)??"0")),Y=Number(le((e==null?void 0:e.color4_bgr_red)??"0")),re={name:b.color4,blue:o,green:d,red:Y};return i(t,re,r[0].length)}if(e=(Fe=r[0].match(Zn))==null?void 0:Fe.groups,e!=null){const o=e.alpha1_value??"",d={name:b.alpha1,value:o};return i(t,d,r[0].length)}if(e=(Ne=r[0].match(Qn))==null?void 0:Ne.groups,e!=null){const o=e.alpha2_value??"",d={name:b.alpha2,value:o};return i(t,d,r[0].length)}if(e=(ta=r[0].match(er))==null?void 0:ta.groups,e!=null){const o=e.alpha3_value??"",d={name:b.alpha3,value:o};return i(t,d,r[0].length)}if(e=(je=r[0].match(ar))==null?void 0:je.groups,e!=null){const o=e.alpha4_value??"",d={name:b.alpha4,value:o};return i(t,d,r[0].length)}if(e=(Te=r[0].match(tr))==null?void 0:Te.groups,e!=null){const o=Number((e==null?void 0:e.k_lower_case_value)??"0"),d={name:b.kLowerCase,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(Ke=r[0].match(nr))==null?void 0:Ke.groups,e!=null){const o=Number((e==null?void 0:e.k_upper_case_value)??"0"),d={name:b.kUpperCase,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(na=r[0].match(or))==null?void 0:na.groups,e!=null){const o=Number((e==null?void 0:e.q_value)??"0"),d={name:b.q,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(Xe=r[0].match(sr))==null?void 0:Xe.groups,e!=null){const o=Number((e==null?void 0:e.s_value)??"0"),d={name:b.s,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(qe=r[0].match(ur))==null?void 0:qe.groups,e!=null){const o=Number((e==null?void 0:e.u_value)??"0"),d={name:b.u,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(c=r[0].match(ir))==null?void 0:c.groups,e!=null){const o=(e==null?void 0:e.r_value)??"",d={name:b.r,style:o};return i(t,d,r[0].length)}if(e=(ra=r[0].match(fr))==null?void 0:ra.groups,e!=null){const o=Number((e==null?void 0:e.p_value)??"0"),d={name:b.p,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(U=r[0].match(Tr))==null?void 0:U.groups,e!=null){const o=Number((e==null?void 0:e.i_value)??"0"),d={name:b.i,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(j=r[0].match(Kn))==null?void 0:j.groups,e!=null){const o=Number(le((e==null?void 0:e.color_bgr_blue)??"0")),d=Number(le((e==null?void 0:e.color_bgr_green)??"0")),Y=Number(le((e==null?void 0:e.color_bgr_red)??"0")),re={name:b.color,blue:o,green:d,red:Y};return i(t,re,r[0].length)}if(e=(H=r[0].match(pr))==null?void 0:H.groups,e!=null){const o=Number((e==null?void 0:e.b_value)??"0"),d={name:b.b,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}if(e=(X=r[0].match(Un))==null?void 0:X.groups,e!=null){const o=Number((e==null?void 0:e.a_value)??"0"),d={name:b.a,value:Number.isNaN(o)?0:o};return i(t,d,r[0].length)}const p=r[0],_={name:b.unknown,value:p};return i(t,_,r[0].length)}function qr(a,t,n,s){var u;if(n.startsWith(b.t)){const r=(u=s[0].match(Jt))==null?void 0:u.groups,i=(r==null?void 0:r.tags)??"",e=[];ca(i,e);const p=r!=null&&r.arg1?Number(r.arg1):null,_=r!=null&&r.arg2?Number(r.arg2):null,$=r!=null&&r.arg3?Number(r.arg3):null,L={name:b.t,accel:null,t1:null,t2:null,tags:e};p!==null&&_!==null&&$!==null?(L.t1=p,L.t2=_,L.accel=$):p!==null&&_!==null&&$===null?(L.t1=p,L.t2=_,L.accel=null):p!==null&&(L.accel=p),t.push(L)}return a=a.substring(s[0].length),a.length>0&&ca(a,t),t}function be(a){var s,u,r;const t=[],n=a.matchAll(Pn);for(const i of n){if((s=i.groups)!=null&&s.fx){const e=i.groups.fx.substring(1,i.groups.fx.length-1),p=[];ca(e,p),t.push({name:"effect",tags:p});continue}if((u=i.groups)!=null&&u.txt){t.push({name:"text",value:(r=i.groups)==null?void 0:r.txt});continue}}return t}function Zt(a){let t="";for(const n of a.tags)switch(n.name){case b.t:{const s={name:"effect",tags:n.tags},u=Zt(s);n.t1!==null&&n.t2!==null&&n.accel!==null?t+=`\\t(${n.t1},${n.t2},${n.accel},${u})`:n.t1!==null&&n.t2!==null&&n.accel===null?t+=`\\t(${n.t1},${n.t2},${u})`:n.accel!==null?t+=`\\t(${n.accel},${u})`:t+=`\\t(${u})`;break}case b.pos:case b.org:t+=`\\${n.name}(${n.x},${n.y})`;break;case b.move:t+=`\\move(${n.x1},${n.y1},${n.x2},${n.y2}`,n.t1!=null&&n.t2!=null&&(t+=`,${n.t1},${n.t2}`),t+=")";break;case b.clip:case b.iclip:t+=`\\${n.name}(${n.drawCommands})`;break;case b.fad:t+=`\\fad(${n.in},${n.out})`;break;case b.fade:t+=`\\fade(${n.alpha1},${n.alpha2},${n.alpha3},${n.t1},${n.t2},${n.t3},${n.t4})`;break;case b.fe:t+=`\\fe${n.encodingId}`;break;case b.fn:t+=`\\fn${n.font}`;break;case b.r:t+=`\\r${n.style}`;break;case b.color:case b.color1:case b.color2:case b.color3:case b.color4:{const s=va(n.blue),u=va(n.green),r=va(n.red);t+=`\\${n.name}&H${s}${u}${r}&`;break}case b.text:case b.unknown:t+=n.value;break;default:t+=`\\${n.name}${n.value}`;break}return t}function _e(a){let t="";for(const n of a){if(n.name=="text"){t+=n.value;continue}t+="{"+Zt(n)+"}"}return t}function Oa(a){const t=[];for(let n=0;n<a.length;n++){const s=a[n];if(s.name!="effect")continue;const u=a[n+1];if(u.name!="effect"){n++;continue}if(u==null)break;s.tags.push(...u.tags),t.push(n+1)}for(const n of t)a.splice(n,1)}function la(a){const t=a.find(u=>u.name=="effect");if((t==null?void 0:t.name)!="effect")return null;const n=b.pos,s=t.tags.find(u=>u.name==n);return(s==null?void 0:s.name)!=n?null:s}function Yr(a){const t=a.find(u=>u.name=="effect");if((t==null?void 0:t.name)!="effect")return null;const n=b.move,s=t.tags.find(u=>u.name==n);return(s==null?void 0:s.name)!=n?null:s}function Wr(a,t,n,s){const u={name:b.color,blue:t,green:n,red:s},[r,i]=Re(a,u.name,u);return r||(i.blue=t,i.green=n,i.red=s),i}function Jr(a,t,n,s){const u={name:b.color1,blue:t,green:n,red:s},[r,i]=Re(a,u.name,u);return r||(i.blue=t,i.green=n,i.red=s),i}function Zr(a,t,n,s){const u={name:b.color2,blue:t,green:n,red:s},[r,i]=Re(a,u.name,u);return r||(i.blue=t,i.green=n,i.red=s),i}function Qr(a,t,n,s){const u={name:b.color3,blue:t,green:n,red:s},[r,i]=Re(a,u.name,u);return r||(i.blue=t,i.green=n,i.red=s),i}function el(a,t,n,s){const u={name:b.color4,blue:t,green:n,red:s},[r,i]=Re(a,u.name,u);return r||(i.blue=t,i.green=n,i.red=s),i}function al(a,t){const n={name:b.alpha,value:t},[s,u]=Re(a,n.name,n);return s||(u.value=t),u}function tl(a,t){const n={name:b.alpha1,value:t},[s,u]=Re(a,n.name,n);return s||(u.value=t),u}function nl(a,t){const n={name:b.alpha2,value:t},[s,u]=Re(a,n.name,n);return s||(u.value=t),u}function rl(a,t){const n={name:b.alpha3,value:t},[s,u]=Re(a,n.name,n);return s||(u.value=t),u}function ll(a,t){const n={name:b.alpha4,value:t},[s,u]=Re(a,n.name,n);return s||(u.value=t),u}function ol(a,t,n){const s={name:b.pos,x:t,y:n},[u,r]=Re(a,s.name,s);return u||(r.x=t,r.y=n),r}function sl(a,t,n,s,u,r=null,i=null){const e={name:b.move,x1:t,y1:n,x2:s,y2:u,t1:r,t2:i},[p,_]=Re(a,e.name,e);return p||(_.x1=t,_.y1=n,_.x2=s,_.y2=u,_.t1=r,_.t2=i),_}function Re(a,t,n){const s=a.find(r=>r.name=="effect");if((s==null?void 0:s.name)!="effect")return a.unshift({name:"effect",tags:[n]}),[!0,n];const u=s.tags.find(r=>r.name==t);return(u==null?void 0:u.name)!=t?(s.tags.push(n),[!0,n]):[!1,u]}function ul(a,t){const n=a.find(u=>u.name=="effect");if((n==null?void 0:n.name)!="effect")return;const s=n.tags.findIndex(u=>u.name===t);s<0||n.tags.splice(s,1)}function Ue(a){const t=a.match(zn);if(t==null)return null;const n=t.groups,s=Pa((n==null?void 0:n.start)??"");if(s==null)return null;const u=Pa((n==null?void 0:n.end)??"");return u==null?null:{type:(n==null?void 0:n.type)??"",layer:Number((n==null?void 0:n.layer)??"0"),start:s,end:u,style:(n==null?void 0:n.style)??"",actor:(n==null?void 0:n.actor)??"",marginLeft:Number((n==null?void 0:n.marginLeft)??"0"),marginRight:Number((n==null?void 0:n.marginRight)??"0"),marginVertical:Number((n==null?void 0:n.marginVertical)??"0"),effect:(n==null?void 0:n.effect)??"",content:(n==null?void 0:n.content)??""}}function ge(a){let t=a.type;return t+=": ",t+=Math.floor(a.layer),t+=",",t+=Ba(a.start),t+=",",t+=Ba(a.end),t+=",",t+=a.style,t+=",",t+=a.actor,t+=",",t+=Math.floor(a.marginLeft),t+=",",t+=Math.floor(a.marginRight),t+=",",t+=Math.floor(a.marginVertical),t+=",",t+=a.effect,t+=",",t+=a.content,t}function il(a){return ba(a.end)-ba(a.start)}function De(a){const t=a.match(jn);if(t==null)return null;const n=t.groups;return{blue:le((n==null?void 0:n.color_bgr_blue)??""),green:le((n==null?void 0:n.color_bgr_green)??""),red:le((n==null?void 0:n.color_bgr_red)??"")}}var cl=Ae('<section class="svelte-jzi2e1"><h1 class="title is-5"></h1> <div class="field"><label class="label" for="">Movimiento base</label> <div class="control"><input class="input" type="text" placeholder="\\move(10,20,30,40)"></div></div> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function dl(a,t){Me(t,!1);const n=oe.copiarMovimiento;let s=k("Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\move(320,470,320,168,0,4963)}Urusai!"),u=k(""),r=k("");function i(){if(l(u).length==0){alert("Pega las líneas desde Aegisub para continuar.");return}const T=l(u).split(`
`);console.log(T);const F=Ue(l(s));if(F==null){console.error("invalid base line",l(s));return}const E=be(F.content),K=Yr(E);if(K==null){console.error("base move not found");return}const S=K.x2-K.x1,J=K.y2-K.y1;let ee="";for(let M=0;M<T.length;M++){const R=T[M];if(R.length==0)continue;const P=Ue(R);if(P==null){console.error(`line ${M+1}: invalid line`);break}const ne=be(P.content),te=la(ne);if(te==null){console.error(`line ${M+1}: pos not found`);break}ul(ne,b.pos);const ie=te.x,ce=te.y,ue=te.x+S,O=te.y+J;sl(ne,ie,ce,ue,O,K.t1,K.t2);const fe=_e(ne);P.content=fe;const xe=ge(P);console.log(xe),M>0&&(ee+=`
`),ee+=xe}v(r,ee)}async function e(){await navigator.clipboard.writeText(l(r)),alert("¡Líneas copiadas al portapapeles!")}Je(()=>{for(let T=1;T<=10;T++){const F=182+T*5,E=421+T*7;v(u,l(u)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(${F},${E})}LINEA ${T}
`)}}),He();var p=cl();We(T=>{Ze.title=n});var _=h(p);_.textContent=n;var $=y(_,2),L=y(h($),2),B=h(L);aa(B),g(L),g($);var m=y($,2),N=h(m),D=h(N,!0);g(N);var Z=y(N,2),I=h(Z);Ce(I),g(Z),g(m);var V=y(m,2),q=h(V,!0);g(V);var G=y(V,2),A=h(G),x=h(A),ae=y(x);g(A);var Q=y(A,2),W=h(Q);Ce(W),g(Q),g(G),g(p),Ee(()=>{ve(D,oe.subtitulos),ve(q,oe.copiarMovimiento),ve(x,`${oe.resultado} `)}),me(B,()=>l(s),T=>v(s,T)),me(I,()=>l(u),T=>v(u,T)),he("click",V,()=>i()),he("click",ae,()=>e()),he("keydown",ae,()=>{}),me(W,()=>l(r),T=>v(r,T)),se(a,p),Pe()}var fl=Ae(`<div class="text-column"><h1></h1> <div class="kagamin svelte-i9q0t3"><img src="img/kagamin.gif" alt="Lucky Star" title="Lucky Star" class="svelte-i9q0t3"></div> <p class="mt-2">Asu versión web, de <a href="https://github.com/FS-Frost" target="_blank">[FS] Frost</a> para <a href="http://syncrajo.net/" target="_blank">SyncRajo Fansub</a>.</p> <p class="mt-2">Agradecimientos por su ayuda a:</p> <ul><li>- [GX] Gonxas: hardcore testing y script para crear AVS.</li> <li>- [Sr] Hell: servicio de host.</li> <li>- [EC] DarkAngel: idea para separar sílabas en karaokes.</li></ul> <p class="mt-2">Asu es una herramienta para automatizar el procesamiento de subtítulos
        en formato SubStation Alpha Subtitles (SSA/ASS).</p> <p class="mt-2"><b>Visítanos en <a href="http://syncrajo.net/" target="_blank">http://syncrajo.net</a></b></p> <p class="mt-2">Versiones de Asu:</p> <ul><li><a href="https://github.com/FS-Frost/Asu.Utilidades" target="_blank">- (2014) Asu para .NET/C#</a></li> <li><a href="https://github.com/FS-Frost/asu-go2js" target="_blank">- (2022) Asu para Go y JavaScript</a></li> <li><a href="https://github.com/FS-Frost/asu-regex-js" target="_blank">- (2024) Asu para TypeScript</a></li></ul></div>`);function vl(a,t){Me(t,!1);const n=oe.acercaDe;He();var s=fl();We(r=>{Ze.title=n});var u=h(s);u.textContent=n,pa(16),g(s),se(a,s),Pe()}var bl=Ae('<img class="wallpaper svelte-1ic3zkr" src="img/hyouka.jpg" alt="Hyouka" title="Hyouka">');function pl(a){var t=bl();We(n=>{Ze.title="Asu"}),se(a,t)}var gl=Ae("<b> </b>"),hl=Ae('<div class="field alpha-box svelte-9wq0vr"><div class="svelte-9wq0vr"><label class="checkbox"><input type="checkbox"> <!></label></div> <div class="alpha-inputs svelte-9wq0vr"><div class="alpha-value svelte-9wq0vr"><label class="label" for="">Valor inicial</label> <div class="control"><input class="input" type="text"></div></div> <div class="alpha-value svelte-9wq0vr"><label class="label" for="">Valor Final</label> <div class="control"><input class="input" type="text"></div></div></div></div>');function Ie(a,t){Me(t,!1);let n=Qe(t,"label",8,""),s=Qe(t,"disabled",12,!1),u=Qe(t,"startValue",12,""),r=Qe(t,"endValue",12,""),i=Qe(t,"startPlaceholder",8,""),e=Qe(t,"endPlaceholder",8,""),p=k();const _=Nn();function $(){if(l(p).checked){L();return}B()}function L(){s()&&(s(!1),fa(p,l(p).checked=!0),_("enabled"))}function B(){s()||(s(!0),fa(p,l(p).checked=!1),_("disabled"))}Je(()=>{fa(p,l(p).checked=!s())}),He();var m=hl(),N=h(m),D=h(N),Z=h(D);Se(Z,F=>v(p,F),()=>l(p));var I=y(Z,2);{var V=F=>{var E=an();Ee(()=>ve(E,`${n()??""}
                (deshabilitado)`)),se(F,E)},q=F=>{var E=gl(),K=h(E,!0);g(E),Ee(()=>ve(K,n())),se(F,E)};Ve(I,F=>{s()?F(V):F(q,!1)})}g(D),g(N);var G=y(N,2),A=h(G),x=y(h(A),2),ae=h(x);aa(ae),g(x),g(A);var Q=y(A,2),W=y(h(Q),2),T=h(W);return aa(T),g(W),g(Q),g(G),g(m),Ee(()=>{ia(ae,"placeholder",i()),ae.disabled=s(),ia(T,"placeholder",e()),T.disabled=s()}),he("change",Z,()=>$()),me(ae,u),me(T,r),se(a,m),Ha(t,"enable",L),Ha(t,"disable",B),Pe({enable:L,disable:B})}function sa(a,t){const n=[];for(let s=a;s<=t;s++){const u=va(s);n.push(u)}return n}function ua(a,t,n){const s=Array(n),u=ya(a.blue,t.blue,n);if(u.length!==n)return console.error(`ERROR: blue interpolated values ${u.length} don't match intervals ${n}`),[];const r=ya(a.green,t.green,n);if(r.length!==n)return console.error(`ERROR: green interpolated values ${r.length} don't match intervals ${n}`),[];const i=ya(a.red,t.red,n);if(i.length!==n)return console.error(`ERROR: red interpolated values ${i.length} don't match intervals ${n}`),[];for(var e=0;e<n;e++){const p=Math.floor(u[e]),_=Math.floor(r[e]),$=Math.floor(i[e]);s[e]={blue:p,green:_,red:$}}return s}var _l=Ae('<i class="fa-solid fa-copy clickable" role="button" tabindex="0"></i>');function Qt(a,t){Me(t,!1);let n=Qe(t,"rawResultLines",8);async function s(){await navigator.clipboard.writeText(n()),alert(oe.lineasCopiadas)}He();var u=_l();Ee(()=>ia(u,"title",oe.copiar)),he("click",u,()=>s()),he("keydown",u,()=>{}),se(a,u),Pe()}var ml=Ae('<section class="svelte-do1mnp"><h1 class="title is-5"></h1> <label class="label" for="">Configuración alpha</label> <!> <!> <!> <!> <!> <label class="checkbox reverse svelte-do1mnp"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function xl(a,t){Me(t,!1);const n=oe.aplicarAlpha,s="0",u="FF";let r=k(""),i=k(""),e=k("0"),p=k("FF"),_=k("0"),$=k("FF"),L=k("0"),B=k("FF"),m=k("0"),N=k("FF"),D=k("0"),Z=k("FF"),I=k(!1),V=k(!0),q=k(!0),G=k(!0),A=k(!0),x=k(),ae=k(),Q=k(),W=k(),T=k(),F=k(!1);function E(){l(ae).disable(),l(Q).disable(),l(W).disable(),l(T).disable()}function K(){l(V)&&l(q)&&l(G)&&l(A)&&(l(ae).enable(),l(Q).disable(),l(W).disable(),l(T).disable())}function S(){l(x).disable()}function J(){l(V)&&l(q)&&l(G)&&l(A)&&l(x).enable()}function ee(){const c=[],ra=l(r).split(`
`);for(const U of ra){if(U.length==0)continue;const j=Ue(U);j!=null&&c.push(j)}if(!l(I)){const U=le(l(e)),j=le(l(p));if(U>=j){alert("El inicio de alpha total debe ser menor al fin.");return}if(U<0){alert("El inicio de alpha total debe ser mayor o igual a 00 (0).");return}if(j>255){alert("El fin de alpha total debe ser menor o igual a FF (255).");return}const H=sa(U,j);l(F)&&H.reverse();let X="";for(let o=0;o<c.length;o++){let d=Math.floor(H.length*o/c.length);d>=H.length&&(d=H.length-1);const re=`&H${H[d]}&`,pe=be(c[o].content);al(pe,re),c[o].content=_e(pe);const ke=ge(c[o]);o>0&&(X+=`
`),X+=ke}v(i,X);return}if(!l(V)){const U=le(l(_)),j=le(l($));if(U>=j){alert("El inicio de alpha 1 debe ser menor al fin.");return}if(U<0){alert("El inicio de alpha 1 debe ser mayor o igual a 00 (0).");return}if(j>255){alert("El fin de alpha 1 debe ser menor o igual a FF (255).");return}const H=sa(U,j);l(F)&&H.reverse();let X="";for(let o=0;o<c.length;o++){let d=Math.floor(H.length*o/c.length);d>=H.length&&(d=H.length-1);const re=`&H${H[d]}&`,pe=be(c[o].content);tl(pe,re),c[o].content=_e(pe);const ke=ge(c[o]);o>0&&(X+=`
`),X+=ke}v(i,X)}if(!l(q)){const U=le(l(L)),j=le(l(B));if(U>=j){alert("El inicio de alpha 2 debe ser menor al fin.");return}if(U<0){alert("El inicio de alpha 2 debe ser mayor o igual a 00 (0).");return}if(j>255){alert("El fin de alpha 2 debe ser menor o igual a FF (255).");return}const H=sa(U,j);l(F)&&H.reverse();let X="";for(let o=0;o<c.length;o++){let d=Math.floor(H.length*o/c.length);d>=H.length&&(d=H.length-1);const re=`&H${H[d]}&`,pe=be(c[o].content);nl(pe,re),c[o].content=_e(pe);const ke=ge(c[o]);o>0&&(X+=`
`),X+=ke}v(i,X)}if(!l(G)){const U=le(l(m)),j=le(l(N));if(U>=j){alert("El inicio de alpha 3 debe ser menor al fin.");return}if(U<0){alert("El inicio de alpha 3 debe ser mayor o igual a 00 (0).");return}if(j>255){alert("El fin de alpha 3 debe ser menor o igual a FF (255).");return}const H=sa(U,j);l(F)&&H.reverse();let X="";for(let o=0;o<c.length;o++){let d=Math.floor(H.length*o/c.length);d>=H.length&&(d=H.length-1);const re=`&H${H[d]}&`,pe=be(c[o].content);rl(pe,re),c[o].content=_e(pe);const ke=ge(c[o]);o>0&&(X+=`
`),X+=ke}v(i,X)}if(!l(A)){const U=le(l(D)),j=le(l(Z));if(U>=j){alert("El inicio de alpha 4 debe ser menor al fin.");return}if(U<0){alert("El inicio de alpha 4 debe ser mayor o igual a 00 (0).");return}if(j>255){alert("El fin de alpha 4 debe ser menor o igual a FF (255).");return}const H=sa(U,j);l(F)&&H.reverse();let X="";for(let o=0;o<c.length;o++){let d=Math.floor(H.length*o/c.length);d>=H.length&&(d=H.length-1);const re=`&H${H[d]}&`,pe=be(c[o].content);ll(pe,re),c[o].content=_e(pe);const ke=ge(c[o]);o>0&&(X+=`
`),X+=ke}v(i,X)}}Je(()=>{for(let c=1;c<=10;c++)v(r,l(r)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(182,421)}LINEA ${c}
`)}),He();var M=ml();We(c=>{Ze.title=n});var R=h(M);R.textContent=n;var P=y(R,4);Se(Ie(P,{label:"Alpha total",startPlaceholder:s,endPlaceholder:u,get startValue(){return l(e)},set startValue(c){v(e,c)},get endValue(){return l(p)},set endValue(c){v(p,c)},get disabled(){return l(I)},set disabled(c){v(I,c)},$$events:{enabled:()=>E(),disabled:()=>K()},$$legacy:!0}),c=>v(x,c),()=>l(x));var ne=y(P,2);Se(Ie(ne,{label:"Alpha 1",get startValue(){return l(_)},set startValue(c){v(_,c)},get endValue(){return l($)},set endValue(c){v($,c)},get disabled(){return l(V)},set disabled(c){v(V,c)},$$events:{enabled:()=>S(),disabled:()=>J()},$$legacy:!0}),c=>v(ae,c),()=>l(ae));var te=y(ne,2);Se(Ie(te,{label:"Alpha 2",startPlaceholder:s,endPlaceholder:u,get startValue(){return l(L)},set startValue(c){v(L,c)},get endValue(){return l(B)},set endValue(c){v(B,c)},get disabled(){return l(q)},set disabled(c){v(q,c)},$$events:{enabled:()=>S(),disabled:()=>J()},$$legacy:!0}),c=>v(Q,c),()=>l(Q));var ie=y(te,2);Se(Ie(ie,{label:"Alpha 3",startPlaceholder:s,endPlaceholder:u,get startValue(){return l(m)},set startValue(c){v(m,c)},get endValue(){return l(N)},set endValue(c){v(N,c)},get disabled(){return l(G)},set disabled(c){v(G,c)},$$events:{enabled:()=>S(),disabled:()=>J()},$$legacy:!0}),c=>v(W,c),()=>l(W));var ce=y(ie,2);Se(Ie(ce,{label:"Alpha 4",startPlaceholder:s,endPlaceholder:u,get startValue(){return l(D)},set startValue(c){v(D,c)},get endValue(){return l(Z)},set endValue(c){v(Z,c)},get disabled(){return l(A)},set disabled(c){v(A,c)},$$events:{enabled:()=>S(),disabled:()=>J()},$$legacy:!0}),c=>v(T,c),()=>l(T));var ue=y(ce,2),O=h(ue);aa(O),pa(),g(ue);var fe=y(ue,2),xe=h(fe),Be=h(xe,!0);g(xe);var we=y(xe,2),Fe=h(we);Ce(Fe),g(we),g(fe);var Ne=y(fe,2),ta=h(Ne,!0);g(Ne);var je=y(Ne,2),Te=h(je),Ke=h(Te),na=y(Ke);Qt(na,{get rawResultLines(){return l(i)}}),g(Te);var Xe=y(Te,2),qe=h(Xe);Ce(qe),g(Xe),g(je),g(M),Ee(()=>{ve(Be,oe.subtitulos),ve(ta,oe.aplicarAlpha),ve(Ke,`${oe.resultado} `)}),Ea(O,()=>l(F),c=>v(F,c)),me(Fe,()=>l(r),c=>v(r,c)),he("click",Ne,()=>ee()),me(qe,()=>l(i),c=>v(i,c)),se(a,M),Pe()}var yl=Ae('<section class="svelte-do1mnp"><h1 class="title is-5"></h1> <label class="label" for="">Configuración de color</label> <!> <!> <!> <!> <!> <label class="checkbox reverse svelte-do1mnp"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function Al(a,t){Me(t,!1);const n=oe.aplicarColor,s="&HFFFFFF&",u="&H000000&";let r=k(""),i=k(""),e=k(s),p=k(u),_=k(s),$=k(u),L=k(s),B=k(u),m=k(s),N=k(u),D=k(s),Z=k(u),I=k(!1),V=k(!0),q=k(!0),G=k(!0),A=k(!0),x=k(),ae=k(),Q=k(),W=k(),T=k(),F=k(!1);function E(){l(ae).disable(),l(Q).disable(),l(W).disable(),l(T).disable()}function K(){l(V)&&l(q)&&l(G)&&l(A)&&(l(ae).enable(),l(Q).disable(),l(W).disable(),l(T).disable())}function S(){l(x).disable()}function J(){l(V)&&l(q)&&l(G)&&l(A)&&l(x).enable()}function ee(){const c=[],ra=l(r).split(`
`);for(const U of ra){if(U.length==0)continue;const j=Ue(U);j!=null&&c.push(j)}if(!l(I)){const U=De(l(e));if(U==null){alert(`Color total de inicio inválido: ${l(e)}`);return}const j=De(l(p));if(j==null){alert(`Color total de fin inválido: ${l(p)}`);return}const H=ua(U,j,c.length);l(F)&&H.reverse();let X="";for(let o=0;o<c.length;o++){const d=H[o],Y=be(c[o].content);Wr(Y,d.blue,d.green,d.red),c[o].content=_e(Y);const re=ge(c[o]);o>0&&(X+=`
`),X+=re}v(i,X);return}if(!l(V)){const U=De(l(_));if(U==null){alert(`Color 1 de inicio inválido: ${l(_)}`);return}const j=De(l($));if(j==null){alert(`Color 1 de fin inválido: ${l($)}`);return}const H=ua(U,j,c.length);l(F)&&H.reverse();let X="";for(let o=0;o<c.length;o++){const d=H[o],Y=be(c[o].content);Jr(Y,d.blue,d.green,d.red),c[o].content=_e(Y);const re=ge(c[o]);o>0&&(X+=`
`),X+=re}v(i,X)}if(!l(q)){const U=De(l(L));if(U==null){alert(`Color 2 de inicio inválido: ${l(L)}`);return}const j=De(l(B));if(j==null){alert(`Color 2 de fin inválido: ${l(B)}`);return}const H=ua(U,j,c.length);l(F)&&H.reverse();let X="";for(let o=0;o<c.length;o++){const d=H[o],Y=be(c[o].content);Zr(Y,d.blue,d.green,d.red),c[o].content=_e(Y);const re=ge(c[o]);o>0&&(X+=`
`),X+=re}v(i,X)}if(!l(G)){const U=De(l(m));if(U==null){alert(`Color 3 de inicio inválido: ${l(m)}`);return}const j=De(l(N));if(j==null){alert(`Color 3 de fin inválido: ${l(N)}`);return}const H=ua(U,j,c.length);l(F)&&H.reverse();let X="";for(let o=0;o<c.length;o++){const d=H[o],Y=be(c[o].content);Qr(Y,d.blue,d.green,d.red),c[o].content=_e(Y);const re=ge(c[o]);o>0&&(X+=`
`),X+=re}v(i,X)}if(!l(A)){const U=De(l(D));if(U==null){alert(`Color 4 de inicio inválido: ${l(D)}`);return}const j=De(l(Z));if(j==null){alert(`Color 4 de fin inválido: ${l(Z)}`);return}const H=ua(U,j,c.length);l(F)&&H.reverse();let X="";for(let o=0;o<c.length;o++){const d=H[o],Y=be(c[o].content);el(Y,d.blue,d.green,d.red),c[o].content=_e(Y);const re=ge(c[o]);o>0&&(X+=`
`),X+=re}v(i,X)}}Je(()=>{v(r,l(r)+`Dialogue: 0,0:00:00.00,0:00:00.02,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.02,0:00:00.06,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.06,0:00:00.10,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.10,0:00:00.14,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.14,0:00:00.18,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.18,0:00:00.23,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.23,0:00:00.27,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.27,0:00:00.31,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+"Dialogue: 0,0:00:00.31,0:00:00.35,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO")}),He();var M=yl();We(c=>{Ze.title=n});var R=h(M);R.textContent=n;var P=y(R,4);Se(Ie(P,{label:"Color total",startPlaceholder:s,endPlaceholder:u,get startValue(){return l(e)},set startValue(c){v(e,c)},get endValue(){return l(p)},set endValue(c){v(p,c)},get disabled(){return l(I)},set disabled(c){v(I,c)},$$events:{enabled:()=>E(),disabled:()=>K()},$$legacy:!0}),c=>v(x,c),()=>l(x));var ne=y(P,2);Se(Ie(ne,{label:"Color 1",startPlaceholder:s,endPlaceholder:u,get startValue(){return l(_)},set startValue(c){v(_,c)},get endValue(){return l($)},set endValue(c){v($,c)},get disabled(){return l(V)},set disabled(c){v(V,c)},$$events:{enabled:()=>S(),disabled:()=>J()},$$legacy:!0}),c=>v(ae,c),()=>l(ae));var te=y(ne,2);Se(Ie(te,{label:"Color 2",startPlaceholder:s,endPlaceholder:u,get startValue(){return l(L)},set startValue(c){v(L,c)},get endValue(){return l(B)},set endValue(c){v(B,c)},get disabled(){return l(q)},set disabled(c){v(q,c)},$$events:{enabled:()=>S(),disabled:()=>J()},$$legacy:!0}),c=>v(Q,c),()=>l(Q));var ie=y(te,2);Se(Ie(ie,{label:"Color 3",startPlaceholder:s,endPlaceholder:u,get startValue(){return l(m)},set startValue(c){v(m,c)},get endValue(){return l(N)},set endValue(c){v(N,c)},get disabled(){return l(G)},set disabled(c){v(G,c)},$$events:{enabled:()=>S(),disabled:()=>J()},$$legacy:!0}),c=>v(W,c),()=>l(W));var ce=y(ie,2);Se(Ie(ce,{label:"Color 4",startPlaceholder:s,endPlaceholder:u,get startValue(){return l(D)},set startValue(c){v(D,c)},get endValue(){return l(Z)},set endValue(c){v(Z,c)},get disabled(){return l(A)},set disabled(c){v(A,c)},$$events:{enabled:()=>S(),disabled:()=>J()},$$legacy:!0}),c=>v(T,c),()=>l(T));var ue=y(ce,2),O=h(ue);aa(O),pa(),g(ue);var fe=y(ue,2),xe=h(fe),Be=h(xe,!0);g(xe);var we=y(xe,2),Fe=h(we);Ce(Fe),g(we),g(fe);var Ne=y(fe,2),ta=h(Ne,!0);g(Ne);var je=y(Ne,2),Te=h(je),Ke=h(Te),na=y(Ke);Qt(na,{get rawResultLines(){return l(i)}}),g(Te);var Xe=y(Te,2),qe=h(Xe);Ce(qe),g(Xe),g(je),g(M),Ee(()=>{ve(Be,oe.subtitulos),ve(ta,oe.aplicarColor),ve(Ke,`${oe.resultado} `)}),Ea(O,()=>l(F),c=>v(F,c)),me(Fe,()=>l(r),c=>v(r,c)),he("click",Ne,()=>ee()),me(qe,()=>l(i),c=>v(i,c)),se(a,M),Pe()}var kl=Ae('<section class="svelte-jzi2e1"><h1 class="title is-5"></h1> <div class="field"><label class="label" for="">Secuencia de posiciones</label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <label class="checkbox reverse"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function $l(a,t){Me(t,!1);const n=oe.aplicarSecuenciaPosiciones;let s=k(""),u=k(""),r=k(""),i=k(!1);function e(){if(l(u).length==0){alert("Pega las líneas desde Aegisub para continuar.");return}const S=[];{const M=l(s).split(`
`);for(const R of M){if(R.length==0)continue;const P=Ue(R);if(P==null)continue;const ne=be(P.content);if(la(ne)==null){alert(`Línea base sin \\pos copiada: '${R}'`),console.log(R);return}S.push(P)}}const J=[];{const M=l(u).split(`
`);for(const R of M){if(R.length==0)continue;const P=Ue(R);if(P==null)continue;const ne=be(P.content);if(la(ne)==null){alert(`Línea objetivo sin \\pos: '${R}'`),console.log(R);return}J.push(P)}}let ee="";for(let M=0;M<J.length;M++){const R=J[M],P=be(R.content),ne=la(P);if(ne==null){const O=ge(R);alert(`Línea objetivo sin \\pos: '${O}'`),console.log(O);return}let te=ne.x,ie=ne.y;l(i)&&S.reverse();const ce=p(S),ue=[];for(let O=0;O<S.length;O++){const fe=ce[O][0],xe=ce[O][1],Be=te+fe,we=ie+xe;te=Be,ie=we,ol(P,Be,we),R.content=_e(P);const Fe=S[O];R.start=Fe.start,R.end=Fe.end,ue.push(structuredClone(R))}l(i)&&(S.reverse(),ue.reverse());for(const O of ue)ee+=ge(O)+`
`}v(r,ee)}function p(S){const ee=[[0,0]];for(let M=0;M<S.length-1;M++){const R=S[M],P=S[M+1],ne=be(R.content),te=la(ne);if(te==null)return alert(`Línea base sin \\pos: '${ge(R)}'`),console.log(R),[];const ie=be(P.content),ce=la(ie);if(ce==null)return alert(`Línea base sin \\pos: '${ge(P)}'`),console.log(P),[];const ue=ce.x-te.x,O=ce.y-te.y;ee.push([ue,O])}return ee}async function _(){await navigator.clipboard.writeText(l(r)),alert("¡Líneas copiadas al portapapeles!")}Je(()=>{v(s,l(s)+`Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.6,593.8)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.08,0:23:58.12,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.55,589.69)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.12,0:23:58.16,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.56,585.4)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.16,0:23:58.20,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.41,581.09)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.20,0:23:58.24,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.31,576.78)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.24,0:23:58.29,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.22,572.39)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.29,0:23:58.33,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.06,568.18)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.33,0:23:58.37,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.13,563.34)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.37,0:23:58.41,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.99,558.77)}Tama:
`),v(s,l(s)+"Dialogue: 1,0:23:58.41,0:23:58.45,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.96,554.13)}Tama:"),v(u,"Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(1039.6,593.8)}LINEA")}),He();var $=kl();We(S=>{Ze.title=n});var L=h($);L.textContent=n;var B=y(L,2),m=y(h(B),2),N=h(m);Ce(N),g(m),g(B);var D=y(B,2),Z=h(D);aa(Z),pa(),g(D);var I=y(D,2),V=h(I),q=h(V,!0);g(V);var G=y(V,2),A=h(G);Ce(A),g(G),g(I);var x=y(I,2),ae=h(x,!0);g(x);var Q=y(x,2),W=h(Q),T=h(W),F=y(T);g(W);var E=y(W,2),K=h(E);Ce(K),g(E),g(Q),g($),Ee(()=>{ve(q,oe.subtitulos),ve(ae,oe.aplicarSecuenciaPosiciones),ve(T,`${oe.resultado} `)}),me(N,()=>l(s),S=>v(s,S)),Ea(Z,()=>l(i),S=>v(i,S)),me(A,()=>l(u),S=>v(u,S)),he("click",x,()=>e()),he("click",F,()=>_()),he("keydown",F,()=>{}),me(K,()=>l(r),S=>v(r,S)),se(a,$),Pe()}var Nl=Ae('<section class="svelte-jzi2e1"><h1 class="title is-5"></h1> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function Cl(a,t){Me(t,!1);const n=oe.dividirSilabas;let s=k(""),u=k("");function r(){if(l(s).length==0){alert("Pega las líneas desde Aegisub para continuar.");return}const x=l(s).split(`
`);let ae="";for(let Q=0;Q<x.length;Q++){const W=x[Q];if(W.length==0)continue;const T=Ue(W);if(T==null){console.error(`line ${Q+1}: invalid line`);break}Kr(T);const F=ge(T);Q>0&&(ae+=`
`),ae+=F}v(u,ae)}async function i(){await navigator.clipboard.writeText(l(u)),alert("¡Líneas copiadas al portapapeles!")}Je(()=>{v(s,l(s)+`Comment: 0,0:01:15.11,0:01:17.74,Romaji,,0,0,0,karaoke,dareka wo mamoreru watashi ni natte
`),v(s,l(s)+`Comment: 0,0:01:17.85,0:01:20.44,Romaji,,0,0,0,karaoke,mune wo hatte itsuka omoerun da
`),v(s,l(s)+`Comment: 0,0:01:20.58,0:01:30.42,Romaji,,0,0,0,karaoke,ano hi kimi ni deaete yokatta
`)}),He();var e=Nl();We(x=>{Ze.title=n});var p=h(e);p.textContent=n;var _=y(p,2),$=h(_),L=h($);g($);var B=y($,2),m=h(B);Ce(m),g(B),g(_);var N=y(_,2),D=h(N,!0);g(N);var Z=y(N,2),I=h(Z),V=h(I),q=y(V);g(I);var G=y(I,2),A=h(G);Ce(A),g(G),g(Z),g(e),Ee(()=>{ve(L,`${oe.subtitulos} (romaji)`),ve(D,oe.dividirSilabas),ve(V,`${oe.resultado} `)}),me(m,()=>l(s),x=>v(s,x)),he("click",N,()=>r()),he("click",q,()=>i()),he("keydown",q,()=>{}),me(A,()=>l(u),x=>v(u,x)),se(a,e),Pe()}var El=Ae("<button> </button>"),Rl=Ae('<p class="preview"> <b> </b></p>'),wl=Ae('<section class="svelte-jzi2e1"><h1 class="title is-5"></h1> <div class="field"><label class="label" for="">Karaoke</label> <div class="control"><input class="input" type="text"></div></div> <button class="button is-link is-fullwidth">Actualizar karaoke</button> <div class="mb-2"><label class="label" for="">Sílaba divisoria</label> <div class="buttons"></div></div> <div class="field"><label class="label" for="">Vista previa</label> <!></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function Fl(a,t){Me(t,!1);const n=oe.dividirKaraoke,s="Comment: 0,0:02:44.95,0:02:50.57,Romaji C,,0,0,0,karaoke,{\\kf32}ko{\\kf34}no {\\kf32}de{\\kf32}a{\\kf18}i {\\kf49}ga{\\kf31}{\\k0} {\\kf37}mi{\\kf31}n{\\kf34}na {\\kf19}wo {\\kf31}ka{\\kf34}e{\\kf63}ru {\\kf52}ka{\\kf33}na";let u=k(s),r=k([]),i=k(""),e=k([]),p=k(0);function _(){const E=Ue(l(u));if(E==null)return;const K=be(E.content);Oa(K);const S=0;let J=l(e)[l(p)].index+1,ee=0;for(let O=0;O<=l(p);O++){const fe=l(e)[O];fe.centiseconds!=null&&(ee+=fe.centiseconds)}const M=ba(E.start),R=ba(E.end),P=K.slice(S,J);E.content=_e(P);const ne=ee/100;E.end=Aa(M+ne),v(i,ge(E));let te=!0,ie=0;for(;te;){const O=K[J+1];if((O==null?void 0:O.name)!="text"){te=!1;break}if(te=O.value.replaceAll(" ","").length===0,te&&(J+=2,ie++),ie>l(e).length)break}let ce=0;for(let O=l(p)+1+ie;O<l(e).length;O++){const fe=l(e)[O];fe.centiseconds!=null&&(ce+=fe.centiseconds)}const ue=K.slice(J);E.end=Aa(R),E.start=Aa(R-ce/100),E.content=_e(ue),v(i,l(i)+(`
`+ge(E))),v(r,[_e(P.filter(O=>O.name=="text")),_e(ue.filter(O=>O.name=="text"))])}async function $(){await navigator.clipboard.writeText(l(i)),alert("¡Líneas copiadas al portapapeles!")}function L(){v(e,[]);const E=Ue(l(u));if(E==null)return[];const K=be(E.content);Oa(K);for(let S=0;S<K.length;S++){const J=K[S];if(J.name!="text")continue;l(e).push({index:S,text:J.value.replaceAll(" ",""),centiseconds:null});const ee=S-1;if(ee<0)continue;const M=K[ee];if(M.name!="effect")continue;const R=M.tags.find(ne=>ne.name===b.kLowerCase||ne.name===b.kUpperCase||ne.name===b.kf||ne.name===b.ko);R==null||!(R.name===b.kLowerCase||R.name===b.kUpperCase||R.name===b.kf||R.name===b.ko)||fa(e,l(e)[l(e).length-1].centiseconds=R.value)}return v(p,Math.floor(l(e).length/2)),l(e)}Je(()=>{L(),_()}),He();var B=wl();We(E=>{Ze.title=n});var m=h(B);m.textContent=n;var N=y(m,2),D=y(h(N),2),Z=h(D);aa(Z),ia(Z,"placeholder",s),g(D),g(N);var I=y(N,2),V=y(I,2),q=y(h(V),2);Va(q,5,()=>l(e),Da,(E,K,S)=>{var J=Oe(),ee=ze(J);{var M=R=>{var P=El(),ne=h(P,!0);g(P),Ee(()=>{Cn(P,`button ${(S===l(p)?"is-link":"")??""}`),ia(P,"title",`${l(K).text}: ${l(K).centiseconds} centésimas`),ve(ne,l(K).text)}),he("click",P,()=>{v(p,S),_()}),se(R,P)};Ve(ee,R=>{l(K).text.replaceAll(" ","").length>0&&R(M)})}se(E,J)}),g(q),g(V);var G=y(V,2),A=y(h(G),2);Va(A,1,()=>l(r),Da,(E,K,S)=>{var J=Rl(),ee=h(J);ee.nodeValue=`Línea ${S+1}: `;var M=y(ee),R=h(M,!0);g(M),g(J),Ee(()=>ve(R,l(K))),se(E,J)}),g(G);var x=y(G,2),ae=h(x),Q=h(ae),W=y(Q);g(ae);var T=y(ae,2),F=h(T);Ce(F),g(T),g(x),g(B),Ee(()=>ve(Q,`${oe.resultado} `)),me(Z,()=>l(u),E=>v(u,E)),he("click",I,()=>L()),he("click",W,()=>$()),he("keydown",W,()=>{}),me(F,()=>l(i),E=>v(i,E)),se(a,B),Pe()}function Sl(a,t){Me(t,!1);let n=k();Je(()=>{Ta.subscribe($=>{$!=null&&v(n,$)});const p=new URLSearchParams(location.search).get("pagina")??"",_=En(p)?p:"inicio";Ta.set(_)}),He();var s=Oe(),u=ze(s);{var r=e=>{pl(e)},i=e=>{var p=Oe(),_=ze(p);{var $=B=>{dl(B,{})},L=B=>{var m=Oe(),N=ze(m);{var D=I=>{$l(I,{})},Z=I=>{var V=Oe(),q=ze(V);{var G=x=>{xl(x,{})},A=x=>{var ae=Oe(),Q=ze(ae);{var W=F=>{Al(F,{})},T=F=>{var E=Oe(),K=ze(E);{var S=ee=>{Fl(ee,{})},J=ee=>{var M=Oe(),R=ze(M);{var P=te=>{Cl(te,{})},ne=te=>{var ie=Oe(),ce=ze(ie);{var ue=O=>{vl(O,{})};Ve(ce,O=>{l(n)=="acercaDe"&&O(ue)},!0)}se(te,ie)};Ve(R,te=>{l(n)=="karaokes.dividirSilabas"?te(P):te(ne,!1)},!0)}se(ee,M)};Ve(K,ee=>{l(n)=="karaokes.dividirKaraoke"?ee(S):ee(J,!1)},!0)}se(F,E)};Ve(Q,F=>{l(n)=="carteles.aplicarColor"?F(W):F(T,!1)},!0)}se(x,ae)};Ve(q,x=>{l(n)=="carteles.aplicarAlpha"?x(G):x(A,!1)},!0)}se(I,V)};Ve(N,I=>{l(n)=="carteles.aplicarSecuenciaPosiciones"?I(D):I(Z,!1)},!0)}se(B,m)};Ve(_,B=>{l(n)=="carteles.copiarMovimiento"?B($):B(L,!1)},!0)}se(e,p)};Ve(u,e=>{l(n)=="inicio"?e(r):e(i,!1)})}se(a,s),Pe()}var Ll=Ae('<section class="svelte-m85pha"><!></section>');function Bl(a){var t=Ll(),n=h(t);Sl(n,{}),g(t),se(a,t)}export{Bl as component,Pl as universal};
