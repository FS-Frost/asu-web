import{d as We,e as Je,a as ue,t as Ae,s as be,b as tn,c as Oe}from"../chunks/CHPeZmF2.js";import"../chunks/DofVL02i.js";import{ah as Fa,_ as Ra,ai as za,p as ka,H as Ge,M as ga,a7 as nn,al as rn,I as ln,G as on,g as l,K as sn,L as Sa,N as _a,R as oa,ar as un,aw as da,O as Ga,P as Ua,Q as cn,au as ja,y as dn,ax as Ea,ay as La,az as Ca,aA as fn,a8 as vn,aB as bn,aC as pn,aD as Ka,a4 as gn,v as _n,aE as hn,a5 as xn,j as Da,aF as mn,ak as yn,aG as kn,b as Xa,x as qa,z as Me,ae as Ze,l as v,aH as Qe,D as _,F as y,E as g,B as $e,C as Pe,ag as A,aI as ba,A as ze}from"../chunks/0l5v18O2.js";import{p as ra,i as Ie}from"../chunks/Di6verU3.js";import{p as E,b as Le}from"../chunks/q6-6kPPh.js";import{c as An,z as Ya,r as aa,d as we,t as se,b as ia,s as Nn,a as Ta,i as En}from"../chunks/CeFCZrFu.js";import{i as Cn}from"../chunks/DlzdOrAb.js";function $n(a){var t=za,n=ka;Fa(null),Ra(null);try{return a()}finally{Fa(t),Ra(n)}}function Wa(a,t,n,s=n){a.addEventListener(t,()=>$n(n));const i=a.__on_r;i?a.__on_r=()=>{i(),s(!0)}:a.__on_r=()=>s(!0),An()}function Va(a,t){return t}function wn(a,t,n,s){for(var i=[],r=t.length,c=0;c<r;c++)fn(t[c].e,i,!0);var e=r>0&&i.length===0&&n!==null;if(e){var p=n.parentNode;vn(p),p.append(n),s.clear(),Ye(a,t[0].prev,t[r-1].next)}bn(i,()=>{for(var h=0;h<r;h++){var k=t[h];e||(s.delete(k.k),Ye(a,k.prev,k.next)),pn(k.e,!e)}})}function Ia(a,t,n,s,i,r=null){var c=a,e={flags:t,items:new Map,first:null},p=(t&Ka)!==0;if(p){var h=a;c=Ge?ga(nn(h)):h.appendChild(rn())}Ge&&ln();var k=null,I=!1,G=gn(()=>{var m=n();return _n(m)?m:m==null?[]:ja(m)});on(()=>{var m=l(G),C=m.length;if(I&&C===0)return;I=C===0;let T=!1;if(Ge){var ae=c.data===sn;ae!==(C===0)&&(c=Sa(),ga(c),_a(!1),T=!0)}if(Ge){for(var P=null,H,X=0;X<C;X++){if(oa.nodeType===8&&oa.data===un){c=oa,T=!0,_a(!1);break}var U=m[X],N=s(U,X);H=Ja(oa,e,P,null,U,N,X,i,t),e.items.set(N,H),P=H}C>0&&ga(Sa())}if(!Ge){var x=za;Fn(m,e,c,i,t,(x.f&da)!==0,s)}r!==null&&(C===0?k?Ga(k):k=Ua(()=>r(c)):k!==null&&cn(k,()=>{k=null})),T&&_a(!0),l(G)}),Ge&&(c=oa)}function Fn(a,t,n,s,i,r,c,e){var Z,ee,O,S;var p=(i&hn)!==0,h=(i&(Ea|Ca))!==0,k=a.length,I=t.items,G=t.first,m=G,C,T=null,ae,P=[],H=[],X,U,N,x;if(p)for(x=0;x<k;x+=1)X=a[x],U=c(X,x),N=I.get(U),N!==void 0&&((Z=N.a)==null||Z.measure(),(ae??(ae=new Set)).add(N));for(x=0;x<k;x+=1){if(X=a[x],U=c(X,x),N=I.get(U),N===void 0){var re=m?m.e.nodes_start:n;T=Ja(re,t,T,T===null?t.first:T.next,X,U,x,s,i),I.set(U,T),P=[],H=[],m=T.next;continue}if(h&&Rn(N,X,x,i),N.e.f&da&&(Ga(N.e),p&&((ee=N.a)==null||ee.unfix(),(ae??(ae=new Set)).delete(N))),N!==m){if(C!==void 0&&C.has(N)){if(P.length<H.length){var Q=H[0],Y;T=Q.prev;var $=P[0],V=P[P.length-1];for(Y=0;Y<P.length;Y+=1)Ha(P[Y],Q,n);for(Y=0;Y<H.length;Y+=1)C.delete(H[Y]);Ye(t,$.prev,V.next),Ye(t,T,$),Ye(t,V,Q),m=Q,T=V,x-=1,P=[],H=[]}else C.delete(N),Ha(N,m,n),Ye(t,N.prev,N.next),Ye(t,N,T===null?t.first:T.next),Ye(t,T,N),T=N;continue}for(P=[],H=[];m!==null&&m.k!==U;)(r||!(m.e.f&da))&&(C??(C=new Set)).add(m),H.push(m),m=m.next;if(m===null)continue;N=m}P.push(N),T=N,m=N.next}if(m!==null||C!==void 0){for(var M=C===void 0?[]:ja(C);m!==null;)(r||!(m.e.f&da))&&M.push(m),m=m.next;var J=M.length;if(J>0){var D=i&Ka&&k===0?n:null;if(p){for(x=0;x<J;x+=1)(O=M[x].a)==null||O.measure();for(x=0;x<J;x+=1)(S=M[x].a)==null||S.fix()}wn(t,M,D,I)}}p&&dn(()=>{var z;if(ae!==void 0)for(N of ae)(z=N.a)==null||z.apply()}),ka.first=t.first&&t.first.e,ka.last=T&&T.e}function Rn(a,t,n,s){s&Ea&&La(a.v,t),s&Ca?La(a.i,n):a.i=n}function Ja(a,t,n,s,i,r,c,e,p,h){var k=(p&Ea)!==0,I=(p&mn)===0,G=k?I?xn(i):Da(i):i,m=p&Ca?Da(c):c,C={i:m,v:G,k:r,a:null,e:null,prev:n,next:s};try{return C.e=Ua(()=>e(a,G,m),Ge),C.e.prev=n&&n.e,C.e.next=s&&s.e,n===null?t.first=C:(n.next=C,n.e.next=C.e),s!==null&&(s.prev=C,s.e.prev=C.e),C}finally{}}function Ha(a,t,n){for(var s=a.next?a.next.e.nodes_start:n,i=t?t.e.nodes_start:n,r=a.e.nodes_start;r!==s;){var c=yn(r);i.before(r),r=c}}function Ye(a,t,n){t===null?a.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function me(a,t,n=t){var s=kn();Wa(a,"input",i=>{var r=i?a.defaultValue:a.value;if(r=ha(a)?xa(r):r,n(r),s&&r!==(r=t())){var c=a.selectionStart,e=a.selectionEnd;a.value=r??"",e!==null&&(a.selectionStart=c,a.selectionEnd=Math.min(e,a.value.length))}}),(Ge&&a.defaultValue!==a.value||Xa(t)==null&&a.value)&&n(ha(a)?xa(a.value):a.value),qa(()=>{var i=t();ha(a)&&i===xa(a.value)||a.type==="date"&&!i&&!a.value||i!==a.value&&(a.value=i??"")})}function $a(a,t,n=t){Wa(a,"change",s=>{var i=s?a.defaultChecked:a.checked;n(i)}),(Ge&&a.defaultChecked!==a.checked||Xa(t)==null)&&n(a.checked),qa(()=>{var s=t();a.checked=!!s})}function ha(a){var t=a.type;return t==="number"||t==="range"}function xa(a){return a===""?null:+a}const Sn=!0,no=Object.freeze(Object.defineProperty({__proto__:null,prerender:Sn},Symbol.toStringTag,{value:"Module"}));function oe(a){return parseInt(a,16)}function fa(a){return Math.floor(a).toString(16).padStart(2,"0").toUpperCase()}function ma(a,t,n){const s=a>t;let i=t,r=a;s&&(i=a,r=t);const e=(i-r)/n;let p=r;const h=[r];for(let k=1;k<n;k++)p+=e,h.push(p);return h[n-1]=i,s&&h.reverse(),h}const Ln=/^(\(.*\)|\\?.)$/,ea=a=>{const t=a.toString();return Ln.test(t)?t:`(?:${t})`},Dn=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,Tn=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,K=a=>{const t=n=>K(`(?<${n}>${`${a}`.replace(Dn,"$1$2")})`);return{toString:()=>a.toString(),and:Object.assign((...n)=>K(`${a}${f(...n)}`),{referenceTo:n=>K(`${a}\\k<${n}>`)}),or:(...n)=>K(`(?:${a}|${f(...n)})`),after:(...n)=>K(`(?<=${f(...n)})${a}`),before:(...n)=>K(`${a}(?=${f(...n)})`),notAfter:(...n)=>K(`(?<!${f(...n)})${a}`),notBefore:(...n)=>K(`${a}(?!${f(...n)})`),times:Object.assign(n=>K(`${ea(a)}{${n}}`),{any:()=>K(`${ea(a)}*`),atLeast:n=>K(`${ea(a)}{${n},}`),atMost:n=>K(`${ea(a)}{0,${n}}`),between:(n,s)=>K(`${ea(a)}{${n},${s}}`)}),optionally:()=>K(`${ea(a)}?`),as:t,groupedAs:t,grouped:()=>K(`${a}`.replace(Tn,"($1$3)$2")),at:{lineStart:()=>K(`^${a}`),lineEnd:()=>K(`${a}$`)}}},Vn=/[.*+?^${}()|[\]\\/]/g,Ee=a=>K(`[^${a.replace(/[-\\^\]]/g,"\\$&")}]`),In=(...a)=>K(`(?:${a.map(t=>f(t)).join("|")})`),Hn=K(".");K("\\b\\w+\\b");K("\\w");K("\\b");const De=K("\\d");K("\\s");const Mn=Object.assign(K("[a-zA-Z]"),{lowercase:K("[a-z]"),uppercase:K("[A-Z]")});K("\\t");K("\\n");K("\\r");K("\\W+"),K("\\W"),K("\\B"),K("\\D"),K("\\S"),Object.assign(K("[^a-zA-Z]"),{lowercase:K("[^a-z]"),uppercase:K("[^A-Z]")}),K("[^\\t]"),K("[^\\n]"),K("[^\\r]");const f=(...a)=>K(a.map(t=>typeof t=="string"?t.replace(Vn,"\\$&"):t).join("")),fe=(...a)=>K(`${ea(f(...a))}+`),R=(...a)=>{const t=a.length>1&&(Array.isArray(a[a.length-1])||a[a.length-1]instanceof Set)?a.pop():void 0;return new RegExp(f(...a).toString(),[...t||""].join(""))},Pn=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,Bn=/^[^\\]+/g,Za=/(?<sil>(?:sha|shi|shu|she|sho|cha|chi|chu|che|cho|tsu|kya|kyi|kyu|kye|kyo|gya|gyi|gyu|gye|gyo|sya|syu|syi|sye|syo|zya|zyu|zyi|zye|zyo|jya|jyu|jyi|jye|jyo|tya|tyi|tyu|tye|tyo|dya|dyi|dyu|dye|dyo|nya|nyi|nyu|nye|nyo|hya|hyi|hyu|hye|hyo|fya|fyi|fyu|fye|fyo|bya|byi|byu|bye|byo|pya|pyi|pyu|pye|pyo|mya|myi|myu|mye|myo|rya|ryi|ryu|rye|ryo|vya|vyi|vyu|vye|vyo|ka|ki|ku|ke|ko|ga|gi|gu|ge|go|sa|su|si|se|so|za|zu|zi|ze|zo|ja|ju|ji|je|jo|ta|ti|tu|te|to|da|di|du|de|do|na|ni|nu|ne|no|ha|hi|hu|he|ho|fa|fi|fu|fe|fo|ba|bi|bu|be|bo|pa|pi|pu|pe|po|ma|mi|mu|me|mo|ya|yi|yu|ye|yo|ra|ri|ru|re|ro|wa|wo|va|vi|vu|ve|vo|a|i|u|e|o|n|t)[^a-zA-Z\d\s:]*\s?)/g,Ma=fe(De).and(f(":")).and(De.times(2)).and(f(":")).and(De.times(2)).and(f(".")).and(De.times(2)),On=In("Dialogue","Comment").groupedAs("type").and(f(": ")).and(fe(De).optionally().groupedAs("layer")).and(f(",")).and(Ma.optionally().groupedAs("start")).and(f(",")).and(Ma.optionally().groupedAs("end")).and(f(",")).and(fe(Ee(",").optionally()).groupedAs("style")).and(f(",")).and(fe(Ee(",")).optionally().groupedAs("actor")).and(f(",")).and(fe(De).optionally().groupedAs("marginLeft")).and(f(",")).and(fe(De).optionally().groupedAs("marginRight")).and(f(",")).and(fe(De).optionally().groupedAs("marginVertical")).and(f(",")).and(fe(Ee(",")).optionally().groupedAs("effect")).and(f(",")).and(fe(Hn).optionally().groupedAs("content")),zn=R(On),Gn=f("-").optionally().and(fe(De)),L=Gn.and(f(".").and(fe(De)).optionally()),Qa=f("\\").and("a").and(L.groupedAs("a_value")),Un=R(Qa),ke=Mn.or(De).times(2),et=f("&H").and(ke.groupedAs("color_bgr_blue")).and(ke.groupedAs("color_bgr_green")).and(ke.groupedAs("color_bgr_red")).and(f("&")),at=f("\\c").and(et),tt=f("\\1c").and(f("&H")).and(ke.groupedAs("color1_bgr_blue")).and(ke.groupedAs("color1_bgr_green")).and(ke.groupedAs("color1_bgr_red")).and(f("&")),nt=f("\\2c").and(f("&H")).and(ke.groupedAs("color2_bgr_blue")).and(ke.groupedAs("color2_bgr_green")).and(ke.groupedAs("color2_bgr_red")).and(f("&")),rt=f("\\3c").and(f("&H")).and(ke.groupedAs("color3_bgr_blue")).and(ke.groupedAs("color3_bgr_green")).and(ke.groupedAs("color3_bgr_red")).and(f("&")),lt=f("\\4c").and(f("&H")).and(ke.groupedAs("color4_bgr_blue")).and(ke.groupedAs("color4_bgr_green")).and(ke.groupedAs("color4_bgr_red")).and(f("&")),jn=R(et),Kn=R(at),Xn=R(tt),qn=R(nt),Yn=R(rt),Wn=R(lt),ot=f("\\").and("alpha").and(fe(Ee("\\")).groupedAs("alpha_value")),Jn=R(ot),st=f("\\").and("1a").and(fe(Ee("\\")).groupedAs("alpha1_value")),Zn=R(st),ut=f("\\").and("2a").and(fe(Ee("\\")).groupedAs("alpha2_value")),Qn=R(ut),it=f("\\").and("3a").and(fe(Ee("\\")).groupedAs("alpha3_value")),er=R(it),ct=f("\\").and("4a").and(fe(Ee("\\")).groupedAs("alpha4_value")),ar=R(ct),dt=f("\\").and("k").and(L.groupedAs("k_lower_case_value")),tr=R(dt),ft=f("\\").and("K").and(L.groupedAs("k_upper_case_value")),nr=R(ft),vt=f("\\").and("kf").and(L.groupedAs("kf_value")),rr=R(vt),bt=f("\\").and("ko").and(L.groupedAs("ko_value")),lr=R(bt),pt=f("\\").and("q").and(L.groupedAs("q_value")),or=R(pt),gt=f("\\").and("s").and(L.groupedAs("s_value")),sr=R(gt),_t=f("\\").and("u").and(L.groupedAs("u_value")),ur=R(_t),ht=f("\\").and("r").and(fe(Ee("\\")).groupedAs("r_value")),ir=R(ht),xt=f("\\").and("fe").and(L.groupedAs("fe_value")),cr=R(xt),mt=f("\\").and("fn").and(fe(Ee("\\")).groupedAs("fn_value")),dr=R(mt),yt=f("\\").and("p").and(L.groupedAs("p_value")),fr=R(yt),kt=f("\\").and("pbo").and(L.groupedAs("pbo_value")),vr=R(kt),At=f("\\").and("an").and(L.groupedAs("an_value")),br=R(At),Nt=f("\\").and("b").and(L.groupedAs("b_value")),pr=R(Nt),Et=f("\\").and("be").and(L.groupedAs("be_value")),gr=R(Et),Ct=f("\\").and("blur").and(L.groupedAs("blur_value")),_r=R(Ct),$t=f("\\").and("bord").and(L.groupedAs("bord_value")),hr=R($t),wt=f("\\").and("xbord").and(L.groupedAs("xbord_value")),xr=R(wt),Ft=f("\\").and("ybord").and(L.groupedAs("ybord_value")),mr=R(Ft),Rt=f("\\").and("shad").and(L.groupedAs("shad_value")),yr=R(Rt),St=f("\\").and("xshad").and(L.groupedAs("xshad_value")),kr=R(St),Lt=f("\\").and("yshad").and(L.groupedAs("yshad_value")),Ar=R(Lt),Dt=f("\\").and("fax").and(L.groupedAs("fax_value")),Nr=R(Dt),Tt=f("\\").and("fay").and(L.groupedAs("fay_value")),Er=R(Tt),Vt=f("\\").and("fscx").and(L.groupedAs("fscx_value")),Cr=R(Vt),It=f("\\").and("fscy").and(L.groupedAs("fscy_value")),$r=R(It),Ht=f("\\").and("fsp").and(L.groupedAs("fsp_value")),wr=R(Ht),Mt=f("\\").and("fr").and(L.groupedAs("fr_value")),Fr=R(Mt),Pt=f("\\").and("frx").and(L.groupedAs("frx_value")),Rr=R(Pt),Bt=f("\\").and("fry").and(L.groupedAs("fry_value")),Sr=R(Bt),Ot=f("\\").and("frz").and(L.groupedAs("frz_value")),Lr=R(Ot),zt=f("\\").and("i").and(f("1").or("0").groupedAs("i_value")),Dr=R(zt),Gt=f("\\").and("fs").and(L.groupedAs("fs_value")),Tr=R(Gt),Ut=f("\\").and("pos").and(f("(")).and(L.groupedAs("pos_x")).and(f(",")).and(L.groupedAs("pos_y")).and(f(")")),Vr=R(Ut),jt=f("\\").and("org").and(f("(")).and(L.groupedAs("org_x")).and(f(",")).and(L.groupedAs("org_y")).and(f(")")),Ir=R(jt),Kt=f("\\").and("fad").and(f("(")).and(L.groupedAs("in")).and(f(",")).and(L.groupedAs("out")).and(f(")")),Hr=R(Kt),Xt=f("\\").and("fade").and(f("(")).and(L.groupedAs("fade_alpha1")).and(f(",")).and(L.groupedAs("fade_alpha2")).and(f(",")).and(L.groupedAs("fade_alpha3")).and(f(",")).and(L.groupedAs("fade_t1")).and(f(",")).and(L.groupedAs("fade_t2")).and(f(",")).and(L.groupedAs("fade_t3")).and(f(",")).and(L.groupedAs("fade_t4")).and(f(")")),Mr=R(Xt),Pr=f(",").and(L.groupedAs("move_t1")).and(f(",")).and(L.groupedAs("move_t2")).optionally(),qt=f("\\").and("move").and(f("(")).and(L.groupedAs("move_x1")).and(f(",")).and(L.groupedAs("move_y1")).and(f(",")).and(L.groupedAs("move_x2")).and(f(",")).and(L.groupedAs("move_y2")).and(Pr).and(f(")")),Br=R(qt),Yt=f("\\").and("clip").and(f("(")).and(fe(Ee(")")).groupedAs("clip_args")).and(f(")")),Or=R(Yt),Wt=f("\\").and("iclip").and(f("(")).and(fe(Ee(")")).groupedAs("iclip_args")).and(f(")")),zr=R(Wt),Gr=f("\\").and(fe(Ee("\\")).groupedAs("unknown_value")),Jt=Et.or(ot).or(wt).or(Ft).or(St).or(Lt).or(Wt).or(qt).or(Ct).or($t).or(Rt).or(Vt).or(It).or(Xt).or(Yt).or(Ht).or(Ut).or(jt).or(Kt).or(kt).or(Pt).or(Bt).or(Ot).or(Dt).or(Tt).or(bt).or(vt).or(Mt).or(Gt).or(xt).or(mt).or(At).or(tt).or(nt).or(rt).or(lt).or(st).or(ut).or(it).or(ct).or(at).or(pt).or(_t).or(gt).or(yt).or(ht).or(zt).or(Nt).or(Qa).or(dt).or(ft).or(Gr),Ur=f("\\").at.lineStart().and("t").and(f("(")).and(L.groupedAs("arg1").and(f(",")).optionally()).and(L.groupedAs("arg2").and(f(",")).optionally()).and(L.groupedAs("arg3").and(f(",")).optionally()).and(fe(Jt).groupedAs("tags")).and(f(")")),jr=R(Jt),Zt=R(Ur);function ya(a){const t=Math.floor(a/3600),n=Math.floor((a/3600-t)*60);return a=a-t*3600-n*60,{hours:t,minutes:n,seconds:a}}function Pa(a){var e,p,h;const t=/(?<h>\d+):(?<m>[0-9]{1,2}?):(?<s>[0-9]{1,2}(?:\.[0-9]{1,2})?)/,n=a.match(t);if(!n||n.length===0)return null;const s=Math.floor(Number(((e=n.groups)==null?void 0:e.h)??"0")),i=Math.floor(Number(((p=n.groups)==null?void 0:p.m)??"0")),r=Number(((h=n.groups)==null?void 0:h.s)??"0"),c={hours:s,minutes:i,seconds:r};return wa(c),c}function wa(a){a.seconds>=60&&(a.seconds-=60,a.minutes++),a.minutes>=60&&(a.minutes-=60,a.hours++),a.hours>=9&&(a.hours=9,a.minutes=59,a.seconds=59.99)}function Ba(a){wa(a);const t=a.hours.toFixed(0),n=a.minutes.toFixed(0).padStart(2,"0"),s=a.seconds.toFixed(2).padStart(5,"0");return`${t}:${n}:${s}`}function va(a){return wa(a),a.hours*3600+a.minutes*60+a.seconds}var Aa;(function(a){a[a.DOWN_LEFT=1]="DOWN_LEFT",a[a.DOWN_CENTER=2]="DOWN_CENTER",a[a.DOWN_RIGHT=3]="DOWN_RIGHT",a[a.CENTER_LEFT=4]="CENTER_LEFT",a[a.CENTER_CENTER=5]="CENTER_CENTER",a[a.CENTER_RIGHT=6]="CENTER_RIGHT",a[a.UP_LEFT=7]="UP_LEFT",a[a.UP_CENTER=8]="UP_CENTER",a[a.UP_RIGHT=9]="UP_RIGHT"})(Aa||(Aa={}));Ya.nativeEnum(Aa);var Na;(function(a){a[a.ANSI=0]="ANSI",a[a.DEFAULT=1]="DEFAULT",a[a.SYMBOL=2]="SYMBOL",a[a.MAC=77]="MAC",a[a.SHIFT_JIS=128]="SHIFT_JIS",a[a.HANGEUL=129]="HANGEUL",a[a.JOHAB=130]="JOHAB",a[a.GB2312=134]="GB2312",a[a.CHINESE_BIG5=136]="CHINESE_BIG5",a[a.GREEK=161]="GREEK",a[a.TURKISH=162]="TURKISH",a[a.VIETNAMESE=163]="VIETNAMESE",a[a.HEBREW=177]="HEBREW",a[a.ARAB=178]="ARAB",a[a.BALTIC=186]="BALTIC",a[a.RUSSIAN=204]="RUSSIAN",a[a.THAI=222]="THAI",a[a.EASTERN_EUROPE=238]="EASTERN_EUROPE",a[a.OEM=255]="OEM"})(Na||(Na={}));Ya.nativeEnum(Na);function Kr(a){const t=[],n=a.content.split(" ");for(let p=0;p<n.length;p++){const h=n[p];if(Xr(h)){const k=h.matchAll(Za);for(const I of k)t.push({text:I[1],durationInMs:0})}else t.push({text:h,durationInMs:0});p!=n.length-1&&(t[t.length-1].text+=" ")}const s=il(a),i=Math.floor(Math.round(s*100/t.length)),r=t.length*i;for(const p of t)p.durationInMs=i;if(!(r===s*100)){const h=s*100-r;t[t.length-1].durationInMs+=h}const e=[];for(const p of t)e.push({name:"effect",tags:[{name:b.kf,value:p.durationInMs}]},{name:"text",value:p.text});a.content=xe(e)}function Xr(a){for(;a.length>0;){const t=a.match(Za);if(!t||t.length===0)return!1;a=a.substring(t[0].length)}return!0}var b;(function(a){a.a="a",a.alpha="alpha",a.alpha1="1a",a.alpha2="2a",a.alpha3="3a",a.alpha4="4a",a.an="an",a.b="b",a.be="be",a.blur="blur",a.bord="bord",a.clip="clip",a.color="c",a.color1="1c",a.color2="2c",a.color3="3c",a.color4="4c",a.fad="fad",a.fade="fade",a.fax="fax",a.fay="fay",a.fe="fe",a.fn="fn",a.fr="fr",a.frx="frx",a.fry="fry",a.frz="frz",a.fs="fs",a.fscx="fscx",a.fscy="fscy",a.fsp="fsp",a.i="i",a.iclip="iclip",a.kLowerCase="k",a.kUpperCase="K",a.kf="kf",a.ko="ko",a.move="move",a.org="org",a.p="p",a.pbo="pbo",a.pos="pos",a.q="q",a.r="r",a.s="s",a.shad="shad",a.t="t",a.text="text",a.u="u",a.unknown="unknown",a.xbord="xbord",a.xshad="xshad",a.ybord="ybord",a.yshad="yshad"})(b||(b={}));function ca(a,t){var k,I,G,m,C,T,ae,P,H,X,U,N,x,re,Q,Y,$,V,M,J,D,Z,ee,O,S,z,ne,te,ce,de,ie,j,ve,ye,Be,Re,Se,Ce,ta,je,Te,Ke,na,Xe,qe,u,ge,w,F,B,q;const n=a.substring(1),s=a.match(Zt);if(s&&s.length>0)return qr(a,t,n,s);const i=a.match(Bn);if(i&&i.length>0){const o=i[0];return t.push({name:b.text,value:o}),a=a.substring(o.length),a.length>0&&ca(a,t),t}const r=a.match(jr);if(!r||r.length==0)return t;function c(o,d,W){return o.push(d),a=a.substring(W),a.length>0&&ca(a,o),o}let e=(k=r[0].match(Br))==null?void 0:k.groups;if(e!=null){const o=Number((e==null?void 0:e.move_x1)??"0"),d=Number((e==null?void 0:e.move_y1)??"0"),W=Number((e==null?void 0:e.move_x2)??"0"),le=Number((e==null?void 0:e.move_y2)??"0"),_e=e!=null&&e.move_t1?Number(e.move_t1):null,Ne=e!=null&&e.move_t2?Number(e.move_t2):null,pa={name:b.move,x1:o,y1:d,x2:W,y2:le,t1:_e,t2:Ne};return c(t,pa,r[0].length)}if(e=(I=r[0].match(Jn))==null?void 0:I.groups,e!=null){const o=(e==null?void 0:e.alpha_value)??"",d={name:b.alpha,value:o};return c(t,d,r[0].length)}if(e=(G=r[0].match(xr))==null?void 0:G.groups,e!=null){const o=Number((e==null?void 0:e.xbord_value)??"0"),d={name:b.xbord,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(m=r[0].match(mr))==null?void 0:m.groups,e!=null){const o=Number((e==null?void 0:e.ybord_value)??"0"),d={name:b.ybord,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(C=r[0].match(kr))==null?void 0:C.groups,e!=null){const o=Number((e==null?void 0:e.xshad_value)??"0"),d={name:b.xshad,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(T=r[0].match(Ar))==null?void 0:T.groups,e!=null){const o=Number((e==null?void 0:e.yshad_value)??"0"),d={name:b.yshad,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(ae=r[0].match(zr))==null?void 0:ae.groups,e!=null){const o=(e==null?void 0:e.iclip_args)??"",d={name:b.iclip,drawCommands:o};return c(t,d,r[0].length)}if(e=(P=r[0].match(_r))==null?void 0:P.groups,e!=null){const o=Number((e==null?void 0:e.blur_value)??"0"),d={name:b.blur,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(H=r[0].match(hr))==null?void 0:H.groups,e!=null){const o=Number((e==null?void 0:e.bord_value)??"0"),d={name:b.bord,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(X=r[0].match(yr))==null?void 0:X.groups,e!=null){const o=Number((e==null?void 0:e.shad_value)??"0"),d={name:b.shad,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(U=r[0].match(Cr))==null?void 0:U.groups,e!=null){const o=Number((e==null?void 0:e.fscx_value)??"0"),d={name:b.fscx,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(N=r[0].match($r))==null?void 0:N.groups,e!=null){const o=Number((e==null?void 0:e.fscy_value)??"0"),d={name:b.fscy,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(x=r[0].match(Mr))==null?void 0:x.groups,e!=null){const o=Number((e==null?void 0:e.fade_alpha1)??"0"),d=Number((e==null?void 0:e.fade_alpha2)??"0"),W=Number((e==null?void 0:e.fade_alpha3)??"0"),le=Number((e==null?void 0:e.fade_t1)??"0"),_e=Number((e==null?void 0:e.fade_t2)??"0"),Ne=Number((e==null?void 0:e.fade_t3)??"0"),pa=Number((e==null?void 0:e.fade_t4)??"0"),an={name:b.fade,alpha1:o,alpha2:d,alpha3:W,t1:le,t2:_e,t3:Ne,t4:pa};return c(t,an,r[0].length)}if(e=(re=r[0].match(Or))==null?void 0:re.groups,e!=null){const o=(e==null?void 0:e.clip_args)??"",d={name:b.clip,drawCommands:o};return c(t,d,r[0].length)}if(e=(Q=r[0].match(wr))==null?void 0:Q.groups,e!=null){const o=Number((e==null?void 0:e.fsp_value)??"0"),d={name:b.fsp,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(Y=r[0].match(Vr))==null?void 0:Y.groups,e!=null){const o=Number((e==null?void 0:e.pos_x)??"0"),d=Number((e==null?void 0:e.pos_y)??"0"),W={name:b.pos,x:o,y:d};return c(t,W,r[0].length)}if(e=($=r[0].match(Ir))==null?void 0:$.groups,e!=null){const o=Number((e==null?void 0:e.org_x)??"0"),d=Number((e==null?void 0:e.org_y)??"0"),W={name:b.org,x:o,y:d};return c(t,W,r[0].length)}if(e=(V=r[0].match(Hr))==null?void 0:V.groups,e!=null){const o=Number((e==null?void 0:e.in)??"0"),d=Number((e==null?void 0:e.out)??"0"),W={name:b.fad,in:o,out:d};return c(t,W,r[0].length)}if(e=(M=r[0].match(Rr))==null?void 0:M.groups,e!=null){const o=Number((e==null?void 0:e.frx_value)??"0"),d={name:b.frx,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(J=r[0].match(Sr))==null?void 0:J.groups,e!=null){const o=Number((e==null?void 0:e.fry_value)??"0"),d={name:b.fry,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(D=r[0].match(Lr))==null?void 0:D.groups,e!=null){const o=Number((e==null?void 0:e.frz_value)??"0"),d={name:b.frz,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(Z=r[0].match(Nr))==null?void 0:Z.groups,e!=null){const o=Number((e==null?void 0:e.fax_value)??"0"),d={name:b.fax,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(ee=r[0].match(Er))==null?void 0:ee.groups,e!=null){const o=Number((e==null?void 0:e.fay_value)??"0"),d={name:b.fay,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(O=r[0].match(vr))==null?void 0:O.groups,e!=null){const o=Number((e==null?void 0:e.pbo_value)??"0"),d={name:b.pbo,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(S=r[0].match(cr))==null?void 0:S.groups,e!=null){const o=Number((e==null?void 0:e.fe_value)??"0"),d={name:b.fe,encodingId:Number(o)};return c(t,d,r[0].length)}if(e=(z=r[0].match(dr))==null?void 0:z.groups,e!=null){const o=(e==null?void 0:e.fn_value)??"",d={name:b.fn,font:o};return c(t,d,r[0].length)}if(e=(ne=r[0].match(br))==null?void 0:ne.groups,e!=null){const o=Number((e==null?void 0:e.an_value)??"0"),d={name:b.an,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(te=r[0].match(gr))==null?void 0:te.groups,e!=null){const o=Number((e==null?void 0:e.be_value)??"0"),d={name:b.be,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(ce=r[0].match(Fr))==null?void 0:ce.groups,e!=null){const o=Number((e==null?void 0:e.fr_value)??"0"),d={name:b.fr,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(de=r[0].match(Tr))==null?void 0:de.groups,e!=null){const o=Number((e==null?void 0:e.fs_value)??"0"),d={name:b.fs,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(ie=r[0].match(lr))==null?void 0:ie.groups,e!=null){const o=Number((e==null?void 0:e.ko_value)??"0"),d={name:b.ko,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(j=r[0].match(rr))==null?void 0:j.groups,e!=null){const o=Number((e==null?void 0:e.kf_value)??"0"),d={name:b.kf,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(ve=r[0].match(Xn))==null?void 0:ve.groups,e!=null){const o=Number(oe((e==null?void 0:e.color1_bgr_blue)??"0")),d=Number(oe((e==null?void 0:e.color1_bgr_green)??"0")),W=Number(oe((e==null?void 0:e.color1_bgr_red)??"0")),le={name:b.color1,blue:o,green:d,red:W};return c(t,le,r[0].length)}if(e=(ye=r[0].match(qn))==null?void 0:ye.groups,e!=null){const o=Number(oe((e==null?void 0:e.color2_bgr_blue)??"0")),d=Number(oe((e==null?void 0:e.color2_bgr_green)??"0")),W=Number(oe((e==null?void 0:e.color2_bgr_red)??"0")),le={name:b.color2,blue:o,green:d,red:W};return c(t,le,r[0].length)}if(e=(Be=r[0].match(Yn))==null?void 0:Be.groups,e!=null){const o=Number(oe((e==null?void 0:e.color3_bgr_blue)??"0")),d=Number(oe((e==null?void 0:e.color3_bgr_green)??"0")),W=Number(oe((e==null?void 0:e.color3_bgr_red)??"0")),le={name:b.color3,blue:o,green:d,red:W};return c(t,le,r[0].length)}if(e=(Re=r[0].match(Wn))==null?void 0:Re.groups,e!=null){const o=Number(oe((e==null?void 0:e.color4_bgr_blue)??"0")),d=Number(oe((e==null?void 0:e.color4_bgr_green)??"0")),W=Number(oe((e==null?void 0:e.color4_bgr_red)??"0")),le={name:b.color4,blue:o,green:d,red:W};return c(t,le,r[0].length)}if(e=(Se=r[0].match(Zn))==null?void 0:Se.groups,e!=null){const o=e.alpha1_value??"",d={name:b.alpha1,value:o};return c(t,d,r[0].length)}if(e=(Ce=r[0].match(Qn))==null?void 0:Ce.groups,e!=null){const o=e.alpha2_value??"",d={name:b.alpha2,value:o};return c(t,d,r[0].length)}if(e=(ta=r[0].match(er))==null?void 0:ta.groups,e!=null){const o=e.alpha3_value??"",d={name:b.alpha3,value:o};return c(t,d,r[0].length)}if(e=(je=r[0].match(ar))==null?void 0:je.groups,e!=null){const o=e.alpha4_value??"",d={name:b.alpha4,value:o};return c(t,d,r[0].length)}if(e=(Te=r[0].match(tr))==null?void 0:Te.groups,e!=null){const o=Number((e==null?void 0:e.k_lower_case_value)??"0"),d={name:b.kLowerCase,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(Ke=r[0].match(nr))==null?void 0:Ke.groups,e!=null){const o=Number((e==null?void 0:e.k_upper_case_value)??"0"),d={name:b.kUpperCase,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(na=r[0].match(or))==null?void 0:na.groups,e!=null){const o=Number((e==null?void 0:e.q_value)??"0"),d={name:b.q,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(Xe=r[0].match(sr))==null?void 0:Xe.groups,e!=null){const o=Number((e==null?void 0:e.s_value)??"0"),d={name:b.s,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(qe=r[0].match(ur))==null?void 0:qe.groups,e!=null){const o=Number((e==null?void 0:e.u_value)??"0"),d={name:b.u,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(u=r[0].match(ir))==null?void 0:u.groups,e!=null){const o=(e==null?void 0:e.r_value)??"",d={name:b.r,style:o};return c(t,d,r[0].length)}if(e=(ge=r[0].match(fr))==null?void 0:ge.groups,e!=null){const o=Number((e==null?void 0:e.p_value)??"0"),d={name:b.p,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(w=r[0].match(Dr))==null?void 0:w.groups,e!=null){const o=Number((e==null?void 0:e.i_value)??"0"),d={name:b.i,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(F=r[0].match(Kn))==null?void 0:F.groups,e!=null){const o=Number(oe((e==null?void 0:e.color_bgr_blue)??"0")),d=Number(oe((e==null?void 0:e.color_bgr_green)??"0")),W=Number(oe((e==null?void 0:e.color_bgr_red)??"0")),le={name:b.color,blue:o,green:d,red:W};return c(t,le,r[0].length)}if(e=(B=r[0].match(pr))==null?void 0:B.groups,e!=null){const o=Number((e==null?void 0:e.b_value)??"0"),d={name:b.b,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}if(e=(q=r[0].match(Un))==null?void 0:q.groups,e!=null){const o=Number((e==null?void 0:e.a_value)??"0"),d={name:b.a,value:Number.isNaN(o)?0:o};return c(t,d,r[0].length)}const p=r[0],h={name:b.unknown,value:p};return c(t,h,r[0].length)}function qr(a,t,n,s){var i;if(n.startsWith(b.t)){const r=(i=s[0].match(Zt))==null?void 0:i.groups,c=(r==null?void 0:r.tags)??"",e=[];ca(c,e);const p=r!=null&&r.arg1?Number(r.arg1):null,h=r!=null&&r.arg2?Number(r.arg2):null,k=r!=null&&r.arg3?Number(r.arg3):null,I={name:b.t,accel:null,t1:null,t2:null,tags:e};p!==null&&h!==null&&k!==null?(I.t1=p,I.t2=h,I.accel=k):p!==null&&h!==null&&k===null?(I.t1=p,I.t2=h,I.accel=null):p!==null&&(I.accel=p),t.push(I)}return a=a.substring(s[0].length),a.length>0&&ca(a,t),t}function pe(a){var s,i,r;const t=[],n=a.matchAll(Pn);for(const c of n){if((s=c.groups)!=null&&s.fx){const e=c.groups.fx.substring(1,c.groups.fx.length-1),p=[];ca(e,p),t.push({name:"effect",tags:p});continue}if((i=c.groups)!=null&&i.txt){t.push({name:"text",value:(r=c.groups)==null?void 0:r.txt});continue}}return t}function Qt(a){let t="";for(const n of a.tags)switch(n.name){case b.t:{const s={name:"effect",tags:n.tags},i=Qt(s);n.t1!==null&&n.t2!==null&&n.accel!==null?t+=`\\t(${n.t1},${n.t2},${n.accel},${i})`:n.t1!==null&&n.t2!==null&&n.accel===null?t+=`\\t(${n.t1},${n.t2},${i})`:n.accel!==null?t+=`\\t(${n.accel},${i})`:t+=`\\t(${i})`;break}case b.pos:case b.org:t+=`\\${n.name}(${n.x},${n.y})`;break;case b.move:t+=`\\move(${n.x1},${n.y1},${n.x2},${n.y2}`,n.t1!=null&&n.t2!=null&&(t+=`,${n.t1},${n.t2}`),t+=")";break;case b.clip:case b.iclip:t+=`\\${n.name}(${n.drawCommands})`;break;case b.fad:t+=`\\fad(${n.in},${n.out})`;break;case b.fade:t+=`\\fade(${n.alpha1},${n.alpha2},${n.alpha3},${n.t1},${n.t2},${n.t3},${n.t4})`;break;case b.fe:t+=`\\fe${n.encodingId}`;break;case b.fn:t+=`\\fn${n.font}`;break;case b.r:t+=`\\r${n.style}`;break;case b.color:case b.color1:case b.color2:case b.color3:case b.color4:{const s=fa(n.blue),i=fa(n.green),r=fa(n.red);t+=`\\${n.name}&H${s}${i}${r}&`;break}case b.text:case b.unknown:t+=n.value;break;default:t+=`\\${n.name}${n.value}`;break}return t}function xe(a){let t="";for(const n of a){if(n.name=="text"){t+=n.value;continue}t+="{"+Qt(n)+"}"}return t}function Oa(a){const t=[];for(let n=0;n<a.length;n++){const s=a[n];if(s.name!="effect")continue;const i=a[n+1];if(i.name!="effect"){n++;continue}if(i==null)break;s.tags.push(...i.tags),t.push(n+1)}for(const n of t)a.splice(n,1)}function la(a){const t=a.find(i=>i.name=="effect");if((t==null?void 0:t.name)!="effect")return null;const n=b.pos,s=t.tags.find(i=>i.name==n);return(s==null?void 0:s.name)!=n?null:s}function Yr(a){const t=a.find(i=>i.name=="effect");if((t==null?void 0:t.name)!="effect")return null;const n=b.move,s=t.tags.find(i=>i.name==n);return(s==null?void 0:s.name)!=n?null:s}function Wr(a,t,n,s){const i={name:b.color,blue:t,green:n,red:s},[r,c]=Fe(a,i.name,i);return r||(c.blue=t,c.green=n,c.red=s),c}function Jr(a,t,n,s){const i={name:b.color1,blue:t,green:n,red:s},[r,c]=Fe(a,i.name,i);return r||(c.blue=t,c.green=n,c.red=s),c}function Zr(a,t,n,s){const i={name:b.color2,blue:t,green:n,red:s},[r,c]=Fe(a,i.name,i);return r||(c.blue=t,c.green=n,c.red=s),c}function Qr(a,t,n,s){const i={name:b.color3,blue:t,green:n,red:s},[r,c]=Fe(a,i.name,i);return r||(c.blue=t,c.green=n,c.red=s),c}function el(a,t,n,s){const i={name:b.color4,blue:t,green:n,red:s},[r,c]=Fe(a,i.name,i);return r||(c.blue=t,c.green=n,c.red=s),c}function al(a,t){const n={name:b.alpha,value:t},[s,i]=Fe(a,n.name,n);return s||(i.value=t),i}function tl(a,t){const n={name:b.alpha1,value:t},[s,i]=Fe(a,n.name,n);return s||(i.value=t),i}function nl(a,t){const n={name:b.alpha2,value:t},[s,i]=Fe(a,n.name,n);return s||(i.value=t),i}function rl(a,t){const n={name:b.alpha3,value:t},[s,i]=Fe(a,n.name,n);return s||(i.value=t),i}function ll(a,t){const n={name:b.alpha4,value:t},[s,i]=Fe(a,n.name,n);return s||(i.value=t),i}function ol(a,t,n){const s={name:b.pos,x:t,y:n},[i,r]=Fe(a,s.name,s);return i||(r.x=t,r.y=n),r}function sl(a,t,n,s,i,r=null,c=null){const e={name:b.move,x1:t,y1:n,x2:s,y2:i,t1:r,t2:c},[p,h]=Fe(a,e.name,e);return p||(h.x1=t,h.y1=n,h.x2=s,h.y2=i,h.t1=r,h.t2=c),h}function Fe(a,t,n){const s=a.find(r=>r.name=="effect");if((s==null?void 0:s.name)!="effect")return a.unshift({name:"effect",tags:[n]}),[!0,n];const i=s.tags.find(r=>r.name==t);return(i==null?void 0:i.name)!=t?(s.tags.push(n),[!0,n]):[!1,i]}function ul(a,t){const n=a.find(i=>i.name=="effect");if((n==null?void 0:n.name)!="effect")return;const s=n.tags.findIndex(i=>i.name===t);s<0||n.tags.splice(s,1)}function Ue(a){const t=a.match(zn);if(t==null)return null;const n=t.groups,s=Pa((n==null?void 0:n.start)??"");if(s==null)return null;const i=Pa((n==null?void 0:n.end)??"");return i==null?null:{type:(n==null?void 0:n.type)??"",layer:Number((n==null?void 0:n.layer)??"0"),start:s,end:i,style:(n==null?void 0:n.style)??"",actor:(n==null?void 0:n.actor)??"",marginLeft:Number((n==null?void 0:n.marginLeft)??"0"),marginRight:Number((n==null?void 0:n.marginRight)??"0"),marginVertical:Number((n==null?void 0:n.marginVertical)??"0"),effect:(n==null?void 0:n.effect)??"",content:(n==null?void 0:n.content)??""}}function he(a){let t=a.type;return t+=": ",t+=Math.floor(a.layer),t+=",",t+=Ba(a.start),t+=",",t+=Ba(a.end),t+=",",t+=a.style,t+=",",t+=a.actor,t+=",",t+=Math.floor(a.marginLeft),t+=",",t+=Math.floor(a.marginRight),t+=",",t+=Math.floor(a.marginVertical),t+=",",t+=a.effect,t+=",",t+=a.content,t}function il(a){return va(a.end)-va(a.start)}function Ve(a){const t=a.match(jn);if(t==null)return null;const n=t.groups;return{blue:oe((n==null?void 0:n.color_bgr_blue)??""),green:oe((n==null?void 0:n.color_bgr_green)??""),red:oe((n==null?void 0:n.color_bgr_red)??"")}}var cl=(a,t)=>t(),dl=(a,t)=>t(),fl=()=>{},vl=Ae('<section class="svelte-jzi2e1"><h1 class="title is-5"></h1> <div class="field"><label class="label" for="">Movimiento base</label> <div class="control"><input class="input" type="text" placeholder="\\move(10,20,30,40)"></div></div> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function bl(a,t){Me(t,!0);const n=se.copiarMovimiento;let s=A("Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\move(320,470,320,168,0,4963)}Urusai!"),i=A(""),r=A("");function c(){if(l(i).length==0){alert("Pega las líneas desde Aegisub para continuar.");return}const $=l(i).split(`
`);console.log($);const V=Ue(l(s));if(V==null){console.error("invalid base line",l(s));return}const M=pe(V.content),J=Yr(M);if(J==null){console.error("base move not found");return}const D=J.x2-J.x1,Z=J.y2-J.y1;let ee="";for(let O=0;O<$.length;O++){const S=$[O];if(S.length==0)continue;const z=Ue(S);if(z==null){console.error(`line ${O+1}: invalid line`);break}const ne=pe(z.content),te=la(ne);if(te==null){console.error(`line ${O+1}: pos not found`);break}ul(ne,b.pos);const ce=te.x,de=te.y,ie=te.x+D,j=te.y+Z;sl(ne,ce,de,ie,j,J.t1,J.t2);const ve=xe(ne);z.content=ve;const ye=he(z);console.log(ye),O>0&&(ee+=`
`),ee+=ye}v(r,E(ee))}async function e(){await navigator.clipboard.writeText(l(r)),alert("¡Líneas copiadas al portapapeles!")}Ze(()=>{for(let $=1;$<=10;$++){const V=182+$*5,M=421+$*7;v(i,l(i)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(${V},${M})}LINEA ${$}
`)}});var p=vl();Je($=>{Qe.title=n});var h=_(p);h.textContent=n;var k=y(h,2),I=y(_(k),2),G=_(I);aa(G),g(I),g(k);var m=y(k,2),C=_(m),T=_(C,!0);g(C);var ae=y(C,2),P=_(ae);we(P),g(ae),g(m);var H=y(m,2);H.__click=[cl,c];var X=_(H,!0);g(H);var U=y(H,2),N=_(U),x=_(N),re=y(x);re.__click=[dl,e],re.__keydown=[fl],g(N);var Q=y(N,2),Y=_(Q);we(Y),g(Q),g(U),g(p),$e(()=>{be(T,se.subtitulos),be(X,se.copiarMovimiento),be(x,`${se.resultado} `)}),me(G,()=>l(s),$=>v(s,$)),me(P,()=>l(i),$=>v(i,$)),me(Y,()=>l(r),$=>v(r,$)),ue(a,p),Pe()}We(["click","keydown"]);var pl=Ae(`<div class="text-column"><h1></h1> <div class="kagamin svelte-i9q0t3"><img src="img/kagamin.gif" alt="Lucky Star" title="Lucky Star" class="svelte-i9q0t3"></div> <p class="mt-2">Asu versión web, de <a href="https://github.com/FS-Frost" target="_blank">[FS] Frost</a> para <a href="http://syncrajo.net/" target="_blank">SyncRajo Fansub</a>.</p> <p class="mt-2">Agradecimientos por su ayuda a:</p> <ul><li>- [GX] Gonxas: hardcore testing y script para crear AVS.</li> <li>- [Sr] Hell: servicio de host.</li> <li>- [EC] DarkAngel: idea para separar sílabas en karaokes.</li></ul> <p class="mt-2">Asu es una herramienta para automatizar el procesamiento de subtítulos
        en formato SubStation Alpha Subtitles (SSA/ASS).</p> <p class="mt-2"><b>Visítanos en <a href="http://syncrajo.net/" target="_blank">http://syncrajo.net</a></b></p> <p class="mt-2">Versiones de Asu:</p> <ul><li><a href="https://github.com/FS-Frost/Asu.Utilidades" target="_blank">- (2014) Asu para .NET/C#</a></li> <li><a href="https://github.com/FS-Frost/asu-go2js" target="_blank">- (2022) Asu para Go y JavaScript</a></li> <li><a href="https://github.com/FS-Frost/asu-regex-js" target="_blank">- (2024) Asu para TypeScript</a></li></ul></div>`);function gl(a,t){Me(t,!1);const n=se.acercaDe;Cn();var s=pl();Je(r=>{Qe.title=n});var i=_(s);i.textContent=n,ba(16),g(s),ue(a,s),Pe()}var _l=Ae('<img class="wallpaper svelte-1ic3zkr" src="img/hyouka.jpg" alt="Hyouka" title="Hyouka">');function hl(a){var t=_l();Je(n=>{Qe.title="Asu"}),ue(a,t)}var xl=(a,t)=>t(),ml=Ae("<b> </b>"),yl=Ae('<div class="field alpha-box svelte-9wq0vr"><div class="svelte-9wq0vr"><label class="checkbox"><input type="checkbox"> <!></label></div> <div class="alpha-inputs svelte-9wq0vr"><div class="alpha-value svelte-9wq0vr"><label class="label" for="">Valor inicial</label> <div class="control"><input class="input" type="text"></div></div> <div class="alpha-value svelte-9wq0vr"><label class="label" for="">Valor Final</label> <div class="control"><input class="input" type="text"></div></div></div></div>');function He(a,t){Me(t,!0);let n=ra(t,"label",3,""),s=ra(t,"disabled",15,!1),i=ra(t,"startValue",15,""),r=ra(t,"endValue",15,""),c=ra(t,"startPlaceholder",3,""),e=ra(t,"endPlaceholder",3,""),p=A(void 0);function h(){var $;if(($=l(p))!=null&&$.checked){k();return}I()}function k(){s()&&(s(!1),l(p)&&(l(p).checked=!0),t.onEnabled&&t.onEnabled())}function I(){s()||(s(!0),l(p)&&(l(p).checked=!1),t.onDisabled&&t.onDisabled())}Ze(()=>{l(p)&&(l(p).checked=!s())});var G=yl(),m=_(G),C=_(m),T=_(C);T.__change=[xl,h],Le(T,$=>v(p,$),()=>l(p));var ae=y(T,2);{var P=$=>{var V=tn();$e(()=>be(V,`${n()??""}
                (deshabilitado)`)),ue($,V)},H=$=>{var V=ml(),M=_(V,!0);g(V),$e(()=>be(M,n())),ue($,V)};Ie(ae,$=>{s()?$(P):$(H,!1)})}g(C),g(m);var X=y(m,2),U=_(X),N=y(_(U),2),x=_(N);aa(x),g(N),g(U);var re=y(U,2),Q=y(_(re),2),Y=_(Q);return aa(Y),g(Q),g(re),g(X),g(G),$e(()=>{ia(x,"placeholder",c()),x.disabled=s(),ia(Y,"placeholder",e()),Y.disabled=s()}),me(x,i),me(Y,r),ue(a,G),Pe({enable:k,disable:I})}We(["change"]);function sa(a,t){const n=[];for(let s=a;s<=t;s++){const i=fa(s);n.push(i)}return n}function ua(a,t,n){const s=Array(n),i=ma(a.blue,t.blue,n);if(i.length!==n)return console.error(`ERROR: blue interpolated values ${i.length} don't match intervals ${n}`),[];const r=ma(a.green,t.green,n);if(r.length!==n)return console.error(`ERROR: green interpolated values ${r.length} don't match intervals ${n}`),[];const c=ma(a.red,t.red,n);if(c.length!==n)return console.error(`ERROR: red interpolated values ${c.length} don't match intervals ${n}`),[];for(var e=0;e<n;e++){const p=Math.floor(i[e]),h=Math.floor(r[e]),k=Math.floor(c[e]);s[e]={blue:p,green:h,red:k}}return s}var kl=(a,t)=>t(),Al=()=>{},Nl=Ae('<i class="fa-solid fa-copy clickable" role="button" tabindex="0"></i>');function en(a,t){Me(t,!0);async function n(){await navigator.clipboard.writeText(t.rawResultLines),alert(se.lineasCopiadas)}var s=Nl();s.__click=[kl,n],s.__keydown=[Al],$e(()=>ia(s,"title",se.copiar)),ue(a,s),Pe()}We(["click","keydown"]);var El=(a,t)=>t(),Cl=Ae('<section class="svelte-do1mnp"><h1 class="title is-5"></h1> <label class="label" for="">Configuración alpha</label> <!> <!> <!> <!> <!> <label class="checkbox reverse svelte-do1mnp"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function $l(a,t){Me(t,!0);const n=se.aplicarAlpha,s="0",i="FF";let r=A(""),c=A(""),e=A("0"),p=A("FF"),h=A("0"),k=A("FF"),I=A("0"),G=A("FF"),m=A("0"),C=A("FF"),T=A("0"),ae=A("FF"),P=A(!1),H=A(!0),X=A(!0),U=A(!0),N=A(!0),x=A(void 0),re=A(void 0),Q=A(void 0),Y=A(void 0),$=A(void 0),V=A(!1);function M(){var u,ge,w,F;(u=l(re))==null||u.disable(),(ge=l(Q))==null||ge.disable(),(w=l(Y))==null||w.disable(),(F=l($))==null||F.disable()}function J(){var u,ge,w,F;l(H)&&l(X)&&l(U)&&l(N)&&((u=l(re))==null||u.enable(),(ge=l(Q))==null||ge.disable(),(w=l(Y))==null||w.disable(),(F=l($))==null||F.disable())}function D(){var u;(u=l(x))==null||u.disable()}function Z(){var u;l(H)&&l(X)&&l(U)&&l(N)&&((u=l(x))==null||u.enable())}function ee(){const u=[],ge=l(r).split(`
`);for(const w of ge){if(w.length==0)continue;const F=Ue(w);F!=null&&u.push(F)}if(!l(P)){const w=oe(l(e)),F=oe(l(p));if(w>=F){alert("El inicio de alpha total debe ser menor al fin.");return}if(w<0){alert("El inicio de alpha total debe ser mayor o igual a 00 (0).");return}if(F>255){alert("El fin de alpha total debe ser menor o igual a FF (255).");return}const B=sa(w,F);l(V)&&B.reverse();let q="";for(let o=0;o<u.length;o++){let d=Math.floor(B.length*o/u.length);d>=B.length&&(d=B.length-1);const le=`&H${B[d]}&`,_e=pe(u[o].content);al(_e,le),u[o].content=xe(_e);const Ne=he(u[o]);o>0&&(q+=`
`),q+=Ne}v(c,E(q));return}if(!l(H)){const w=oe(l(h)),F=oe(l(k));if(w>=F){alert("El inicio de alpha 1 debe ser menor al fin.");return}if(w<0){alert("El inicio de alpha 1 debe ser mayor o igual a 00 (0).");return}if(F>255){alert("El fin de alpha 1 debe ser menor o igual a FF (255).");return}const B=sa(w,F);l(V)&&B.reverse();let q="";for(let o=0;o<u.length;o++){let d=Math.floor(B.length*o/u.length);d>=B.length&&(d=B.length-1);const le=`&H${B[d]}&`,_e=pe(u[o].content);tl(_e,le),u[o].content=xe(_e);const Ne=he(u[o]);o>0&&(q+=`
`),q+=Ne}v(c,E(q))}if(!l(X)){const w=oe(l(I)),F=oe(l(G));if(w>=F){alert("El inicio de alpha 2 debe ser menor al fin.");return}if(w<0){alert("El inicio de alpha 2 debe ser mayor o igual a 00 (0).");return}if(F>255){alert("El fin de alpha 2 debe ser menor o igual a FF (255).");return}const B=sa(w,F);l(V)&&B.reverse();let q="";for(let o=0;o<u.length;o++){let d=Math.floor(B.length*o/u.length);d>=B.length&&(d=B.length-1);const le=`&H${B[d]}&`,_e=pe(u[o].content);nl(_e,le),u[o].content=xe(_e);const Ne=he(u[o]);o>0&&(q+=`
`),q+=Ne}v(c,E(q))}if(!l(U)){const w=oe(l(m)),F=oe(l(C));if(w>=F){alert("El inicio de alpha 3 debe ser menor al fin.");return}if(w<0){alert("El inicio de alpha 3 debe ser mayor o igual a 00 (0).");return}if(F>255){alert("El fin de alpha 3 debe ser menor o igual a FF (255).");return}const B=sa(w,F);l(V)&&B.reverse();let q="";for(let o=0;o<u.length;o++){let d=Math.floor(B.length*o/u.length);d>=B.length&&(d=B.length-1);const le=`&H${B[d]}&`,_e=pe(u[o].content);rl(_e,le),u[o].content=xe(_e);const Ne=he(u[o]);o>0&&(q+=`
`),q+=Ne}v(c,E(q))}if(!l(N)){const w=oe(l(T)),F=oe(l(ae));if(w>=F){alert("El inicio de alpha 4 debe ser menor al fin.");return}if(w<0){alert("El inicio de alpha 4 debe ser mayor o igual a 00 (0).");return}if(F>255){alert("El fin de alpha 4 debe ser menor o igual a FF (255).");return}const B=sa(w,F);l(V)&&B.reverse();let q="";for(let o=0;o<u.length;o++){let d=Math.floor(B.length*o/u.length);d>=B.length&&(d=B.length-1);const le=`&H${B[d]}&`,_e=pe(u[o].content);ll(_e,le),u[o].content=xe(_e);const Ne=he(u[o]);o>0&&(q+=`
`),q+=Ne}v(c,E(q))}}Ze(()=>{for(let u=1;u<=10;u++)v(r,l(r)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(182,421)}LINEA ${u}
`)});var O=Cl();Je(u=>{Qe.title=n});var S=_(O);S.textContent=n;var z=y(S,4);Le(He(z,{label:"Alpha total",startPlaceholder:s,endPlaceholder:i,onEnabled:()=>M(),onDisabled:()=>J(),get startValue(){return l(e)},set startValue(u){v(e,E(u))},get endValue(){return l(p)},set endValue(u){v(p,E(u))},get disabled(){return l(P)},set disabled(u){v(P,E(u))}}),u=>v(x,E(u)),()=>l(x));var ne=y(z,2);Le(He(ne,{label:"Alpha 1",startPlaceholder:s,endPlaceholder:i,onEnabled:()=>D(),onDisabled:()=>Z(),get startValue(){return l(h)},set startValue(u){v(h,E(u))},get endValue(){return l(k)},set endValue(u){v(k,E(u))},get disabled(){return l(H)},set disabled(u){v(H,E(u))}}),u=>v(re,E(u)),()=>l(re));var te=y(ne,2);Le(He(te,{label:"Alpha 2",startPlaceholder:s,endPlaceholder:i,onEnabled:()=>D(),onDisabled:()=>Z(),get startValue(){return l(I)},set startValue(u){v(I,E(u))},get endValue(){return l(G)},set endValue(u){v(G,E(u))},get disabled(){return l(X)},set disabled(u){v(X,E(u))}}),u=>v(Q,E(u)),()=>l(Q));var ce=y(te,2);Le(He(ce,{label:"Alpha 3",startPlaceholder:s,endPlaceholder:i,onEnabled:()=>D(),onDisabled:()=>Z(),get startValue(){return l(m)},set startValue(u){v(m,E(u))},get endValue(){return l(C)},set endValue(u){v(C,E(u))},get disabled(){return l(U)},set disabled(u){v(U,E(u))}}),u=>v(Y,E(u)),()=>l(Y));var de=y(ce,2);Le(He(de,{label:"Alpha 4",startPlaceholder:s,endPlaceholder:i,onEnabled:()=>D(),onDisabled:()=>Z(),get startValue(){return l(T)},set startValue(u){v(T,E(u))},get endValue(){return l(ae)},set endValue(u){v(ae,E(u))},get disabled(){return l(N)},set disabled(u){v(N,E(u))}}),u=>v($,E(u)),()=>l($));var ie=y(de,2),j=_(ie);aa(j),ba(),g(ie);var ve=y(ie,2),ye=_(ve),Be=_(ye,!0);g(ye);var Re=y(ye,2),Se=_(Re);we(Se),g(Re),g(ve);var Ce=y(ve,2);Ce.__click=[El,ee];var ta=_(Ce,!0);g(Ce);var je=y(Ce,2),Te=_(je),Ke=_(Te),na=y(Ke);en(na,{get rawResultLines(){return l(c)}}),g(Te);var Xe=y(Te,2),qe=_(Xe);we(qe),g(Xe),g(je),g(O),$e(()=>{be(Be,se.subtitulos),be(ta,se.aplicarAlpha),be(Ke,`${se.resultado} `)}),$a(j,()=>l(V),u=>v(V,u)),me(Se,()=>l(r),u=>v(r,u)),me(qe,()=>l(c),u=>v(c,u)),ue(a,O),Pe()}We(["click"]);var wl=(a,t)=>t(),Fl=Ae('<section class="svelte-do1mnp"><h1 class="title is-5"></h1> <label class="label" for="">Configuración de color</label> <!> <!> <!> <!> <!> <label class="checkbox reverse svelte-do1mnp"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function Rl(a,t){Me(t,!0);const n=se.aplicarColor,s="&HFFFFFF&",i="&H000000&";let r=A(""),c=A(""),e=A(s),p=A(i),h=A(s),k=A(i),I=A(s),G=A(i),m=A(s),C=A(i),T=A(s),ae=A(i),P=A(!1),H=A(!0),X=A(!0),U=A(!0),N=A(!0),x=A(void 0),re=A(void 0),Q=A(void 0),Y=A(void 0),$=A(void 0),V=A(!1);function M(){var u,ge,w,F;(u=l(re))==null||u.disable(),(ge=l(Q))==null||ge.disable(),(w=l(Y))==null||w.disable(),(F=l($))==null||F.disable()}function J(){var u,ge,w,F;l(H)&&l(X)&&l(U)&&l(N)&&((u=l(re))==null||u.enable(),(ge=l(Q))==null||ge.disable(),(w=l(Y))==null||w.disable(),(F=l($))==null||F.disable())}function D(){var u;(u=l(x))==null||u.disable()}function Z(){var u;l(H)&&l(X)&&l(U)&&l(N)&&((u=l(x))==null||u.enable())}function ee(){const u=[],ge=l(r).split(`
`);for(const w of ge){if(w.length==0)continue;const F=Ue(w);F!=null&&u.push(F)}if(!l(P)){const w=Ve(l(e));if(w==null){alert(`Color total de inicio inválido: ${l(e)}`);return}const F=Ve(l(p));if(F==null){alert(`Color total de fin inválido: ${l(p)}`);return}const B=ua(w,F,u.length);l(V)&&B.reverse();let q="";for(let o=0;o<u.length;o++){const d=B[o],W=pe(u[o].content);Wr(W,d.blue,d.green,d.red),u[o].content=xe(W);const le=he(u[o]);o>0&&(q+=`
`),q+=le}v(c,E(q));return}if(!l(H)){const w=Ve(l(h));if(w==null){alert(`Color 1 de inicio inválido: ${l(h)}`);return}const F=Ve(l(k));if(F==null){alert(`Color 1 de fin inválido: ${l(k)}`);return}const B=ua(w,F,u.length);l(V)&&B.reverse();let q="";for(let o=0;o<u.length;o++){const d=B[o],W=pe(u[o].content);Jr(W,d.blue,d.green,d.red),u[o].content=xe(W);const le=he(u[o]);o>0&&(q+=`
`),q+=le}v(c,E(q))}if(!l(X)){const w=Ve(l(I));if(w==null){alert(`Color 2 de inicio inválido: ${l(I)}`);return}const F=Ve(l(G));if(F==null){alert(`Color 2 de fin inválido: ${l(G)}`);return}const B=ua(w,F,u.length);l(V)&&B.reverse();let q="";for(let o=0;o<u.length;o++){const d=B[o],W=pe(u[o].content);Zr(W,d.blue,d.green,d.red),u[o].content=xe(W);const le=he(u[o]);o>0&&(q+=`
`),q+=le}v(c,E(q))}if(!l(U)){const w=Ve(l(m));if(w==null){alert(`Color 3 de inicio inválido: ${l(m)}`);return}const F=Ve(l(C));if(F==null){alert(`Color 3 de fin inválido: ${l(C)}`);return}const B=ua(w,F,u.length);l(V)&&B.reverse();let q="";for(let o=0;o<u.length;o++){const d=B[o],W=pe(u[o].content);Qr(W,d.blue,d.green,d.red),u[o].content=xe(W);const le=he(u[o]);o>0&&(q+=`
`),q+=le}v(c,E(q))}if(!l(N)){const w=Ve(l(T));if(w==null){alert(`Color 4 de inicio inválido: ${l(T)}`);return}const F=Ve(l(ae));if(F==null){alert(`Color 4 de fin inválido: ${l(ae)}`);return}const B=ua(w,F,u.length);l(V)&&B.reverse();let q="";for(let o=0;o<u.length;o++){const d=B[o],W=pe(u[o].content);el(W,d.blue,d.green,d.red),u[o].content=xe(W);const le=he(u[o]);o>0&&(q+=`
`),q+=le}v(c,E(q))}}Ze(()=>{v(r,l(r)+`Dialogue: 0,0:00:00.00,0:00:00.02,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.02,0:00:00.06,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.06,0:00:00.10,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.10,0:00:00.14,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.14,0:00:00.18,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.18,0:00:00.23,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.23,0:00:00.27,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+`Dialogue: 0,0:00:00.27,0:00:00.31,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),v(r,l(r)+"Dialogue: 0,0:00:00.31,0:00:00.35,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO")});var O=Fl();Je(u=>{Qe.title=n});var S=_(O);S.textContent=n;var z=y(S,4);Le(He(z,{label:"Color total",startPlaceholder:s,endPlaceholder:i,onEnabled:()=>M(),onDisabled:()=>J(),get startValue(){return l(e)},set startValue(u){v(e,E(u))},get endValue(){return l(p)},set endValue(u){v(p,E(u))},get disabled(){return l(P)},set disabled(u){v(P,E(u))}}),u=>v(x,E(u)),()=>l(x));var ne=y(z,2);Le(He(ne,{label:"Color 1",startPlaceholder:s,endPlaceholder:i,onEnabled:()=>D(),onDisabled:()=>Z(),get startValue(){return l(h)},set startValue(u){v(h,E(u))},get endValue(){return l(k)},set endValue(u){v(k,E(u))},get disabled(){return l(H)},set disabled(u){v(H,E(u))}}),u=>v(re,E(u)),()=>l(re));var te=y(ne,2);Le(He(te,{label:"Color 2",startPlaceholder:s,endPlaceholder:i,onEnabled:()=>D(),onDisabled:()=>Z(),get startValue(){return l(I)},set startValue(u){v(I,E(u))},get endValue(){return l(G)},set endValue(u){v(G,E(u))},get disabled(){return l(X)},set disabled(u){v(X,E(u))}}),u=>v(Q,E(u)),()=>l(Q));var ce=y(te,2);Le(He(ce,{label:"Color 3",startPlaceholder:s,endPlaceholder:i,onEnabled:()=>D(),onDisabled:()=>Z(),get startValue(){return l(m)},set startValue(u){v(m,E(u))},get endValue(){return l(C)},set endValue(u){v(C,E(u))},get disabled(){return l(U)},set disabled(u){v(U,E(u))}}),u=>v(Y,E(u)),()=>l(Y));var de=y(ce,2);Le(He(de,{label:"Color 4",startPlaceholder:s,endPlaceholder:i,onEnabled:()=>D(),onDisabled:()=>Z(),get startValue(){return l(T)},set startValue(u){v(T,E(u))},get endValue(){return l(ae)},set endValue(u){v(ae,E(u))},get disabled(){return l(N)},set disabled(u){v(N,E(u))}}),u=>v($,E(u)),()=>l($));var ie=y(de,2),j=_(ie);aa(j),ba(),g(ie);var ve=y(ie,2),ye=_(ve),Be=_(ye,!0);g(ye);var Re=y(ye,2),Se=_(Re);we(Se),g(Re),g(ve);var Ce=y(ve,2);Ce.__click=[wl,ee];var ta=_(Ce,!0);g(Ce);var je=y(Ce,2),Te=_(je),Ke=_(Te),na=y(Ke);en(na,{get rawResultLines(){return l(c)}}),g(Te);var Xe=y(Te,2),qe=_(Xe);we(qe),g(Xe),g(je),g(O),$e(()=>{be(Be,se.subtitulos),be(ta,se.aplicarColor),be(Ke,`${se.resultado} `)}),$a(j,()=>l(V),u=>v(V,u)),me(Se,()=>l(r),u=>v(r,u)),me(qe,()=>l(c),u=>v(c,u)),ue(a,O),Pe()}We(["click"]);var Sl=(a,t)=>t(),Ll=(a,t)=>t(),Dl=()=>{},Tl=Ae('<section class="svelte-jzi2e1"><h1 class="title is-5"></h1> <div class="field"><label class="label" for="">Secuencia de posiciones</label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <label class="checkbox reverse"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function Vl(a,t){Me(t,!0);const n=se.aplicarSecuenciaPosiciones;let s=A(""),i=A(""),r=A(""),c=A(!1);function e(){if(l(i).length==0){alert("Pega las líneas desde Aegisub para continuar.");return}const D=[];{const O=l(s).split(`
`);for(const S of O){if(S.length==0)continue;const z=Ue(S);if(z==null)continue;const ne=pe(z.content);if(la(ne)==null){alert(`Línea base sin \\pos copiada: '${S}'`),console.log(S);return}D.push(z)}}const Z=[];{const O=l(i).split(`
`);for(const S of O){if(S.length==0)continue;const z=Ue(S);if(z==null)continue;const ne=pe(z.content);if(la(ne)==null){alert(`Línea objetivo sin \\pos: '${S}'`),console.log(S);return}Z.push(z)}}let ee="";for(let O=0;O<Z.length;O++){const S=Z[O],z=pe(S.content),ne=la(z);if(ne==null){const j=he(S);alert(`Línea objetivo sin \\pos: '${j}'`),console.log(j);return}let te=ne.x,ce=ne.y;l(c)&&D.reverse();const de=p(D),ie=[];for(let j=0;j<D.length;j++){const ve=de[j][0],ye=de[j][1],Be=te+ve,Re=ce+ye;te=Be,ce=Re,ol(z,Be,Re),S.content=xe(z);const Se=D[j];S.start=Se.start,S.end=Se.end,ie.push(structuredClone(S))}l(c)&&(D.reverse(),ie.reverse());for(const j of ie)ee+=he(j)+`
`}v(r,E(ee))}function p(D){const ee=[[0,0]];for(let O=0;O<D.length-1;O++){const S=D[O],z=D[O+1],ne=pe(S.content),te=la(ne);if(te==null)return alert(`Línea base sin \\pos: '${he(S)}'`),console.log(S),[];const ce=pe(z.content),de=la(ce);if(de==null)return alert(`Línea base sin \\pos: '${he(z)}'`),console.log(z),[];const ie=de.x-te.x,j=de.y-te.y;ee.push([ie,j])}return ee}async function h(){await navigator.clipboard.writeText(l(r)),alert("¡Líneas copiadas al portapapeles!")}Ze(()=>{v(s,l(s)+`Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.6,593.8)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.08,0:23:58.12,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.55,589.69)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.12,0:23:58.16,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.56,585.4)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.16,0:23:58.20,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.41,581.09)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.20,0:23:58.24,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.31,576.78)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.24,0:23:58.29,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.22,572.39)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.29,0:23:58.33,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.06,568.18)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.33,0:23:58.37,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.13,563.34)}Tama:
`),v(s,l(s)+`Dialogue: 1,0:23:58.37,0:23:58.41,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.99,558.77)}Tama:
`),v(s,l(s)+"Dialogue: 1,0:23:58.41,0:23:58.45,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.96,554.13)}Tama:"),v(i,"Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(1039.6,593.8)}LINEA")});var k=Tl();Je(D=>{Qe.title=n});var I=_(k);I.textContent=n;var G=y(I,2),m=y(_(G),2),C=_(m);we(C),g(m),g(G);var T=y(G,2),ae=_(T);aa(ae),ba(),g(T);var P=y(T,2),H=_(P),X=_(H,!0);g(H);var U=y(H,2),N=_(U);we(N),g(U),g(P);var x=y(P,2);x.__click=[Sl,e];var re=_(x,!0);g(x);var Q=y(x,2),Y=_(Q),$=_(Y),V=y($);V.__click=[Ll,h],V.__keydown=[Dl],g(Y);var M=y(Y,2),J=_(M);we(J),g(M),g(Q),g(k),$e(()=>{be(X,se.subtitulos),be(re,se.aplicarSecuenciaPosiciones),be($,`${se.resultado} `)}),me(C,()=>l(s),D=>v(s,D)),$a(ae,()=>l(c),D=>v(c,D)),me(N,()=>l(i),D=>v(i,D)),me(J,()=>l(r),D=>v(r,D)),ue(a,k),Pe()}We(["click","keydown"]);var Il=(a,t)=>t(),Hl=(a,t)=>t(),Ml=()=>{},Pl=Ae('<section class="svelte-jzi2e1"><h1 class="title is-5"></h1> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function Bl(a,t){Me(t,!0);const n=se.dividirSilabas;let s=A(""),i=A("");function r(){if(l(s).length==0){alert("Pega las líneas desde Aegisub para continuar.");return}const x=l(s).split(`
`);let re="";for(let Q=0;Q<x.length;Q++){const Y=x[Q];if(Y.length==0)continue;const $=Ue(Y);if($==null){console.error(`line ${Q+1}: invalid line`);break}Kr($);const V=he($);Q>0&&(re+=`
`),re+=V}v(i,E(re))}async function c(){await navigator.clipboard.writeText(l(i)),alert("¡Líneas copiadas al portapapeles!")}Ze(()=>{v(s,l(s)+`Comment: 0,0:01:15.11,0:01:17.74,Romaji,,0,0,0,karaoke,dareka wo mamoreru watashi ni natte
`),v(s,l(s)+`Comment: 0,0:01:17.85,0:01:20.44,Romaji,,0,0,0,karaoke,mune wo hatte itsuka omoerun da
`),v(s,l(s)+`Comment: 0,0:01:20.58,0:01:30.42,Romaji,,0,0,0,karaoke,ano hi kimi ni deaete yokatta
`)});var e=Pl();Je(x=>{Qe.title=n});var p=_(e);p.textContent=n;var h=y(p,2),k=_(h),I=_(k);g(k);var G=y(k,2),m=_(G);we(m),g(G),g(h);var C=y(h,2);C.__click=[Il,r];var T=_(C,!0);g(C);var ae=y(C,2),P=_(ae),H=_(P),X=y(H);X.__click=[Hl,c],X.__keydown=[Ml],g(P);var U=y(P,2),N=_(U);we(N),g(U),g(ae),g(e),$e(()=>{be(I,`${se.subtitulos} (romaji)`),be(T,se.dividirSilabas),be(H,`${se.resultado} `)}),me(m,()=>l(s),x=>v(s,x)),me(N,()=>l(i),x=>v(i,x)),ue(a,e),Pe()}We(["click","keydown"]);var Ol=(a,t)=>t(),zl=Ae("<button> </button>"),Gl=Ae('<p class="preview"> <b> </b></p>'),Ul=(a,t)=>t(),jl=()=>{},Kl=Ae('<section class="svelte-jzi2e1"><h1 class="title is-5"></h1> <div class="field"><label class="label" for="">Karaoke</label> <div class="control"><input class="input" type="text"></div></div> <button class="button is-link is-fullwidth">Actualizar karaoke</button> <div class="mb-2"><label class="label" for="">Sílaba divisoria</label> <div class="buttons"></div></div> <div class="field"><label class="label" for="">Vista previa</label> <!></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function Xl(a,t){Me(t,!0);const n=se.dividirKaraoke,s="Comment: 0,0:02:44.95,0:02:50.57,Romaji C,,0,0,0,karaoke,{\\kf32}ko{\\kf34}no {\\kf32}de{\\kf32}a{\\kf18}i {\\kf49}ga{\\kf31}{\\k0} {\\kf37}mi{\\kf31}n{\\kf34}na {\\kf19}wo {\\kf31}ka{\\kf34}e{\\kf63}ru {\\kf52}ka{\\kf33}na";let i=A(s),r=A(E([])),c=A(""),e=A(E([])),p=A(0);function h(){const M=Ue(l(i));if(M==null)return;const J=pe(M.content);Oa(J);const D=0;let Z=l(e)[l(p)].index+1,ee=0;for(let j=0;j<=l(p);j++){const ve=l(e)[j];ve.centiseconds!=null&&(ee+=ve.centiseconds)}const O=va(M.start),S=va(M.end),z=J.slice(D,Z);M.content=xe(z);const ne=ee/100;M.end=ya(O+ne),v(c,E(he(M)));let te=!0,ce=0;for(;te;){const j=J[Z+1];if((j==null?void 0:j.name)!="text"){te=!1;break}if(te=j.value.replaceAll(" ","").length===0,te&&(Z+=2,ce++),ce>l(e).length)break}let de=0;for(let j=l(p)+1+ce;j<l(e).length;j++){const ve=l(e)[j];ve.centiseconds!=null&&(de+=ve.centiseconds)}const ie=J.slice(Z);M.end=ya(S),M.start=ya(S-de/100),M.content=xe(ie),v(c,l(c)+(`
`+he(M))),v(r,E([xe(z.filter(j=>j.name=="text")),xe(ie.filter(j=>j.name=="text"))]))}async function k(){await navigator.clipboard.writeText(l(c)),alert("¡Líneas copiadas al portapapeles!")}function I(){v(e,E([]));const M=Ue(l(i));if(M==null)return[];const J=pe(M.content);Oa(J);for(let D=0;D<J.length;D++){const Z=J[D];if(Z.name!="text")continue;l(e).push({index:D,text:Z.value.replaceAll(" ",""),centiseconds:null});const ee=D-1;if(ee<0)continue;const O=J[ee];if(O.name!="effect")continue;const S=O.tags.find(ne=>ne.name===b.kLowerCase||ne.name===b.kUpperCase||ne.name===b.kf||ne.name===b.ko);S==null||!(S.name===b.kLowerCase||S.name===b.kUpperCase||S.name===b.kf||S.name===b.ko)||(l(e)[l(e).length-1].centiseconds=S.value)}return v(p,E(Math.floor(l(e).length/2))),l(e)}Ze(()=>{I(),h()});var G=Kl();Je(M=>{Qe.title=n});var m=_(G);m.textContent=n;var C=y(m,2),T=y(_(C),2),ae=_(T);aa(ae),ia(ae,"placeholder",s),g(T),g(C);var P=y(C,2);P.__click=[Ol,I];var H=y(P,2),X=y(_(H),2);Ia(X,21,()=>l(e),Va,(M,J,D)=>{var Z=Oe(),ee=ze(Z);{var O=S=>{var z=zl();z.__click=()=>{v(p,E(D)),h()};var ne=_(z,!0);g(z),$e(()=>{Nn(z,`button ${(D===l(p)?"is-link":"")??""}`),ia(z,"title",`${l(J).text}: ${l(J).centiseconds} centésimas`),be(ne,l(J).text)}),ue(S,z)};Ie(ee,S=>{l(J).text.replaceAll(" ","").length>0&&S(O)})}ue(M,Z)}),g(X),g(H);var U=y(H,2),N=y(_(U),2);Ia(N,17,()=>l(r),Va,(M,J,D)=>{var Z=Gl(),ee=_(Z);ee.nodeValue=`Línea ${D+1}: `;var O=y(ee),S=_(O,!0);g(O),g(Z),$e(()=>be(S,l(J))),ue(M,Z)}),g(U);var x=y(U,2),re=_(x),Q=_(re),Y=y(Q);Y.__click=[Ul,k],Y.__keydown=[jl],g(re);var $=y(re,2),V=_($);we(V),g($),g(x),g(G),$e(()=>be(Q,`${se.resultado} `)),me(ae,()=>l(i),M=>v(i,M)),me(V,()=>l(c),M=>v(c,M)),ue(a,G),Pe()}We(["click","keydown"]);function ql(a,t){Me(t,!0);let n=A("");Ze(()=>{Ta.subscribe(k=>{k!=null&&v(n,E(k))});const p=new URLSearchParams(location.search).get("pagina")??"",h=En(p)?p:"inicio";Ta.set(h)});var s=Oe(),i=ze(s);{var r=e=>{hl(e)},c=e=>{var p=Oe(),h=ze(p);{var k=G=>{bl(G,{})},I=G=>{var m=Oe(),C=ze(m);{var T=P=>{Vl(P,{})},ae=P=>{var H=Oe(),X=ze(H);{var U=x=>{$l(x,{})},N=x=>{var re=Oe(),Q=ze(re);{var Y=V=>{Rl(V,{})},$=V=>{var M=Oe(),J=ze(M);{var D=ee=>{Xl(ee,{})},Z=ee=>{var O=Oe(),S=ze(O);{var z=te=>{Bl(te,{})},ne=te=>{var ce=Oe(),de=ze(ce);{var ie=j=>{gl(j,{})};Ie(de,j=>{l(n)=="acercaDe"&&j(ie)},!0)}ue(te,ce)};Ie(S,te=>{l(n)=="karaokes.dividirSilabas"?te(z):te(ne,!1)},!0)}ue(ee,O)};Ie(J,ee=>{l(n)=="karaokes.dividirKaraoke"?ee(D):ee(Z,!1)},!0)}ue(V,M)};Ie(Q,V=>{l(n)=="carteles.aplicarColor"?V(Y):V($,!1)},!0)}ue(x,re)};Ie(X,x=>{l(n)=="carteles.aplicarAlpha"?x(U):x(N,!1)},!0)}ue(P,H)};Ie(C,P=>{l(n)=="carteles.aplicarSecuenciaPosiciones"?P(T):P(ae,!1)},!0)}ue(G,m)};Ie(h,G=>{l(n)=="carteles.copiarMovimiento"?G(k):G(I,!1)},!0)}ue(e,p)};Ie(i,e=>{l(n)=="inicio"?e(r):e(c,!1)})}ue(a,s),Pe()}var Yl=Ae('<section class="svelte-m85pha"><!></section>');function ro(a){var t=Yl(),n=_(t);ql(n,{}),g(t),ue(a,t)}export{ro as component,no as universal};
