import"../chunks/DsnmJJEf.js";import{i as Os}from"../chunks/CvNbso9g.js";import{t as ho,n as Nt,a8 as Wa,a9 as Xs,o as Ka,m as za,a as m,b as Oa,r as Xa,H as Za,q as fi,v as go,aa as Cn,ab as Qa,ac as ja,ad as Io,ae as el,af as jn,ag as eo,ah as Lt,ai as Zs,aj as Qs,ak as js,a0 as tl,al as pi,am as mi,an as er,ao as nl,ap as vo,y as ol,aq as tr,ar as il,as as sl,at as rl,au as al,av as ll,aw as ul,e as dl,ax as $o,w as cl,ay as nr,az as fl,aA as pl,aB as ml,a3 as xn,u as or,x as ir,a7 as nt,K as We,C as Jo,a2 as D,s as w,a1 as wt,M as Z,aC as yt,O as X,aD as _t,T as y,U as v,V as E,aE as ze,W as H,Q as G,R as Ke,aF as kt,a6 as sr,c as un,a4 as Qe,N as Fe,aG as hl,a5 as gl}from"../chunks/rmS07K1C.js";import{i as re,b as Ye}from"../chunks/B2cvdAvv.js";import{p as Tt,e as Ne,f as rr,h as vl,i as zt,j as xo,T as je,k as ar,l as Ge,m as $e,t as ge,n as Be,s as It,a as Kt,o as wl,q as yl,b as Ft,u as _l,v as wo,w as Et,x as Tl,y as Cl,z as El,A as bl,B as Al,C as bt,D as Sl,E as Il,F as xl,G as kl,H as Pl,I as lr,J as Rl,K as hi,L as gi,M as yo,N as Ml,_ as Nl,O as ko,P as tn,Q as ur,R as dr,S as vi,U as cr,V as qn,W as Dl,X as fr,Y as Ll,Z as pr,$ as Vl,a0 as wi,a1 as Ul,r as Fl}from"../chunks/DIKUSRFk.js";import{p as ht}from"../chunks/BsO5kdiS.js";function Vt(t,e){return e}function ql(t,e,n){for(var o=t.items,i=[],r=e.length,l=0;l<r;l++)al(e[l].e,i,!0);var u=r>0&&i.length===0&&n!==null;if(u){var c=n.parentNode;ll(c),c.append(n),o.clear(),At(t,e[0].prev,e[r-1].next)}ul(i,()=>{for(var d=0;d<r;d++){var f=e[d];u||(o.delete(f.k),At(t,f.prev,f.next)),tr(f.e,!u)}})}function Pt(t,e,n,o,i,r=null){var l=t,u={flags:e,items:new Map,first:null},c=(e&Zs)!==0;if(c){var d=t;l=Nt?ho(Wa(d)):d.appendChild(Xs())}Nt&&Ka();var f=null,p=!1,h=new Map,g=Oa(()=>{var A=n();return js(A)?A:A==null?[]:Qs(A)}),_,b;function C(){Bl(b,_,u,h,l,i,e,o,n),r!==null&&(_.length===0?f?er(f):f=Io(()=>r(l)):f!==null&&nl(f,()=>{f=null}))}za(()=>{b??=dl,_=m(g);var A=_.length;if(p&&A===0)return;p=A===0;let I=!1;if(Nt){var P=Xa(l)===Za;P!==(A===0)&&(l=fi(),ho(l),go(!1),I=!0)}if(Nt){for(var M=null,x,S=0;S<A;S++){if(Cn.nodeType===Qa&&Cn.data===ja){l=Cn,I=!0,go(!1);break}var R=_[S],q=o(R,S);x=Po(Cn,u,M,null,R,q,S,i,e,n),u.items.set(q,x),M=x}A>0&&ho(fi())}if(Nt)A===0&&r&&(f=Io(()=>r(l)));else if(el()){var N=new Set,V=Lt;for(S=0;S<A;S+=1){R=_[S],q=o(R,S);var U=u.items.get(q)??h.get(q);U?(e&(jn|eo))!==0&&mr(U,R,S,e):(x=Po(null,u,null,null,R,q,S,i,e,n,!0),h.set(q,x)),N.add(q)}for(const[B,K]of u.items)N.has(B)||V.skipped_effects.add(K.e);V.add_callback(C)}else C();I&&go(!0),m(g)}),Nt&&(l=Cn)}function Bl(t,e,n,o,i,r,l,u,c){var d=(l&sl)!==0,f=(l&(jn|eo))!==0,p=e.length,h=n.items,g=n.first,_=g,b,C=null,A,I=[],P=[],M,x,S,R;if(d)for(R=0;R<p;R+=1)M=e[R],x=u(M,R),S=h.get(x),S!==void 0&&(S.a?.measure(),(A??=new Set).add(S));for(R=0;R<p;R+=1){if(M=e[R],x=u(M,R),S=h.get(x),S===void 0){var q=o.get(x);if(q!==void 0){o.delete(x),h.set(x,q);var N=C?C.next:_;At(n,C,q),At(n,q,N),_o(q,N,i),C=q}else{var V=_?_.e.nodes_start:i;C=Po(V,n,C,C===null?n.first:C.next,M,x,R,r,l,c)}h.set(x,C),I=[],P=[],_=C.next;continue}if(f&&mr(S,M,R,l),(S.e.f&vo)!==0&&(er(S.e),d&&(S.a?.unfix(),(A??=new Set).delete(S))),S!==_){if(b!==void 0&&b.has(S)){if(I.length<P.length){var U=P[0],B;C=U.prev;var K=I[0],j=I[I.length-1];for(B=0;B<I.length;B+=1)_o(I[B],U,i);for(B=0;B<P.length;B+=1)b.delete(P[B]);At(n,K.prev,j.next),At(n,C,K),At(n,j,U),_=U,C=j,R-=1,I=[],P=[]}else b.delete(S),_o(S,_,i),At(n,S.prev,S.next),At(n,S,C===null?n.first:C.next),At(n,C,S),C=S;continue}for(I=[],P=[];_!==null&&_.k!==x;)(_.e.f&vo)===0&&(b??=new Set).add(_),P.push(_),_=_.next;if(_===null)continue;S=_}I.push(S),C=S,_=S.next}if(_!==null||b!==void 0){for(var J=b===void 0?[]:Qs(b);_!==null;)(_.e.f&vo)===0&&J.push(_),_=_.next;var Y=J.length;if(Y>0){var $=(l&Zs)!==0&&p===0?i:null;if(d){for(R=0;R<Y;R+=1)J[R].a?.measure();for(R=0;R<Y;R+=1)J[R].a?.fix()}ql(n,J,$)}}d&&ol(()=>{if(A!==void 0)for(S of A)S.a?.apply()}),t.first=n.first&&n.first.e,t.last=C&&C.e;for(var fe of o.values())tr(fe.e);o.clear()}function mr(t,e,n,o){(o&jn)!==0&&mi(t.v,e),(o&eo)!==0?mi(t.i,n):t.i=n}function Po(t,e,n,o,i,r,l,u,c,d,f){var p=(c&jn)!==0,h=(c&il)===0,g=p?h?tl(i,!1,!1):pi(i):i,_=(c&eo)===0?l:pi(l),b={i:_,v:g,k:r,a:null,e:null,prev:n,next:o};try{if(t===null){var C=document.createDocumentFragment();C.append(t=Xs())}return b.e=Io(()=>u(t,g,_,d),Nt),b.e.prev=n&&n.e,b.e.next=o&&o.e,n===null?f||(e.first=b):(n.next=b,n.e.next=b.e),o!==null&&(o.prev=b,o.e.prev=b.e),b}finally{}}function _o(t,e,n){for(var o=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,r=t.e.nodes_start;r!==null&&r!==o;){var l=rl(r);i.before(r),r=l}}function At(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function hr(t,e,n=!1){if(t.multiple){if(e==null)return;if(!js(e))return fl();for(var o of t.options)o.selected=e.includes(Sn(o));return}for(o of t.options){var i=Sn(o);if(pl(i,e)){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Gl(t){var e=new MutationObserver(()=>{hr(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ml(()=>{e.disconnect()})}function yi(t,e,n=e){var o=new WeakSet,i=!0;$o(t,"change",r=>{var l=r?"[selected]":":checked",u;if(t.multiple)u=[].map.call(t.querySelectorAll(l),Sn);else{var c=t.querySelector(l)??t.querySelector("option:not([disabled])");u=c&&Sn(c)}n(u),Lt!==null&&o.add(Lt)}),cl(()=>{var r=e();if(t===document.activeElement){var l=nr??Lt;if(o.has(l))return}if(hr(t,r,i),i&&r===void 0){var u=t.querySelector(":checked");u!==null&&(r=Sn(u),n(r))}t.__value=r,i=!1}),Gl(t)}function Sn(t){return"__value"in t?t.__value:t.value}function Se(t,e,n=e){var o=new WeakSet;$o(t,"input",async i=>{var r=i?t.defaultValue:t.value;if(r=To(t)?Co(r):r,n(r),Lt!==null&&o.add(Lt),await xn(),r!==(r=e())){var l=t.selectionStart,u=t.selectionEnd,c=t.value.length;if(t.value=r??"",u!==null){var d=t.value.length;l===u&&u===c&&d>c?(t.selectionStart=d,t.selectionEnd=d):(t.selectionStart=l,t.selectionEnd=Math.min(u,d))}}}),(Nt&&t.defaultValue!==t.value||or(e)==null&&t.value)&&(n(To(t)?Co(t.value):t.value),Lt!==null&&o.add(Lt)),ir(()=>{var i=e();if(t===document.activeElement){var r=nr??Lt;if(o.has(r))return}To(t)&&i===Co(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Dt(t,e,n=e){$o(t,"change",o=>{var i=o?t.defaultChecked:t.checked;n(i)}),(Nt&&t.defaultChecked!==t.checked||or(e)==null)&&n(t.checked),ir(()=>{var o=e();t.checked=!!o})}function To(t){var e=t.type;return e==="number"||e==="range"}function Co(t){return t===""?null:+t}const Hl=!0,Hy=Object.freeze(Object.defineProperty({__proto__:null,prerender:Hl},Symbol.toStringTag,{value:"Module"}));var $l=Z('<div class="mt-2 mb-2 has-text-danger"> </div>'),Jl=(t,e)=>e(),Yl=()=>{},Wl=Z('<section class="svelte-kfk8u7"><h1> </h1> <!> <div class="field"><label class="label" for="">Movimiento base</label> <div class="control"><input type="text" placeholder="\\move(10,20,30,40)"/></div></div> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea" readonly=""></textarea></div></div></section>');function Kl(t,e){We(e,!0);const n=ge.copiarMovimiento;let o=D("Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\move(320,470,320,168,0,4963)}Urusai!"),i=D(""),r=D(""),l=D(""),u=D("");Jo(()=>{c(m(o),m(i))});function c(j,J){if(w(l,""),w(r,""),w(u,""),J.length==0)return;const Y=J.split(`
`),$=Tt(j);if($==null){w(u,`Movimiento base, línea inválida: '${j}'`);return}const fe=Ne($.content),ae=rr(fe);if(ae==null){w(u,`Movimiento base, \\move no encontrado: '${j}'`);return}w(l,vl(ae),!0);const te=ae.x2-ae.x1,me=ae.y2-ae.y1;let we="";for(let le=0;le<Y.length;le++){const ie=Y[le];if(ie.length==0)continue;const W=Tt(ie);if(W==null){w(u,`Subtítulos, línea ${le+1} inválida: '${ie}'`);break}const se=Ne(W.content),z=zt(se);if(z==null){w(u,`Subtítulos, línea ${le+1}, \\pos no encontrado: '${ie}'`);break}xo(se,je.pos);const ue=z.x,_e=z.y,xe=z.x+te,L=z.y+me;ar(se,ue,_e,xe,L,ae.t1,ae.t2),W.content=Ge(se);const Q=$e(W);le>0&&(we+=`
`),we+=Q}w(r,we,!0)}async function d(){await navigator.clipboard.writeText(m(r)),alert("¡Líneas copiadas al portapapeles!")}function f(){for(let j=1;j<=10;j++){const J=182+j*5,Y=421+j*7;w(i,m(i)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(${J},${Y})}LINEA ${j}
`)}}wt(()=>{f()});var p=Wl();yt(j=>{X(()=>_t.title=n)});var h=y(p),g=y(h,!0);v(h);var _=E(h,2);{var b=j=>{var J=$l(),Y=y(J,!0);v(J),X(()=>H(Y,m(u))),G(j,J)};re(_,j=>{m(u)!=""&&j(b)})}var C=E(_,2),A=E(y(C),2),I=y(A);Be(I),v(A),v(C);var P=E(C,2),M=y(P),x=y(M,!0);v(M);var S=E(M,2),R=y(S);ze(R),v(S),v(P);var q=E(P,2),N=y(q),V=y(N),U=E(V);U.__click=[Jl,d],U.__keydown=[Yl],v(N);var B=E(N,2),K=y(B);ze(K),v(B),v(q),v(p),X(()=>{H(g,n),It(I,1,`input ${m(l)==""?"is-danger":""}`),H(x,ge.subtitulos),H(V,`${ge.resultado} `)}),Se(I,()=>m(o),j=>w(o,j)),Se(R,()=>m(i),j=>w(i,j)),Se(K,()=>m(r),j=>w(r,j)),G(t,p),Ke()}nt(["click","keydown"]);var zl=Z('<span class="version svelte-1yfusri"><a target="_blank"> </a></span>'),Ol=Z(`<div class="text-column"><h1> </h1> <div class="kagamin svelte-1yfusri"><img src="img/kagamin.gif" alt="Lucky Star" title="Lucky Star" class="svelte-1yfusri"/></div> <!> <p>Asu es una herramienta para automatizar el procesamiento de subtítulos
        en formato SubStation Alpha Subtitles (SSA/ASS).</p> <hr/> <p>Asu versión web, de <a href="https://github.com/FS-Frost" target="_blank">[FS] Frost</a> para <a href="http://syncrajo.net/" target="_blank">SyncRajo Fansub</a>.</p> <p class="mt-2">Agradecimientos por su ayuda a:</p> <ul><li>- <b>[EC] DarkAngel</b>: por desarrollar <b>SyncRajoEndline</b> y por
            la idea de separar sílabas en karaokes.</li> <li>- <b>[GX] Gonxas</b>: por el hardcore testing y el script para crear
            archivos AVS.</li> <li>- <b>[Sr] Hell</b>: por proveer un servicio de host.</li></ul> <p class="mt-2"><b>Visítanos en <a href="http://syncrajo.net/" target="_blank">http://syncrajo.net</a></b></p> <hr/> <p>Versiones de Asu:</p> <ul><li><a href="https://github.com/FS-Frost/Asu.Utilidades" target="_blank">- (2014) Asu para .NET/C#</a></li> <li><a href="https://github.com/FS-Frost/asu-go2js" target="_blank">- (2022) Asu para Go y JavaScript</a></li> <li><a href="https://github.com/FS-Frost/asu-regex-js" target="_blank">- (2024) Asu para TypeScript</a></li></ul></div>`);function Xl(t,e){We(e,!1);const n=ge.acercaDe;Os();var o=Ol();yt(c=>{X(()=>_t.title=n)});var i=y(o),r=y(i,!0);v(i);var l=E(i,4);{var u=c=>{var d=zl(),f=y(d),p=y(f);v(f),v(d),X((h,g)=>{Ft(f,"href",h),H(p,`Versión ${Kt.buildInfo.ref??""}.${g??""}`)},[()=>wl(Kt.buildInfo.actor,Kt.buildInfo.repo,Kt.buildInfo.sha),()=>yl(Kt.buildInfo.sha)]),G(c,d)};re(l,c=>{Kt.buildInfo.sha!=""&&c(u)})}kt(18),v(o),X(()=>H(r,n)),G(t,o),Ke()}var Zl=Z('<img class="wallpaper svelte-1mpxkx1" src="img/hyouka.jpg" alt="Hyouka" title="Hyouka"/>');function Ql(t){var e=Zl();yt(n=>{_t.title="Asu"}),G(t,e)}var jl=(t,e)=>e(),eu=Z("<b> </b>"),tu=Z('<div class="field alpha-box svelte-t3fs1n"><div class="svelte-t3fs1n"><label class="checkbox"><input type="checkbox"/> <!></label></div> <div class="alpha-inputs svelte-t3fs1n"><div class="alpha-value svelte-t3fs1n"><label class="label" for="">Valor inicial</label> <div class="control"><input class="input" type="text"/></div></div> <div class="alpha-value svelte-t3fs1n"><label class="label" for="">Valor Final</label> <div class="control"><input class="input" type="text"/></div></div></div></div>');function xt(t,e){We(e,!0);let n=ht(e,"label",3,""),o=ht(e,"disabled",15,!1),i=ht(e,"startValue",15,""),r=ht(e,"endValue",15,""),l=ht(e,"startPlaceholder",3,""),u=ht(e,"endPlaceholder",3,""),c=D(void 0);function d(){if(m(c)?.checked){f();return}p()}function f(){o()&&(o(!1),m(c)&&(m(c).checked=!0),e.onEnabled&&e.onEnabled())}function p(){o()||(o(!0),m(c)&&(m(c).checked=!1),e.onDisabled&&e.onDisabled())}wt(()=>{m(c)&&(m(c).checked=!o())});var h={enable:f,disable:p},g=tu(),_=y(g),b=y(_),C=y(b);C.__change=[jl,d],Ye(C,U=>w(c,U),()=>m(c));var A=E(C,2);{var I=U=>{var B=sr();X(()=>H(B,`${n()??""}
                (deshabilitado)`)),G(U,B)},P=U=>{var B=eu(),K=y(B,!0);v(B),X(()=>H(K,n())),G(U,B)};re(A,U=>{o()?U(I):U(P,!1)})}v(b),v(_);var M=E(_,2),x=y(M),S=E(y(x),2),R=y(S);Be(R),v(S),v(x);var q=E(x,2),N=E(y(q),2),V=y(N);return Be(V),v(N),v(q),v(M),v(g),X(()=>{Ft(R,"placeholder",l()),R.disabled=o(),Ft(V,"placeholder",u()),V.disabled=o()}),Se(R,i),Se(V,r),G(t,g),Ke(h)}nt(["change"]);function En(t,e){const n=[];for(let o=t;o<=e;o++){const i=_l(o);n.push(i)}return n}function bn(t,e,n){const o=Array(n),i=wo(t.blue,e.blue,n);if(i.length!==n)return console.error(`ERROR: blue interpolated values ${i.length} don't match intervals ${n}`),[];const r=wo(t.green,e.green,n);if(r.length!==n)return console.error(`ERROR: green interpolated values ${r.length} don't match intervals ${n}`),[];const l=wo(t.red,e.red,n);if(l.length!==n)return console.error(`ERROR: red interpolated values ${l.length} don't match intervals ${n}`),[];for(var u=0;u<n;u++){const c=Math.floor(i[u]),d=Math.floor(r[u]),f=Math.floor(l[u]);o[u]={blue:c,green:d,red:f}}return o}var nu=(t,e)=>e(),ou=()=>{},iu=Z('<i class="fa-solid fa-copy clickable" role="button" tabindex="0"></i>');function gr(t,e){We(e,!0);async function n(){await navigator.clipboard.writeText(e.rawResultLines),alert(ge.lineasCopiadas)}var o=iu();o.__click=[nu,n],o.__keydown=[ou],X(()=>Ft(o,"title",ge.copiar)),G(t,o),Ke()}nt(["click","keydown"]);var su=Z('<div class="mt-2 mb-2 has-text-danger"> </div>'),ru=(t,e)=>e(),au=Z('<section class="svelte-1yraova"><h1> </h1> <!> <label class="label" for="">Configuración alpha</label> <!> <!> <!> <!> <!> <label class="checkbox reverse"><input type="checkbox"/> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea" readonly=""></textarea></div></div></section>');function lu(t,e){We(e,!0);const n=ge.aplicarAlpha,o="0",i="FF";let r=D(""),l=D(void 0),u=D(""),c=D(""),d=D("0"),f=D("FF"),p=D("0"),h=D("FF"),g=D("0"),_=D("FF"),b=D("0"),C=D("FF"),A=D("0"),I=D("FF"),P=D(!1),M=D(!0),x=D(!0),S=D(!0),R=D(!0),q=D(void 0),N=D(void 0),V=D(void 0),U=D(void 0),B=D(void 0),K=D(!1);function j(){m(N)?.disable(),m(V)?.disable(),m(U)?.disable(),m(B)?.disable()}function J(){m(M)&&m(x)&&m(S)&&m(R)&&(m(N)?.enable(),m(V)?.disable(),m(U)?.disable(),m(B)?.disable())}function Y(){m(q)?.disable()}function $(){m(M)&&m(x)&&m(S)&&m(R)&&m(q)?.enable()}async function fe(){try{w(c,""),w(r,"");const T=[],pe=m(u).split(`
`);for(const ce of pe){if(ce.length==0)continue;const oe=Tt(ce);oe!=null&&T.push(oe)}if(!m(P)){const ce=Et(m(d)),oe=Et(m(f));if(ce>=oe){w(r,"El inicio de alpha total debe ser menor al fin");return}if(ce<0){w(r,"El inicio de alpha total debe ser mayor o igual a 00 (0)");return}if(oe>255){w(r,"El fin de alpha total debe ser menor o igual a FF (255)");return}const ne=En(ce,oe);m(K)&&ne.reverse();let de="";for(let F=0;F<T.length;F++){let he=Math.floor(ne.length*F/T.length);he>=ne.length&&(he=ne.length-1);const Me=`&H${ne[he]}&`,Ve=Ne(T[F].content);Tl(Ve,Me),T[F].content=Ge(Ve);const Xe=$e(T[F]);F>0&&(de+=`
`),de+=Xe}w(c,de,!0);return}if(!m(M)){const ce=Et(m(p)),oe=Et(m(h));if(ce>=oe){w(r,"El inicio de alpha 1 debe ser menor al fin");return}if(ce<0){w(r,"El inicio de alpha 1 debe ser mayor o igual a 00 (0)");return}if(oe>255){w(r,"El fin de alpha 1 debe ser menor o igual a FF (255)");return}const ne=En(ce,oe);m(K)&&ne.reverse();let de="";for(let F=0;F<T.length;F++){let he=Math.floor(ne.length*F/T.length);he>=ne.length&&(he=ne.length-1);const Me=`&H${ne[he]}&`,Ve=Ne(T[F].content);Cl(Ve,Me),T[F].content=Ge(Ve);const Xe=$e(T[F]);F>0&&(de+=`
`),de+=Xe}w(c,de,!0)}if(!m(x)){const ce=Et(m(g)),oe=Et(m(_));if(ce>=oe){w(r,"El inicio de alpha 2 debe ser menor al fin");return}if(ce<0){w(r,"El inicio de alpha 2 debe ser mayor o igual a 00 (0)");return}if(oe>255){w(r,"El fin de alpha 2 debe ser menor o igual a FF (255)");return}const ne=En(ce,oe);m(K)&&ne.reverse();let de="";for(let F=0;F<T.length;F++){let he=Math.floor(ne.length*F/T.length);he>=ne.length&&(he=ne.length-1);const Me=`&H${ne[he]}&`,Ve=Ne(T[F].content);El(Ve,Me),T[F].content=Ge(Ve);const Xe=$e(T[F]);F>0&&(de+=`
`),de+=Xe}w(c,de,!0)}if(!m(S)){const ce=Et(m(b)),oe=Et(m(C));if(ce>=oe){w(r,"El inicio de alpha 3 debe ser menor al fin");return}if(ce<0){w(r,"El inicio de alpha 3 debe ser mayor o igual a 00 (0)");return}if(oe>255){w(r,"El fin de alpha 3 debe ser menor o igual a FF (255)");return}const ne=En(ce,oe);m(K)&&ne.reverse();let de="";for(let F=0;F<T.length;F++){let he=Math.floor(ne.length*F/T.length);he>=ne.length&&(he=ne.length-1);const Me=`&H${ne[he]}&`,Ve=Ne(T[F].content);bl(Ve,Me),T[F].content=Ge(Ve);const Xe=$e(T[F]);F>0&&(de+=`
`),de+=Xe}w(c,de,!0)}if(!m(R)){const ce=Et(m(A)),oe=Et(m(I));if(ce>=oe){w(r,"El inicio de alpha 4 debe ser menor al fin");return}if(ce<0){w(r,"El inicio de alpha 4 debe ser mayor o igual a 00 (0)");return}if(oe>255){w(r,"El fin de alpha 4 debe ser menor o igual a FF (255)");return}const ne=En(ce,oe);m(K)&&ne.reverse();let de="";for(let F=0;F<T.length;F++){let he=Math.floor(ne.length*F/T.length);he>=ne.length&&(he=ne.length-1);const Me=`&H${ne[he]}&`,Ve=Ne(T[F].content);Al(Ve,Me),T[F].content=Ge(Ve);const Xe=$e(T[F]);F>0&&(de+=`
`),de+=Xe}w(c,de,!0)}}catch(T){console.error("error al procesar líneas",T)}finally{await xn(),m(l)?.scrollIntoView({behavior:"smooth"})}}wt(()=>{for(let T=1;T<=10;T++)w(u,m(u)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(182,421)}LINEA ${T}
`)});var ae=au();yt(T=>{X(()=>_t.title=n)});var te=y(ae),me=y(te,!0);v(te);var we=E(te,2);{var le=T=>{var pe=su(),ce=y(pe,!0);v(pe),Ye(pe,oe=>w(l,oe),()=>m(l)),X(()=>H(ce,m(r))),G(T,pe)};re(we,T=>{m(r)!=""&&T(le)})}var ie=E(we,4);Ye(xt(ie,{label:"Alpha total",startPlaceholder:o,endPlaceholder:i,onEnabled:()=>j(),onDisabled:()=>J(),get startValue(){return m(d)},set startValue(T){w(d,T,!0)},get endValue(){return m(f)},set endValue(T){w(f,T,!0)},get disabled(){return m(P)},set disabled(T){w(P,T,!0)}}),T=>w(q,T,!0),()=>m(q));var W=E(ie,2);Ye(xt(W,{label:"Alpha 1",startPlaceholder:o,endPlaceholder:i,onEnabled:()=>Y(),onDisabled:()=>$(),get startValue(){return m(p)},set startValue(T){w(p,T,!0)},get endValue(){return m(h)},set endValue(T){w(h,T,!0)},get disabled(){return m(M)},set disabled(T){w(M,T,!0)}}),T=>w(N,T,!0),()=>m(N));var se=E(W,2);Ye(xt(se,{label:"Alpha 2",startPlaceholder:o,endPlaceholder:i,onEnabled:()=>Y(),onDisabled:()=>$(),get startValue(){return m(g)},set startValue(T){w(g,T,!0)},get endValue(){return m(_)},set endValue(T){w(_,T,!0)},get disabled(){return m(x)},set disabled(T){w(x,T,!0)}}),T=>w(V,T,!0),()=>m(V));var z=E(se,2);Ye(xt(z,{label:"Alpha 3",startPlaceholder:o,endPlaceholder:i,onEnabled:()=>Y(),onDisabled:()=>$(),get startValue(){return m(b)},set startValue(T){w(b,T,!0)},get endValue(){return m(C)},set endValue(T){w(C,T,!0)},get disabled(){return m(S)},set disabled(T){w(S,T,!0)}}),T=>w(U,T,!0),()=>m(U));var ue=E(z,2);Ye(xt(ue,{label:"Alpha 4",startPlaceholder:o,endPlaceholder:i,onEnabled:()=>Y(),onDisabled:()=>$(),get startValue(){return m(A)},set startValue(T){w(A,T,!0)},get endValue(){return m(I)},set endValue(T){w(I,T,!0)},get disabled(){return m(R)},set disabled(T){w(R,T,!0)}}),T=>w(B,T,!0),()=>m(B));var _e=E(ue,2),xe=y(_e);Be(xe),kt(),v(_e);var L=E(_e,2),Q=y(L),ve=y(Q,!0);v(Q);var ye=E(Q,2),Ae=y(ye);ze(Ae),v(ye),v(L);var Te=E(L,2);Te.__click=[ru,fe];var Pe=y(Te,!0);v(Te);var De=E(Te,2),Re=y(De),Je=y(Re),mt=E(Je);gr(mt,{get rawResultLines(){return m(c)}}),v(Re);var lt=E(Re,2),ut=y(lt);ze(ut),v(lt),v(De),v(ae),X(()=>{H(me,n),H(ve,ge.subtitulos),H(Pe,ge.aplicarAlpha),H(Je,`${ge.resultado} `)}),Dt(xe,()=>m(K),T=>w(K,T)),Se(Ae,()=>m(u),T=>w(u,T)),Se(ut,()=>m(c),T=>w(c,T)),G(t,ae),Ke()}nt(["click"]);var uu=Z('<div class="mt-2 mb-2 has-text-danger"> </div>'),du=(t,e)=>e(),cu=Z('<section class="svelte-40ayo5"><h1> </h1> <!> <label class="label" for="">Configuración de color</label> <!> <!> <!> <!> <!> <label class="checkbox reverse"><input type="checkbox"/> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea" readonly=""></textarea></div></div></section>');function fu(t,e){We(e,!0);const n=ge.aplicarColor,o="&HFFFFFF&",i="&H000000&";let r=D(""),l=D(void 0),u=D(""),c=D(""),d=D(o),f=D(i),p=D(o),h=D(i),g=D(o),_=D(i),b=D(o),C=D(i),A=D(o),I=D(i),P=D(!1),M=D(!0),x=D(!0),S=D(!0),R=D(!0),q=D(void 0),N=D(void 0),V=D(void 0),U=D(void 0),B=D(void 0),K=D(!1);function j(){m(N)?.disable(),m(V)?.disable(),m(U)?.disable(),m(B)?.disable()}function J(){m(M)&&m(x)&&m(S)&&m(R)&&(m(N)?.enable(),m(V)?.disable(),m(U)?.disable(),m(B)?.disable())}function Y(){m(q)?.disable()}function $(){m(M)&&m(x)&&m(S)&&m(R)&&m(q)?.enable()}async function fe(){try{w(c,""),w(r,"");const T=[],pe=m(u).split(`
`);for(const ce of pe){if(ce.length==0)continue;const oe=Tt(ce);oe!=null&&T.push(oe)}if(!m(P)){const ce=bt(m(d));if(ce==null){w(r,`Color total de inicio inválido: ${m(d)}`);return}const oe=bt(m(f));if(oe==null){w(r,`Color total de fin inválido: ${m(f)}`);return}const ne=bn(ce,oe,T.length);m(K)&&ne.reverse();let de="";for(let F=0;F<T.length;F++){const he=ne[F],Le=Ne(T[F].content);Sl(Le,he.blue,he.green,he.red),T[F].content=Ge(Le);const Me=$e(T[F]);F>0&&(de+=`
`),de+=Me}w(c,de,!0);return}if(!m(M)){const ce=bt(m(p));if(ce==null){w(r,`Color 1 de inicio inválido: ${m(p)}`);return}const oe=bt(m(h));if(oe==null){w(r,`Color 1 de fin inválido: ${m(h)}`);return}const ne=bn(ce,oe,T.length);m(K)&&ne.reverse();let de="";for(let F=0;F<T.length;F++){const he=ne[F],Le=Ne(T[F].content);Il(Le,he.blue,he.green,he.red),T[F].content=Ge(Le);const Me=$e(T[F]);F>0&&(de+=`
`),de+=Me}w(c,de,!0)}if(!m(x)){const ce=bt(m(g));if(ce==null){w(r,`Color 2 de inicio inválido: ${m(g)}`);return}const oe=bt(m(_));if(oe==null){w(r,`Color 2 de fin inválido: ${m(_)}`);return}const ne=bn(ce,oe,T.length);m(K)&&ne.reverse();let de="";for(let F=0;F<T.length;F++){const he=ne[F],Le=Ne(T[F].content);xl(Le,he.blue,he.green,he.red),T[F].content=Ge(Le);const Me=$e(T[F]);F>0&&(de+=`
`),de+=Me}w(c,de,!0)}if(!m(S)){const ce=bt(m(b));if(ce==null){w(r,`Color 3 de inicio inválido: ${m(b)}`);return}const oe=bt(m(C));if(oe==null){w(r,`Color 3 de fin inválido: ${m(C)}`);return}const ne=bn(ce,oe,T.length);m(K)&&ne.reverse();let de="";for(let F=0;F<T.length;F++){const he=ne[F],Le=Ne(T[F].content);kl(Le,he.blue,he.green,he.red),T[F].content=Ge(Le);const Me=$e(T[F]);F>0&&(de+=`
`),de+=Me}w(c,de,!0)}if(!m(R)){const ce=bt(m(A));if(ce==null){w(r,`Color 4 de inicio inválido: ${m(A)}`);return}const oe=bt(m(I));if(oe==null){w(r,`Color 4 de fin inválido: ${m(I)}`);return}const ne=bn(ce,oe,T.length);m(K)&&ne.reverse();let de="";for(let F=0;F<T.length;F++){const he=ne[F],Le=Ne(T[F].content);Pl(Le,he.blue,he.green,he.red),T[F].content=Ge(Le);const Me=$e(T[F]);F>0&&(de+=`
`),de+=Me}w(c,de,!0)}}catch(T){console.error("error al procesar líneas",T)}finally{await xn(),m(l)?.scrollIntoView({behavior:"smooth"})}}wt(()=>{w(u,m(u)+`Dialogue: 0,0:00:00.00,0:00:00.02,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),w(u,m(u)+`Dialogue: 0,0:00:00.02,0:00:00.06,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),w(u,m(u)+`Dialogue: 0,0:00:00.06,0:00:00.10,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),w(u,m(u)+`Dialogue: 0,0:00:00.10,0:00:00.14,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),w(u,m(u)+`Dialogue: 0,0:00:00.14,0:00:00.18,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),w(u,m(u)+`Dialogue: 0,0:00:00.18,0:00:00.23,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),w(u,m(u)+`Dialogue: 0,0:00:00.23,0:00:00.27,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),w(u,m(u)+`Dialogue: 0,0:00:00.27,0:00:00.31,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),w(u,m(u)+"Dialogue: 0,0:00:00.31,0:00:00.35,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO")});var ae=cu();yt(T=>{X(()=>_t.title=n)});var te=y(ae),me=y(te,!0);v(te);var we=E(te,2);{var le=T=>{var pe=uu(),ce=y(pe,!0);v(pe),Ye(pe,oe=>w(l,oe),()=>m(l)),X(()=>H(ce,m(r))),G(T,pe)};re(we,T=>{m(r)!=""&&T(le)})}var ie=E(we,4);Ye(xt(ie,{label:"Color total",startPlaceholder:o,endPlaceholder:i,onEnabled:()=>j(),onDisabled:()=>J(),get startValue(){return m(d)},set startValue(T){w(d,T,!0)},get endValue(){return m(f)},set endValue(T){w(f,T,!0)},get disabled(){return m(P)},set disabled(T){w(P,T,!0)}}),T=>w(q,T,!0),()=>m(q));var W=E(ie,2);Ye(xt(W,{label:"Color 1",startPlaceholder:o,endPlaceholder:i,onEnabled:()=>Y(),onDisabled:()=>$(),get startValue(){return m(p)},set startValue(T){w(p,T,!0)},get endValue(){return m(h)},set endValue(T){w(h,T,!0)},get disabled(){return m(M)},set disabled(T){w(M,T,!0)}}),T=>w(N,T,!0),()=>m(N));var se=E(W,2);Ye(xt(se,{label:"Color 2",startPlaceholder:o,endPlaceholder:i,onEnabled:()=>Y(),onDisabled:()=>$(),get startValue(){return m(g)},set startValue(T){w(g,T,!0)},get endValue(){return m(_)},set endValue(T){w(_,T,!0)},get disabled(){return m(x)},set disabled(T){w(x,T,!0)}}),T=>w(V,T,!0),()=>m(V));var z=E(se,2);Ye(xt(z,{label:"Color 3",startPlaceholder:o,endPlaceholder:i,onEnabled:()=>Y(),onDisabled:()=>$(),get startValue(){return m(b)},set startValue(T){w(b,T,!0)},get endValue(){return m(C)},set endValue(T){w(C,T,!0)},get disabled(){return m(S)},set disabled(T){w(S,T,!0)}}),T=>w(U,T,!0),()=>m(U));var ue=E(z,2);Ye(xt(ue,{label:"Color 4",startPlaceholder:o,endPlaceholder:i,onEnabled:()=>Y(),onDisabled:()=>$(),get startValue(){return m(A)},set startValue(T){w(A,T,!0)},get endValue(){return m(I)},set endValue(T){w(I,T,!0)},get disabled(){return m(R)},set disabled(T){w(R,T,!0)}}),T=>w(B,T,!0),()=>m(B));var _e=E(ue,2),xe=y(_e);Be(xe),kt(),v(_e);var L=E(_e,2),Q=y(L),ve=y(Q,!0);v(Q);var ye=E(Q,2),Ae=y(ye);ze(Ae),v(ye),v(L);var Te=E(L,2);Te.__click=[du,fe];var Pe=y(Te,!0);v(Te);var De=E(Te,2),Re=y(De),Je=y(Re),mt=E(Je);gr(mt,{get rawResultLines(){return m(c)}}),v(Re);var lt=E(Re,2),ut=y(lt);ze(ut),v(lt),v(De),v(ae),X(()=>{H(me,n),H(ve,ge.subtitulos),H(Pe,ge.aplicarColor),H(Je,`${ge.resultado} `)}),Dt(xe,()=>m(K),T=>w(K,T)),Se(Ae,()=>m(u),T=>w(u,T)),Se(ut,()=>m(c),T=>w(c,T)),G(t,ae),Ke()}nt(["click"]);var pu=Z('<div class="mt-2 mb-2 has-text-danger"> </div>'),mu=(t,e)=>e(),hu=()=>{},gu=Z('<section class="svelte-zvcrdg"><h1> </h1> <!> <div class="field"><label class="label" for="">Secuencia de posiciones</label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <label class="checkbox reverse"><input type="checkbox"/> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea" readonly=""></textarea></div></div></section>');function vu(t,e){We(e,!0);const n=ge.aplicarSecuenciaPosiciones;let o=D(""),i=D(""),r=D(""),l=D(!1),u=D("");Jo(()=>{c(m(o),m(i),m(l))});function c($,fe,ae){if(w(u,""),w(r,""),fe.length==0)return;const te=[];{const le=$.split(`
`);for(let ie=0;ie<le.length;ie++){const W=le[ie];if(W.length==0)continue;const se=Tt(W);if(se==null)continue;const z=Ne(se.content);if(zt(z)==null){w(u,`Secuencia, línea ${ie+1}, \\pos no encontrado: '${W}'`);return}te.push(se)}}const me=[];{const le=fe.split(`
`);for(let ie=0;ie<le.length;ie++){const W=le[ie];if(W.length==0)continue;const se=Tt(W);if(se==null)continue;const z=Ne(se.content);if(zt(z)==null){w(u,`Subtítulos, línea ${ie+1}, \\pos no encontrado: '${W}'`);return}me.push(se)}}let we="";for(let le=0;le<me.length;le++){const ie=me[le],W=Ne(ie.content),se=zt(W);if(se==null){const L=$e(ie);w(u,`Subtítulos, línea ${le+1}, \\pos no encontrado: '${L}'`);return}let z=se.x,ue=se.y;ae&&te.reverse();const _e=d(te),xe=[];for(let L=0;L<te.length;L++){const Q=_e[L][0],ve=_e[L][1],ye=z+Q,Ae=ue+ve;z=ye,ue=Ae,lr(W,ye,Ae),ie.content=Ge(W);const Te=te[L];ie.start=Te.start,ie.end=Te.end,xe.push(structuredClone(ie))}ae&&(te.reverse(),xe.reverse());for(const L of xe)we+=$e(L)+`
`}w(r,we,!0)}function d($){const ae=[[0,0]];for(let te=0;te<$.length-1;te++){const me=$[te],we=$[te+1],le=Ne(me.content),ie=zt(le);if(ie==null)return w(u,`Subtítulos, línea ${te+1}, \\pos no encontrado: '${$e(me)}'`),[];const W=Ne(we.content),se=zt(W);if(se==null)return w(u,`Subtítulos, línea ${te+2}, \\pos encontrado: '${$e(we)}'`),[];const z=se.x-ie.x,ue=se.y-ie.y;ae.push([z,ue])}return ae}async function f(){await navigator.clipboard.writeText(m(r)),alert("¡Líneas copiadas al portapapeles!")}function p(){w(o,m(o)+`Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.6,593.8)}Tama:
`),w(o,m(o)+`Dialogue: 1,0:23:58.08,0:23:58.12,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.55,589.69)}Tama:
`),w(o,m(o)+`Dialogue: 1,0:23:58.12,0:23:58.16,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.56,585.4)}Tama:
`),w(o,m(o)+`Dialogue: 1,0:23:58.16,0:23:58.20,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.41,581.09)}Tama:
`),w(o,m(o)+`Dialogue: 1,0:23:58.20,0:23:58.24,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.31,576.78)}Tama:
`),w(o,m(o)+`Dialogue: 1,0:23:58.24,0:23:58.29,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.22,572.39)}Tama:
`),w(o,m(o)+`Dialogue: 1,0:23:58.29,0:23:58.33,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.06,568.18)}Tama:
`),w(o,m(o)+`Dialogue: 1,0:23:58.33,0:23:58.37,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.13,563.34)}Tama:
`),w(o,m(o)+`Dialogue: 1,0:23:58.37,0:23:58.41,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.99,558.77)}Tama:
`),w(o,m(o)+"Dialogue: 1,0:23:58.41,0:23:58.45,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.96,554.13)}Tama:"),w(i,"Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(1039.6,593.8)}LINEA")}wt(()=>{p()});var h=gu();yt($=>{X(()=>_t.title=n)});var g=y(h),_=y(g,!0);v(g);var b=E(g,2);{var C=$=>{var fe=pu(),ae=y(fe,!0);v(fe),X(()=>H(ae,m(u))),G($,fe)};re(b,$=>{m(u)!=""&&$(C)})}var A=E(b,2),I=E(y(A),2),P=y(I);ze(P),v(I),v(A);var M=E(A,2),x=y(M);Be(x),kt(),v(M);var S=E(M,2),R=y(S),q=y(R,!0);v(R);var N=E(R,2),V=y(N);ze(V),v(N),v(S);var U=E(S,2),B=y(U),K=y(B),j=E(K);j.__click=[mu,f],j.__keydown=[hu],v(B);var J=E(B,2),Y=y(J);ze(Y),v(J),v(U),v(h),X(()=>{H(_,n),H(q,ge.subtitulos),H(K,`${ge.resultado} `)}),Se(P,()=>m(o),$=>w(o,$)),Dt(x,()=>m(l),$=>w(l,$)),Se(V,()=>m(i),$=>w(i,$)),Se(Y,()=>m(r),$=>w(r,$)),G(t,h),Ke()}nt(["click","keydown"]);var wu=Z('<div class="mt-2 mb-2 has-text-danger"> </div>'),yu=(t,e)=>e(),_u=()=>{},Tu=Z('<section class="svelte-1198c36"><h1> </h1> <!> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea" readonly=""></textarea></div></div></section>');function Cu(t,e){We(e,!0);const n=ge.dividirSilabas;let o=D(""),i=D(""),r=D(""),l=D("");function u(){if(w(o,""),w(l,""),m(r).length==0)return;const N=m(r).split(`
`);let V="";for(let U=0;U<N.length;U++){const B=N[U];if(B.length==0)continue;const K=Tt(B);if(K==null){w(o,`Subtítulos, línea ${U+1} inválida: '${B}'`);break}Rl(K);const j=$e(K);U>0&&(V+=`
`),V+=j}w(l,V,!0)}async function c(){await navigator.clipboard.writeText(m(l)),alert("¡Líneas copiadas al portapapeles!")}wt(()=>{w(i,m(i)+`Comment: 0,0:01:15.11,0:01:17.74,Romaji,,0,0,0,karaoke,dareka wo mamoreru watashi ni natte
`),w(i,m(i)+`Comment: 0,0:01:17.85,0:01:20.44,Romaji,,0,0,0,karaoke,mune wo hatte itsuka omoerun da
`),w(i,m(i)+`Comment: 0,0:01:20.58,0:01:30.42,Romaji,,0,0,0,karaoke,ano hi kimi ni deaete yokatta
`),w(r,m(i),!0),u()});var d=Tu();yt(N=>{X(()=>_t.title=n)});var f=y(d),p=y(f,!0);v(f);var h=E(f,2);{var g=N=>{var V=wu(),U=y(V,!0);v(V),X(()=>H(U,m(o))),G(N,V)};re(h,N=>{m(o)!=""&&N(g)})}var _=E(h,2),b=y(_),C=y(b);v(b);var A=E(b,2),I=y(A);ze(I),I.__input=u,v(A),v(_);var P=E(_,2),M=y(P),x=y(M),S=E(x);S.__click=[yu,c],S.__keydown=[_u],v(M);var R=E(M,2),q=y(R);ze(q),v(R),v(P),v(d),X(()=>{H(p,n),H(C,`${ge.subtitulos} (romaji)`),Ft(I,"placeholder",m(i)),H(x,`${ge.resultado} `)}),Se(I,()=>m(r),N=>w(r,N)),Se(q,()=>m(l),N=>w(l,N)),G(t,d),Ke()}nt(["input","click","keydown"]);var Eu=Z('<p class="error svelte-1xyjn05"> </p>'),bu=Z("<button> </button>"),Au=Z('<p class="preview"> <b> </b></p>'),Su=(t,e)=>e(),Iu=()=>{},xu=Z('<section class="svelte-1xyjn05"><h1> </h1> <div class="field"><label class="label" for="">Karaoke</label> <div class="control"><input class="input" type="text"/></div></div> <!> <div class="mb-2"><label class="label mt-2" for="">Sílaba divisoria</label> <div class="buttons"></div></div> <div class="field"><label class="label" for="">Vista previa</label> <!></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea" readonly=""></textarea></div></div></section>');function ku(t,e){We(e,!0);const n=ge.dividirKaraoke,o="Comment: 0,0:15:11.75,0:15:23.36,Romaji I,,0,0,0,karaoke,{\\k25}de{\\k19}ki{\\k20}te {\\k19}i{\\k37}na{\\k22}i{\\k20}n {\\k19}da{\\k19}ka{\\k28}ra{\\k31} {\\k29}ya{\\k28}sa{\\k37}shi{\\k40}ku {\\k40}o{\\k15}ko{\\k24}shi{\\k18}te {\\k275}ho{\\k29}{\\k88}shi{\\k279}i";let i=D(o),r=D(un([])),l=D(""),u=D(un([])),c=D(0),d=D("");function f(){const J=Tt(m(i));if(J==null)return;const Y=Ne(J.content);hi(Y);const $=0;let fe=m(u)[m(c)].index+1,ae=0;for(let ue=0;ue<=m(c);ue++){const _e=m(u)[ue];_e.centiseconds!=null&&(ae+=_e.centiseconds)}const te=gi(J.start),me=gi(J.end),we=Y.slice($,fe);J.content=Ge(we);const le=ae/100;J.end=yo(te+le),w(l,$e(J),!0);let ie=!0,W=0;for(;ie;){const ue=Y[fe+1];if(ue?.name!="text"){ie=!1;break}if(ie=ue.value.replaceAll(" ","").length===0,ie&&(fe+=2,W++),W>m(u).length)break}let se=0;for(let ue=m(c)+1+W;ue<m(u).length;ue++){const _e=m(u)[ue];_e?.centiseconds!=null&&(se+=_e.centiseconds)}console.log({centisecondsSecondLine:se});const z=Y.slice(fe);J.end=yo(me),J.start=yo(me-se/100),J.content=Ge(z),w(l,m(l)+(`
`+$e(J))),w(r,[Ge(we.filter(ue=>ue.name=="text")),Ge(z.filter(ue=>ue.name=="text"))],!0)}async function p(){await navigator.clipboard.writeText(m(l)),alert("¡Líneas copiadas al portapapeles!")}function h(){w(r,[],!0),w(l,""),w(u,[],!0),w(c,0),w(d,"");const J=Tt(m(i));if(J==null)return w(d,`Línea de karaoke inválida. Se esperaba el formato: <${o}>.`),[];const Y=Ne(J.content);hi(Y);for(let $=0;$<Y.length;$++){const fe=Y[$];if(fe.name!="text")continue;m(u).push({index:$,text:fe.value.replaceAll(" ",""),centiseconds:null});const ae=$-1;if(ae<0)continue;const te=Y[ae];if(te.name!="effect")continue;const me=te.tags.find(le=>le.name===je.kLowerCase||le.name===je.kUpperCase||le.name===je.kf||le.name===je.ko);me==null||!(me.name===je.kLowerCase||me.name===je.kUpperCase||me.name===je.kf||me.name===je.ko)||(m(u)[m(u).length-1].centiseconds=me.value)}return w(c,Math.floor(m(u).length/2),!0),w(c,9),f(),m(u)}wt(()=>{h()});var g=xu();yt(J=>{X(()=>_t.title=n)});var _=y(g),b=y(_,!0);v(_);var C=E(_,2),A=E(y(C),2),I=y(A);Be(I),Ft(I,"placeholder",o),I.__input=h,v(A),v(C);var P=E(C,2);{var M=J=>{var Y=Eu(),$=y(Y,!0);v(Y),X(()=>H($,m(d))),G(J,Y)};re(P,J=>{m(d)!=""&&J(M)})}var x=E(P,2),S=E(y(x),2);Pt(S,21,()=>m(u),Vt,(J,Y,$)=>{var fe=Qe(),ae=Fe(fe);{var te=me=>{var we=bu();we.__click=()=>{w(c,$,!0),f()};var le=y(we,!0);v(we),X(()=>{It(we,1,`button ${$===m(c)?"is-link":""}`),Ft(we,"title",`${m(Y).text}: ${m(Y).centiseconds} centésimas`),H(le,m(Y).text)}),G(me,we)};re(ae,me=>{m(Y).text.replaceAll(" ","").length>0&&me(te)})}G(J,fe)}),v(S),v(x);var R=E(x,2),q=E(y(R),2);Pt(q,17,()=>m(r),Vt,(J,Y,$)=>{var fe=Au(),ae=y(fe);ae.nodeValue=`Línea ${$+1}: `;var te=E(ae),me=y(te,!0);v(te),v(fe),X(()=>H(me,m(Y))),G(J,fe)}),v(R);var N=E(R,2),V=y(N),U=y(V),B=E(U);B.__click=[Su,p],B.__keydown=[Iu],v(V);var K=E(V,2),j=y(K);ze(j),v(K),v(N),v(g),X(()=>{H(b,n),H(U,`${ge.resultado} `)}),Se(I,()=>m(i),J=>w(i,J)),Se(j,()=>m(l),J=>w(l,J)),G(t,g),Ke()}nt(["input","click","keydown"]);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Pu,Ru;function Mu(){return{geminiUrl:Pu,vertexUrl:Ru}}function Nu(t,e,n,o){var i,r;if(!t?.baseUrl){const l=Mu();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(r=l.geminiUrl)!==null&&r!==void 0?r:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qt{}function O(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function a(t,e,n){for(let r=0;r<e.length-1;r++){const l=e[r];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,e.slice(r+1),n[d])}else for(const d of c)a(d,e.slice(r+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];a(c[0],e.slice(r+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const o=e[e.length-1],i=t[o];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function s(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const i=e[o];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in t){const l=t[r];return Array.isArray(l)?l.map(u=>s(u,e.slice(o+1),n)):n}else return n}else t=t[i]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function Du(t,e){for(const[n,o]of Object.entries(e)){const i=n.split("."),r=o.split("."),l=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&r.length>u)for(let c=u;c<r.length;c++){const d=r[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Ro(t,i,r,0,l)}}function Ro(t,e,n,o,i){if(o>=e.length||typeof t!="object"||t===null)return;const r=e[o];if(r.endsWith("[]")){const l=r.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const c of u[l])Ro(c,e,n,o+1,i)}else if(r==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const p=[];for(const h of n.slice(o))h==="*"?p.push(d):p.push(h);a(l,p,f)}for(const d of u)delete l[d]}}else{const l=t;r in l&&Ro(l[r],e,n,o+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yo(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lu(t){const e={},n=s(t,["operationName"]);n!=null&&a(e,["operationName"],n);const o=s(t,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function Vu(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Fu(l)),e}function Uu(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],qu(l)),e}function Fu(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Bu(l))),a(e,["generatedVideos"],r)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=s(t,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function qu(t){const e={},n=s(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Gu(l))),a(e,["generatedVideos"],r)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=s(t,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function Bu(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],Ju(n)),e}function Gu(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],Yu(n)),e}function Hu(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function $u(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function Ju(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Yo(o));const i=s(t,["encoding"]);return i!=null&&a(e,["mimeType"],i),e}function Yu(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Yo(o));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _i;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(_i||(_i={}));var Ti;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ti||(Ti={}));var Ci;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Ci||(Ci={}));var dt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(dt||(dt={}));var Ei;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ei||(Ei={}));var bi;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(bi||(bi={}));var Ai;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ai||(Ai={}));var Si;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Si||(Si={}));var Ii;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Ii||(Ii={}));var xi;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xi||(xi={}));var ki;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ki||(ki={}));var Pi;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Pi||(Pi={}));var Ri;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ri||(Ri={}));var Mi;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Mi||(Mi={}));var Ni;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Ni||(Ni={}));var Di;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Di||(Di={}));var Bn;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Bn||(Bn={}));var Li;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Li||(Li={}));var Mo;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Mo||(Mo={}));var Vi;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Vi||(Vi={}));var Ui;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ui||(Ui={}));var Fi;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Fi||(Fi={}));var qi;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(qi||(qi={}));var Bi;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Bi||(Bi={}));var Gi;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Gi||(Gi={}));var Hi;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Hi||(Hi={}));var $i;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})($i||($i={}));var Ji;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ji||(Ji={}));var Yi;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Yi||(Yi={}));var Wi;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Wi||(Wi={}));var Ki;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Ki||(Ki={}));var zi;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(zi||(zi={}));var Oi;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Oi||(Oi={}));var Xi;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Xi||(Xi={}));var Zi;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Zi||(Zi={}));var Qi;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Qi||(Qi={}));var ji;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ji||(ji={}));var es;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(es||(es={}));var ts;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ts||(ts={}));var ns;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ns||(ns={}));var os;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(os||(os={}));var is;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(is||(is={}));var ss;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ss||(ss={}));var rs;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rs||(rs={}));var as;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(as||(as={}));var ls;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ls||(ls={}));var us;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(us||(us={}));var ds;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(ds||(ds={}));var nn;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(nn||(nn={}));class No{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class An{get text(){var e,n,o,i,r,l,u,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const p=[];for(const h of(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,_]of Object.entries(h))g!=="text"&&g!=="thought"&&(_!==null||_!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,i,r,l,u,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const p of(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,i,r,l,u,c;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,o,i,r,l,u,c,d;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,i,r,l,u,c,d;if(((i=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}}class cs{}class fs{}class Wu{}class Ku{}class zu{}class Ou{}class ps{}class ms{}class hs{}class Xu{}class Gn{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const o=new Gn;let i;const r=e;return n?i=Uu(r):i=Vu(r),Object.assign(o,i),o}}class gs{}class vs{}class ws{}class Zu{}class Qu{}class ju{}class ys{}class ed{get text(){var e,n,o;let i="",r=!1;const l=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;r=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var e,n,o;let i="";const r=[];for(const l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&r.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class td{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ee(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function vr(t,e){const n=Ee(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function wr(t){return Array.isArray(t)?t.map(e=>Hn(e)):[Hn(t)]}function Hn(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function yr(t){const e=Hn(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _r(t){const e=Hn(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _s(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Tr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>_s(e)):[_s(t)]}function Do(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ts(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Cs(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function et(t){if(t==null)throw new Error("ContentUnion is required");return Do(t)?t:{role:"user",parts:Tr(t)}}function Wo(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=et(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=et(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>et(n)):[et(e)]}function gt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ts(t)||Cs(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[et(t)]}const e=[],n=[],o=Do(t[0]);for(const i of t){const r=Do(i);if(r!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(i);else{if(Ts(i)||Cs(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return o||e.push({role:"user",parts:Tr(n)}),e}function nd(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(dt).includes(n[0].toUpperCase())?n[0].toUpperCase():dt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(dt).includes(o.toUpperCase())?o.toUpperCase():dt.TYPE_UNSPECIFIED})}}function on(t){const e={},n=["items"],o=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=t.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,t=r[1]):r[1].type==="null"&&(e.nullable=!0,t=r[0])),t.type instanceof Array&&nd(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(dt).includes(u.toUpperCase())?u.toUpperCase():dt.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=on(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(on(d))}e[l]=c}else if(i.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=on(f);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=u}return e}function Ko(t){return on(t)}function zo(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Oo(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function pn(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=on(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=on(e.response));return t}function mn(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function od(t,e,n,o=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function qt(t,e){if(typeof e!="string")throw new Error("name must be a string");return od(t,e,"cachedContents")}function Cr(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ht(t){return Yo(t)}function id(t){return t!=null&&typeof t=="object"&&"name"in t}function sd(t){return t!=null&&typeof t=="object"&&"video"in t}function rd(t){return t!=null&&typeof t=="object"&&"uri"in t}function Er(t){var e;let n;if(id(t)&&(n=t.name),!(rd(t)&&(n=t.uri,n===void 0))&&!(sd(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function br(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Ar(t){for(const e of["models","tunedModels","publisherModels"])if(ad(t,e))return t[e];return[]}function ad(t,e){return t!==null&&typeof t=="object"&&e in t}function ld(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function ud(t,e={}){const n=[],o=new Set;for(const i of t){const r=i.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const l=ld(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Sr(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function dd(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Ir(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let r=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){r=!0;break}}return r&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function hn(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function xr(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cd(t){const e={},n=s(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const o=s(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Hd(l))),a(e,["inlinedResponses"],r)}const i=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["inlinedEmbedContentResponses"],r)}return e}function fd(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);const i=s(t,["bigqueryDestination","outputUri"]);return i!=null&&a(e,["bigqueryUri"],i),e}function pd(t){const e={},n=s(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);const i=s(t,["bigqueryUri"]);if(i!=null&&a(e,["bigqueryDestination","outputUri"],i),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Un(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);const i=s(t,["metadata","state"]);i!=null&&a(e,["state"],xr(i));const r=s(t,["metadata","createTime"]);r!=null&&a(e,["createTime"],r);const l=s(t,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(t,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const c=s(t,["metadata","model"]);c!=null&&a(e,["model"],c);const d=s(t,["metadata","output"]);return d!=null&&a(e,["dest"],cd(Ir(d))),e}function Lo(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const i=s(t,["state"]);i!=null&&a(e,["state"],xr(i));const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(e,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(e,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(e,["updateTime"],d);const f=s(t,["model"]);f!=null&&a(e,["model"],f);const p=s(t,["inputConfig"]);p!=null&&a(e,["src"],md(p));const h=s(t,["outputConfig"]);return h!=null&&a(e,["dest"],fd(Ir(h))),e}function md(t){const e={},n=s(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);const i=s(t,["bigquerySource","inputUri"]);return i!=null&&a(e,["bigqueryUri"],i),e}function hd(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&a(n,["fileName"],o);const i=s(e,["inlinedRequests"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Gd(t,l))),a(n,["requests","requests"],r)}return n}function gd(t){const e={},n=s(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);const i=s(t,["bigqueryUri"]);if(i!=null&&a(e,["bigquerySource","inputUri"],i),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function vd(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&a(e,["data"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function wd(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],hn(t,o)),n}function yd(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],hn(t,o)),n}function _d(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],Td(o));const i=s(t,["tokenCount"]);i!=null&&a(e,["tokenCount"],i);const r=s(t,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(t,["urlContextMetadata"]);l!=null&&a(e,["urlContextMetadata"],l);const u=s(t,["avgLogprobs"]);u!=null&&a(e,["avgLogprobs"],u);const c=s(t,["groundingMetadata"]);c!=null&&a(e,["groundingMetadata"],c);const d=s(t,["index"]);d!=null&&a(e,["index"],d);const f=s(t,["logprobsResult"]);f!=null&&a(e,["logprobsResult"],f);const p=s(t,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),a(e,["safetyRatings"],h)}return e}function Td(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(e,["citations"],o)}return e}function kr(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Od(r))),a(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function Cd(t,e){const n={},o=s(t,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Ed(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const i=s(t,["dest"]);return e!==void 0&&i!=null&&a(e,["outputConfig"],pd(dd(i))),n}function Es(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["src"]);i!=null&&a(n,["batch","inputConfig"],hd(t,Sr(t,i)));const r=s(e,["config"]);return r!=null&&Cd(r,n),n}function bd(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],Ee(t,o));const i=s(e,["src"]);i!=null&&a(n,["inputConfig"],gd(Sr(t,i)));const r=s(e,["config"]);return r!=null&&Ed(r,n),n}function Ad(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),n}function Sd(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["src"]);i!=null&&a(n,["batch","inputConfig"],Nd(t,i));const r=s(e,["config"]);return r!=null&&Ad(r,n),n}function Id(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],hn(t,o)),n}function xd(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],hn(t,o)),n}function kd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);return r!=null&&a(e,["error"],r),e}function Pd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);return r!=null&&a(e,["error"],r),e}function Rd(t,e){const n={},o=s(e,["contents"]);if(o!=null){let r=Wo(t,o);Array.isArray(r)&&(r=r.map(l=>l)),a(n,["requests[]","request","content"],r)}const i=s(e,["config"]);return i!=null&&(a(n,["_self"],Md(i,n)),Du(n,{"requests[].*":"requests[].request.*"})),n}function Md(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const i=s(t,["title"]);e!==void 0&&i!=null&&a(e,["requests[]","title"],i);const r=s(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&a(e,["requests[]","outputDimensionality"],r),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Nd(t,e){const n={},o=s(e,["fileName"]);o!=null&&a(n,["file_name"],o);const i=s(e,["inlinedRequests"]);return i!=null&&a(n,["requests"],Rd(t,i)),n}function Dd(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Ld(t,e,n){const o={},i=s(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],kr(et(i)));const r=s(e,["temperature"]);r!=null&&a(o,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const g=s(e,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const _=s(e,["frequencyPenalty"]);_!=null&&a(o,["frequencyPenalty"],_);const b=s(e,["seed"]);b!=null&&a(o,["seed"],b);const C=s(e,["responseMimeType"]);C!=null&&a(o,["responseMimeType"],C);const A=s(e,["responseSchema"]);A!=null&&a(o,["responseSchema"],Ko(A));const I=s(e,["responseJsonSchema"]);if(I!=null&&a(o,["responseJsonSchema"],I),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=s(e,["safetySettings"]);if(n!==void 0&&P!=null){let B=P;Array.isArray(B)&&(B=B.map(K=>Xd(K))),a(n,["safetySettings"],B)}const M=s(e,["tools"]);if(n!==void 0&&M!=null){let B=mn(M);Array.isArray(B)&&(B=B.map(K=>Zd(pn(K)))),a(n,["tools"],B)}const x=s(e,["toolConfig"]);if(n!==void 0&&x!=null&&a(n,["toolConfig"],x),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=s(e,["cachedContent"]);n!==void 0&&S!=null&&a(n,["cachedContent"],qt(t,S));const R=s(e,["responseModalities"]);R!=null&&a(o,["responseModalities"],R);const q=s(e,["mediaResolution"]);q!=null&&a(o,["mediaResolution"],q);const N=s(e,["speechConfig"]);if(N!=null&&a(o,["speechConfig"],zo(N)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=s(e,["thinkingConfig"]);V!=null&&a(o,["thinkingConfig"],V);const U=s(e,["imageConfig"]);return U!=null&&a(o,["imageConfig"],U),o}function Vd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>_d(d))),a(e,["candidates"],c)}const i=s(t,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const r=s(t,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Ud(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],hn(t,o)),n}function Fd(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],hn(t,o)),n}function qd(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Bd(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],n),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Gd(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["request","model"],Ee(t,o));const i=s(e,["contents"]);if(i!=null){let u=gt(i);Array.isArray(u)&&(u=u.map(c=>kr(c))),a(n,["request","contents"],u)}const r=s(e,["metadata"]);r!=null&&a(n,["metadata"],r);const l=s(e,["config"]);return l!=null&&a(n,["request","generationConfig"],Ld(t,l,s(n,["request"],{}))),n}function Hd(t){const e={},n=s(t,["response"]);n!=null&&a(e,["response"],Vd(n));const o=s(t,["error"]);return o!=null&&a(e,["error"],o),e}function $d(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);if(e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Jd(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const r=s(t,["filter"]);return e!==void 0&&r!=null&&a(e,["_query","filter"],r),n}function Yd(t){const e={},n=s(t,["config"]);return n!=null&&$d(n,e),e}function Wd(t){const e={},n=s(t,["config"]);return n!=null&&Jd(n,e),e}function Kd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["operations"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Un(l))),a(e,["batchJobs"],r)}return e}function zd(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["batchPredictionJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Lo(l))),a(e,["batchJobs"],r)}return e}function Od(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],n);const o=s(t,["thought"]);o!=null&&a(e,["thought"],o);const i=s(t,["inlineData"]);i!=null&&a(e,["inlineData"],vd(i));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],Dd(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],u);const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const d=s(t,["executableCode"]);d!=null&&a(e,["executableCode"],d);const f=s(t,["functionResponse"]);f!=null&&a(e,["functionResponse"],f);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function Xd(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=s(t,["category"]);n!=null&&a(e,["category"],n);const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function Zd(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["functionDeclarations"],d)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearch"]);o!=null&&a(e,["googleSearch"],Bd(o));const i=s(t,["googleSearchRetrieval"]);if(i!=null&&a(e,["googleSearchRetrieval"],i),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(t,["googleMaps"]);r!=null&&a(e,["googleMaps"],qd(r));const l=s(t,["urlContext"]);l!=null&&a(e,["urlContext"],l);const u=s(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=s(t,["codeExecution"]);return c!=null&&a(e,["codeExecution"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Xt||(Xt={}));class kn{constructor(e,n,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,i)}init(e,n,o){var i,r;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(r=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qd extends Qt{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new kn(Xt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Es(this.apiClient,e),o=n._url,i=O("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const p=Object.assign({},f);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const g=p.request;g.systemInstruction=h,p.request=g}d.push(p)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const r=this.getGcsUri(e),l=this.getBigqueryUri(e);if(r)r.endsWith(".jsonl")?o.dest=`${r.slice(0,-6)}/dest`:o.dest=`${r}_dest_${i}`;else if(l)o.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=bd(this.apiClient,e);return u=O("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Lo(f))}else{const d=Es(this.apiClient,e);return u=O("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Un(f))}}async createEmbeddingsInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sd(this.apiClient,e);return r=O("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>Un(c))}}async get(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Fd(this.apiClient,e);return u=O("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Lo(f))}else{const d=Ud(this.apiClient,e);return u=O("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Un(f))}}async cancel(e){var n,o,i,r;let l="",u={};if(this.apiClient.isVertexAI()){const c=yd(this.apiClient,e);l=O("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=wd(this.apiClient,e);l=O("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Wd(e);return u=O("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=zd(f),h=new ys;return Object.assign(h,p),h})}else{const d=Yd(e);return u=O("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Kd(f),h=new ys;return Object.assign(h,p),h})}}async delete(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=xd(this.apiClient,e);return u=O("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Pd(f))}else{const d=Id(this.apiClient,e);return u=O("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>kd(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jd(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&a(e,["data"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function bs(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>_c(r))),a(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function ec(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=s(t,["expireTime"]);e!==void 0&&i!=null&&a(e,["expireTime"],i);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let f=gt(l);Array.isArray(f)&&(f=f.map(p=>bs(p))),a(e,["contents"],f)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],bs(et(u)));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>Tc(p))),a(e,["tools"],f)}const d=s(t,["toolConfig"]);if(e!==void 0&&d!=null&&a(e,["toolConfig"],d),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function tc(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=s(t,["expireTime"]);e!==void 0&&i!=null&&a(e,["expireTime"],i);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let p=gt(l);Array.isArray(p)&&(p=p.map(h=>h)),a(e,["contents"],p)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],et(u));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>Cc(h))),a(e,["tools"],p)}const d=s(t,["toolConfig"]);e!==void 0&&d!=null&&a(e,["toolConfig"],d);const f=s(t,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),n}function nc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],vr(t,o));const i=s(e,["config"]);return i!=null&&ec(i,n),n}function oc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],vr(t,o));const i=s(e,["config"]);return i!=null&&tc(i,n),n}function ic(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],qt(t,o)),n}function sc(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],qt(t,o)),n}function rc(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function ac(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function lc(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function uc(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const i=s(t,["parameters"]);i!=null&&a(e,["parameters"],i);const r=s(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function dc(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],qt(t,o)),n}function cc(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],qt(t,o)),n}function fc(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function pc(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],n),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function mc(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function hc(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function gc(t){const e={},n=s(t,["config"]);return n!=null&&mc(n,e),e}function vc(t){const e={},n=s(t,["config"]);return n!=null&&hc(n,e),e}function wc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["cachedContents"],r)}return e}function yc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["cachedContents"],r)}return e}function _c(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],n);const o=s(t,["thought"]);o!=null&&a(e,["thought"],o);const i=s(t,["inlineData"]);i!=null&&a(e,["inlineData"],jd(i));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],lc(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],u);const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const d=s(t,["executableCode"]);d!=null&&a(e,["executableCode"],d);const f=s(t,["functionResponse"]);f!=null&&a(e,["functionResponse"],f);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function Tc(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["functionDeclarations"],d)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearch"]);o!=null&&a(e,["googleSearch"],pc(o));const i=s(t,["googleSearchRetrieval"]);if(i!=null&&a(e,["googleSearchRetrieval"],i),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(t,["googleMaps"]);r!=null&&a(e,["googleMaps"],fc(r));const l=s(t,["urlContext"]);l!=null&&a(e,["urlContext"],l);const u=s(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=s(t,["codeExecution"]);return c!=null&&a(e,["codeExecution"],c),e}function Cc(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>uc(h))),a(e,["functionDeclarations"],p)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const i=s(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],i);const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const l=s(t,["enterpriseWebSearch"]);l!=null&&a(e,["enterpriseWebSearch"],l);const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(t,["urlContext"]);c!=null&&a(e,["urlContext"],c);const d=s(t,["computerUse"]);d!=null&&a(e,["computerUse"],d);const f=s(t,["codeExecution"]);return f!=null&&a(e,["codeExecution"],f),e}function Ec(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=s(t,["expireTime"]);return e!==void 0&&i!=null&&a(e,["expireTime"],i),n}function bc(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=s(t,["expireTime"]);return e!==void 0&&i!=null&&a(e,["expireTime"],i),n}function Ac(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],qt(t,o));const i=s(e,["config"]);return i!=null&&Ec(i,n),n}function Sc(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],qt(t,o));const i=s(e,["config"]);return i!=null&&bc(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ic extends Qt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new kn(Xt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=oc(this.apiClient,e);return u=O("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=nc(this.apiClient,e);return u=O("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=cc(this.apiClient,e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=dc(this.apiClient,e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=sc(this.apiClient,e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=ac(f),h=new vs;return Object.assign(h,p),h})}else{const d=ic(this.apiClient,e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=rc(f),h=new vs;return Object.assign(h,p),h})}}async update(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Sc(this.apiClient,e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Ac(this.apiClient,e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=vc(e);return u=O("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=yc(f),h=new ws;return Object.assign(h,p),h})}else{const d=gc(e);return u=O("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=wc(f),h=new ws;return Object.assign(h,p),h})}}}function As(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ke(t){return this instanceof ke?(this.v=t,this):new ke(t)}function sn(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(g){return function(_){return Promise.resolve(_).then(g,p)}}function u(g,_){o[g]&&(i[g]=function(b){return new Promise(function(C,A){r.push([g,b,C,A])>1||c(g,b)})},_&&(i[g]=_(i[g])))}function c(g,_){try{d(o[g](_))}catch(b){h(r[0][3],b)}}function d(g){g.value instanceof ke?Promise.resolve(g.value.v).then(f,p):h(r[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function h(g,_){g(_),r.shift(),r.length&&c(r[0][0],r[0][1])}}function In(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof As=="function"?As(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(r){n[r]=t[r]&&function(l){return new Promise(function(u,c){l=t[r](l),i(u,c,l.done,l.value)})}}function i(r,l,u,c){Promise.resolve(c).then(function(d){r({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xc(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Pr(n)}function Pr(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function kc(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ss(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const i=[];let r=!0;for(;o<n&&t[o].role==="model";)i.push(t[o]),r&&!Pr(t[o])&&(r=!1),o++;r?e.push(...i):e.pop()}return e}class Pc{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Rc(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Rc{constructor(e,n,o,i={},r=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),kc(r)}async sendMessage(e){var n;await this.sendPromise;const o=et(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var r,l,u;const c=await i,d=(l=(r=c.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];f!=null&&(h=(u=f.slice(p))!==null&&u!==void 0?u:[]);const g=d?[d]:[];this.recordHistory(o,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const o=et(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,o)}getHistory(e=!1){const n=e?Ss(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var o,i;return sn(this,arguments,function*(){var l,u,c,d;const f=[];try{for(var p=!0,h=In(e),g;g=yield ke(h.next()),l=g.done,!l;p=!0){d=g.value,p=!1;const _=d;if(xc(_)){const b=(i=(o=_.candidates)===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.content;b!==void 0&&f.push(b)}yield yield ke(_)}}catch(_){u={error:_}}finally{try{!p&&!l&&(c=h.return)&&(yield ke(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let i=[];n.length>0&&n.every(r=>r.role!==void 0)?i=n:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Ss(o)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class to extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,to.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mc(t){const e={},n=s(t,["file"]);return n!=null&&a(e,["file"],n),e}function Nc(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Dc(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],Er(n)),e}function Lc(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Vc(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],Er(n)),e}function Uc(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(t,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),n}function Fc(t){const e={},n=s(t,["config"]);return n!=null&&Uc(n,e),e}function qc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bc extends Qt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new kn(Xt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Fc(e);return r=O("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=qc(c),f=new Zu;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Mc(e);return r=O("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Nc(c),f=new Qu;return Object.assign(f,d),f})}}async get(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Vc(e);return r=O("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Dc(e);return r=O("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=Lc(c),f=new ju;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fn(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&a(e,["data"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Gc(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>nf(r))),a(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function Hc(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function $c(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const i=s(t,["parameters"]);i!=null&&a(e,["parameters"],i);const r=s(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function Jc(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["audioTimestamp"]);o!=null&&a(e,["audioTimestamp"],o);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const r=s(t,["enableAffectiveDialog"]);r!=null&&a(e,["enableAffectiveDialog"],r);const l=s(t,["frequencyPenalty"]);l!=null&&a(e,["frequencyPenalty"],l);const u=s(t,["logprobs"]);u!=null&&a(e,["logprobs"],u);const c=s(t,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const d=s(t,["mediaResolution"]);d!=null&&a(e,["mediaResolution"],d);const f=s(t,["presencePenalty"]);f!=null&&a(e,["presencePenalty"],f);const p=s(t,["responseJsonSchema"]);p!=null&&a(e,["responseJsonSchema"],p);const h=s(t,["responseLogprobs"]);h!=null&&a(e,["responseLogprobs"],h);const g=s(t,["responseMimeType"]);g!=null&&a(e,["responseMimeType"],g);const _=s(t,["responseModalities"]);_!=null&&a(e,["responseModalities"],_);const b=s(t,["responseSchema"]);b!=null&&a(e,["responseSchema"],b);const C=s(t,["routingConfig"]);C!=null&&a(e,["routingConfig"],C);const A=s(t,["seed"]);A!=null&&a(e,["seed"],A);const I=s(t,["speechConfig"]);I!=null&&a(e,["speechConfig"],Rr(I));const P=s(t,["stopSequences"]);P!=null&&a(e,["stopSequences"],P);const M=s(t,["temperature"]);M!=null&&a(e,["temperature"],M);const x=s(t,["thinkingConfig"]);x!=null&&a(e,["thinkingConfig"],x);const S=s(t,["topK"]);S!=null&&a(e,["topK"],S);const R=s(t,["topP"]);if(R!=null&&a(e,["topP"],R),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Yc(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Wc(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],n),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Kc(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const i=s(t,["responseModalities"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","responseModalities"],i);const r=s(t,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],Oo(p));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const g=s(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=s(t,["systemInstruction"]);e!==void 0&&_!=null&&a(e,["setup","systemInstruction"],Gc(et(_)));const b=s(t,["tools"]);if(e!==void 0&&b!=null){let S=mn(b);Array.isArray(S)&&(S=S.map(R=>sf(pn(R)))),a(e,["setup","tools"],S)}const C=s(t,["sessionResumption"]);e!==void 0&&C!=null&&a(e,["setup","sessionResumption"],of(C));const A=s(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&a(e,["setup","inputAudioTranscription"],A);const I=s(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&a(e,["setup","outputAudioTranscription"],I);const P=s(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&a(e,["setup","realtimeInputConfig"],P);const M=s(t,["contextWindowCompression"]);e!==void 0&&M!=null&&a(e,["setup","contextWindowCompression"],M);const x=s(t,["proactivity"]);return e!==void 0&&x!=null&&a(e,["setup","proactivity"],x),n}function zc(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],Jc(o));const i=s(t,["responseModalities"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","responseModalities"],i);const r=s(t,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],Rr(Oo(p)));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const g=s(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=s(t,["systemInstruction"]);e!==void 0&&_!=null&&a(e,["setup","systemInstruction"],et(_));const b=s(t,["tools"]);if(e!==void 0&&b!=null){let S=mn(b);Array.isArray(S)&&(S=S.map(R=>rf(pn(R)))),a(e,["setup","tools"],S)}const C=s(t,["sessionResumption"]);e!==void 0&&C!=null&&a(e,["setup","sessionResumption"],C);const A=s(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&a(e,["setup","inputAudioTranscription"],A);const I=s(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&a(e,["setup","outputAudioTranscription"],I);const P=s(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&a(e,["setup","realtimeInputConfig"],P);const M=s(t,["contextWindowCompression"]);e!==void 0&&M!=null&&a(e,["setup","contextWindowCompression"],M);const x=s(t,["proactivity"]);return e!==void 0&&x!=null&&a(e,["setup","proactivity"],x),n}function Oc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],Ee(t,o));const i=s(e,["config"]);return i!=null&&a(n,["config"],Kc(i,n)),n}function Xc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],Ee(t,o));const i=s(e,["config"]);return i!=null&&a(n,["config"],zc(i,n)),n}function Zc(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],n),e}function Qc(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(e,["weightedPrompts"],o)}return e}function jc(t){const e={},n=s(t,["media"]);if(n!=null){let d=wr(n);Array.isArray(d)&&(d=d.map(f=>Fn(f))),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],Fn(_r(o)));const i=s(t,["audioStreamEnd"]);i!=null&&a(e,["audioStreamEnd"],i);const r=s(t,["video"]);r!=null&&a(e,["video"],Fn(yr(r)));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function ef(t){const e={},n=s(t,["media"]);if(n!=null){let d=wr(n);Array.isArray(d)&&(d=d.map(f=>f)),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],_r(o));const i=s(t,["audioStreamEnd"]);i!=null&&a(e,["audioStreamEnd"],i);const r=s(t,["video"]);r!=null&&a(e,["video"],yr(r));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function tf(t){const e={},n=s(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],n);const o=s(t,["serverContent"]);o!=null&&a(e,["serverContent"],o);const i=s(t,["toolCall"]);i!=null&&a(e,["toolCall"],i);const r=s(t,["toolCallCancellation"]);r!=null&&a(e,["toolCallCancellation"],r);const l=s(t,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],af(l));const u=s(t,["goAway"]);u!=null&&a(e,["goAway"],u);const c=s(t,["sessionResumptionUpdate"]);return c!=null&&a(e,["sessionResumptionUpdate"],c),e}function nf(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],n);const o=s(t,["thought"]);o!=null&&a(e,["thought"],o);const i=s(t,["inlineData"]);i!=null&&a(e,["inlineData"],Fn(i));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],Hc(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],u);const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const d=s(t,["executableCode"]);d!=null&&a(e,["executableCode"],d);const f=s(t,["functionResponse"]);f!=null&&a(e,["functionResponse"],f);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function of(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Rr(t){const e={},n=s(t,["voiceConfig"]);if(n!=null&&a(e,["voiceConfig"],n),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=s(t,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function sf(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["functionDeclarations"],d)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearch"]);o!=null&&a(e,["googleSearch"],Wc(o));const i=s(t,["googleSearchRetrieval"]);if(i!=null&&a(e,["googleSearchRetrieval"],i),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(t,["googleMaps"]);r!=null&&a(e,["googleMaps"],Yc(r));const l=s(t,["urlContext"]);l!=null&&a(e,["urlContext"],l);const u=s(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=s(t,["codeExecution"]);return c!=null&&a(e,["codeExecution"],c),e}function rf(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>$c(h))),a(e,["functionDeclarations"],p)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const i=s(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],i);const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const l=s(t,["enterpriseWebSearch"]);l!=null&&a(e,["enterpriseWebSearch"],l);const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(t,["urlContext"]);c!=null&&a(e,["urlContext"],c);const d=s(t,["computerUse"]);d!=null&&a(e,["computerUse"],d);const f=s(t,["codeExecution"]);return f!=null&&a(e,["codeExecution"],f),e}function af(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const o=s(t,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);const i=s(t,["candidatesTokenCount"]);i!=null&&a(e,["responseTokenCount"],i);const r=s(t,["toolUsePromptTokenCount"]);r!=null&&a(e,["toolUsePromptTokenCount"],r);const l=s(t,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=s(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(_=>_)),a(e,["promptTokensDetails"],g)}const d=s(t,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(_=>_)),a(e,["cacheTokensDetails"],g)}const f=s(t,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(_=>_)),a(e,["responseTokensDetails"],g)}const p=s(t,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(_=>_)),a(e,["toolUsePromptTokensDetails"],g)}const h=s(t,["trafficType"]);return h!=null&&a(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lf(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&a(e,["data"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function uf(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],df(o));const i=s(t,["tokenCount"]);i!=null&&a(e,["tokenCount"],i);const r=s(t,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(t,["urlContextMetadata"]);l!=null&&a(e,["urlContextMetadata"],l);const u=s(t,["avgLogprobs"]);u!=null&&a(e,["avgLogprobs"],u);const c=s(t,["groundingMetadata"]);c!=null&&a(e,["groundingMetadata"],c);const d=s(t,["index"]);d!=null&&a(e,["index"],d);const f=s(t,["logprobsResult"]);f!=null&&a(e,["logprobsResult"],f);const p=s(t,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),a(e,["safetyRatings"],h)}return e}function df(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>i)),a(e,["citations"],o)}return e}function cf(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["contents"]);if(i!=null){let r=gt(i);Array.isArray(r)&&(r=r.map(l=>l)),a(n,["contents"],r)}return n}function ff(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["tokensInfo"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(e,["tokensInfo"],i)}return e}function pf(t){const e={},n=s(t,["values"]);n!=null&&a(e,["values"],n);const o=s(t,["statistics"]);return o!=null&&a(e,["statistics"],mf(o)),e}function mf(t){const e={},n=s(t,["truncated"]);n!=null&&a(e,["truncated"],n);const o=s(t,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function no(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>yp(r))),a(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function hf(t){const e={},n=s(t,["controlType"]);n!=null&&a(e,["controlType"],n);const o=s(t,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function gf(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function vf(t,e){const n={},o=s(t,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],et(o));const i=s(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Vr(u))),a(e,["tools"],l)}const r=s(t,["generationConfig"]);return e!==void 0&&r!=null&&a(e,["generationConfig"],rp(r)),n}function wf(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["contents"]);if(i!=null){let l=gt(i);Array.isArray(l)&&(l=l.map(u=>no(u))),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&gf(r),n}function yf(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["contents"]);if(i!=null){let l=gt(i);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&vf(r,n),n}function _f(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);const i=s(t,["cachedContentTokenCount"]);return i!=null&&a(e,["cachedContentTokenCount"],i),e}function Tf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function Cf(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],Ee(t,o)),n}function Ef(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],Ee(t,o)),n}function bf(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Af(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Sf(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const i=s(t,["negativePrompt"]);e!==void 0&&i!=null&&a(e,["parameters","negativePrompt"],i);const r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const p=s(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&a(e,["parameters","includeSafetyAttributes"],p);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const g=s(t,["language"]);e!==void 0&&g!=null&&a(e,["parameters","language"],g);const _=s(t,["outputMimeType"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","mimeType"],_);const b=s(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&a(e,["parameters","outputOptions","compressionQuality"],b);const C=s(t,["addWatermark"]);e!==void 0&&C!=null&&a(e,["parameters","addWatermark"],C);const A=s(t,["labels"]);e!==void 0&&A!=null&&a(e,["labels"],A);const I=s(t,["editMode"]);e!==void 0&&I!=null&&a(e,["parameters","editMode"],I);const P=s(t,["baseSteps"]);return e!==void 0&&P!=null&&a(e,["parameters","editConfig","baseSteps"],P),n}function If(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=s(e,["referenceImages"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>Ap(c))),a(n,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&Sf(l,n),n}function xf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>oo(r))),a(e,["generatedImages"],i)}return e}function kf(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const i=s(t,["title"]);e!==void 0&&i!=null&&a(e,["requests[]","title"],i);const r=s(t,["outputDimensionality"]);if(e!==void 0&&r!=null&&a(e,["requests[]","outputDimensionality"],r),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Pf(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);const i=s(t,["title"]);e!==void 0&&i!=null&&a(e,["instances[]","title"],i);const r=s(t,["outputDimensionality"]);e!==void 0&&r!=null&&a(e,["parameters","outputDimensionality"],r);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),n}function Rf(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["contents"]);if(i!=null){let u=Wo(t,i);Array.isArray(u)&&(u=u.map(c=>c)),a(n,["requests[]","content"],u)}const r=s(e,["config"]);r!=null&&kf(r,n);const l=s(e,["model"]);return l!==void 0&&a(n,["requests[]","model"],Ee(t,l)),n}function Mf(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["contents"]);if(i!=null){let l=Wo(t,i);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const r=s(e,["config"]);return r!=null&&Pf(r,n),n}function Nf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["embeddings"],r)}const i=s(t,["metadata"]);return i!=null&&a(e,["metadata"],i),e}function Df(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions[]","embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>pf(l))),a(e,["embeddings"],r)}const i=s(t,["metadata"]);return i!=null&&a(e,["metadata"],i),e}function Lf(t){const e={},n=s(t,["endpoint"]);n!=null&&a(e,["name"],n);const o=s(t,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function Vf(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Uf(t){const e={};if(s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const i=s(t,["parameters"]);i!=null&&a(e,["parameters"],i);const r=s(t,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);return u!=null&&a(e,["responseJsonSchema"],u),e}function Ff(t,e,n){const o={},i=s(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],no(et(i)));const r=s(e,["temperature"]);r!=null&&a(o,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const g=s(e,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const _=s(e,["frequencyPenalty"]);_!=null&&a(o,["frequencyPenalty"],_);const b=s(e,["seed"]);b!=null&&a(o,["seed"],b);const C=s(e,["responseMimeType"]);C!=null&&a(o,["responseMimeType"],C);const A=s(e,["responseSchema"]);A!=null&&a(o,["responseSchema"],Ko(A));const I=s(e,["responseJsonSchema"]);if(I!=null&&a(o,["responseJsonSchema"],I),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=s(e,["safetySettings"]);if(n!==void 0&&P!=null){let B=P;Array.isArray(B)&&(B=B.map(K=>Sp(K))),a(n,["safetySettings"],B)}const M=s(e,["tools"]);if(n!==void 0&&M!=null){let B=mn(M);Array.isArray(B)&&(B=B.map(K=>Mp(pn(K)))),a(n,["tools"],B)}const x=s(e,["toolConfig"]);if(n!==void 0&&x!=null&&a(n,["toolConfig"],x),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=s(e,["cachedContent"]);n!==void 0&&S!=null&&a(n,["cachedContent"],qt(t,S));const R=s(e,["responseModalities"]);R!=null&&a(o,["responseModalities"],R);const q=s(e,["mediaResolution"]);q!=null&&a(o,["mediaResolution"],q);const N=s(e,["speechConfig"]);if(N!=null&&a(o,["speechConfig"],zo(N)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=s(e,["thinkingConfig"]);V!=null&&a(o,["thinkingConfig"],V);const U=s(e,["imageConfig"]);return U!=null&&a(o,["imageConfig"],U),o}function qf(t,e,n){const o={},i=s(e,["systemInstruction"]);n!==void 0&&i!=null&&a(n,["systemInstruction"],et(i));const r=s(e,["temperature"]);r!=null&&a(o,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=s(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=s(e,["logprobs"]);h!=null&&a(o,["logprobs"],h);const g=s(e,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const _=s(e,["frequencyPenalty"]);_!=null&&a(o,["frequencyPenalty"],_);const b=s(e,["seed"]);b!=null&&a(o,["seed"],b);const C=s(e,["responseMimeType"]);C!=null&&a(o,["responseMimeType"],C);const A=s(e,["responseSchema"]);A!=null&&a(o,["responseSchema"],Ko(A));const I=s(e,["responseJsonSchema"]);I!=null&&a(o,["responseJsonSchema"],I);const P=s(e,["routingConfig"]);P!=null&&a(o,["routingConfig"],P);const M=s(e,["modelSelectionConfig"]);M!=null&&a(o,["modelConfig"],M);const x=s(e,["safetySettings"]);if(n!==void 0&&x!=null){let Y=x;Array.isArray(Y)&&(Y=Y.map($=>$)),a(n,["safetySettings"],Y)}const S=s(e,["tools"]);if(n!==void 0&&S!=null){let Y=mn(S);Array.isArray(Y)&&(Y=Y.map($=>Vr(pn($)))),a(n,["tools"],Y)}const R=s(e,["toolConfig"]);n!==void 0&&R!=null&&a(n,["toolConfig"],R);const q=s(e,["labels"]);n!==void 0&&q!=null&&a(n,["labels"],q);const N=s(e,["cachedContent"]);n!==void 0&&N!=null&&a(n,["cachedContent"],qt(t,N));const V=s(e,["responseModalities"]);V!=null&&a(o,["responseModalities"],V);const U=s(e,["mediaResolution"]);U!=null&&a(o,["mediaResolution"],U);const B=s(e,["speechConfig"]);B!=null&&a(o,["speechConfig"],Lr(zo(B)));const K=s(e,["audioTimestamp"]);K!=null&&a(o,["audioTimestamp"],K);const j=s(e,["thinkingConfig"]);j!=null&&a(o,["thinkingConfig"],j);const J=s(e,["imageConfig"]);return J!=null&&a(o,["imageConfig"],J),o}function Is(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["contents"]);if(i!=null){let l=gt(i);Array.isArray(l)&&(l=l.map(u=>no(u))),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(n,["generationConfig"],Ff(t,r,n)),n}function xs(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["contents"]);if(i!=null){let l=gt(i);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(n,["generationConfig"],qf(t,r,n)),n}function ks(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>uf(d))),a(e,["candidates"],c)}const i=s(t,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const r=s(t,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Ps(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["candidates"],d)}const i=s(t,["createTime"]);i!=null&&a(e,["createTime"],i);const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const l=s(t,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(t,["responseId"]);u!=null&&a(e,["responseId"],u);const c=s(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function Bf(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const i=s(t,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);const r=s(t,["guidanceScale"]);if(e!==void 0&&r!=null&&a(e,["parameters","guidanceScale"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(t,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const c=s(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&a(e,["parameters","includeSafetyAttributes"],c);const d=s(t,["includeRaiReason"]);e!==void 0&&d!=null&&a(e,["parameters","includeRaiReason"],d);const f=s(t,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const p=s(t,["outputMimeType"]);e!==void 0&&p!=null&&a(e,["parameters","outputOptions","mimeType"],p);const h=s(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&a(e,["parameters","outputOptions","compressionQuality"],h),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=s(t,["imageSize"]);if(e!==void 0&&g!=null&&a(e,["parameters","sampleImageSize"],g),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Gf(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const i=s(t,["negativePrompt"]);e!==void 0&&i!=null&&a(e,["parameters","negativePrompt"],i);const r=s(t,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const p=s(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&a(e,["parameters","includeSafetyAttributes"],p);const h=s(t,["includeRaiReason"]);e!==void 0&&h!=null&&a(e,["parameters","includeRaiReason"],h);const g=s(t,["language"]);e!==void 0&&g!=null&&a(e,["parameters","language"],g);const _=s(t,["outputMimeType"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","mimeType"],_);const b=s(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&a(e,["parameters","outputOptions","compressionQuality"],b);const C=s(t,["addWatermark"]);e!==void 0&&C!=null&&a(e,["parameters","addWatermark"],C);const A=s(t,["labels"]);e!==void 0&&A!=null&&a(e,["labels"],A);const I=s(t,["imageSize"]);e!==void 0&&I!=null&&a(e,["parameters","sampleImageSize"],I);const P=s(t,["enhancePrompt"]);return e!==void 0&&P!=null&&a(e,["parameters","enhancePrompt"],P),n}function Hf(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&Bf(r,n),n}function $f(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&Gf(r,n),n}function Jf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>np(l))),a(e,["generatedImages"],r)}const i=s(t,["positivePromptSafetyAttributes"]);return i!=null&&a(e,["positivePromptSafetyAttributes"],Nr(i)),e}function Yf(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>oo(l))),a(e,["generatedImages"],r)}const i=s(t,["positivePromptSafetyAttributes"]);return i!=null&&a(e,["positivePromptSafetyAttributes"],Dr(i)),e}function Wf(t,e){const n={},o=s(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=s(t,["durationSeconds"]);if(e!==void 0&&i!=null&&a(e,["parameters","durationSeconds"],i),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const l=s(t,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(t,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(t,["negativePrompt"]);e!==void 0&&c!=null&&a(e,["parameters","negativePrompt"],c);const d=s(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&a(e,["parameters","enhancePrompt"],d),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(t,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],io(f));const p=s(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>Yp(g))),a(e,["instances[0]","referenceImages"],h)}if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Kf(t,e){const n={},o=s(t,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const r=s(t,["fps"]);e!==void 0&&r!=null&&a(e,["parameters","fps"],r);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(t,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const c=s(t,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const d=s(t,["resolution"]);e!==void 0&&d!=null&&a(e,["parameters","resolution"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const p=s(t,["pubsubTopic"]);e!==void 0&&p!=null&&a(e,["parameters","pubsubTopic"],p);const h=s(t,["negativePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","negativePrompt"],h);const g=s(t,["enhancePrompt"]);e!==void 0&&g!=null&&a(e,["parameters","enhancePrompt"],g);const _=s(t,["generateAudio"]);e!==void 0&&_!=null&&a(e,["parameters","generateAudio"],_);const b=s(t,["lastFrame"]);e!==void 0&&b!=null&&a(e,["instances[0]","lastFrame"],Ct(b));const C=s(t,["referenceImages"]);if(e!==void 0&&C!=null){let P=C;Array.isArray(P)&&(P=P.map(M=>Wp(M))),a(e,["instances[0]","referenceImages"],P)}const A=s(t,["mask"]);e!==void 0&&A!=null&&a(e,["instances[0]","mask"],Jp(A));const I=s(t,["compressionQuality"]);return e!==void 0&&I!=null&&a(e,["parameters","compressionQuality"],I),n}function zf(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],Qf(l)),e}function Of(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(t,["done"]);i!=null&&a(e,["done"],i);const r=s(t,["error"]);r!=null&&a(e,["error"],r);const l=s(t,["response"]);return l!=null&&a(e,["response"],jf(l)),e}function Xf(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],io(r));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],Ur(l));const u=s(e,["source"]);u!=null&&ep(u,n);const c=s(e,["config"]);return c!=null&&Wf(c,n),n}function Zf(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["prompt"]);i!=null&&a(n,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],Ct(r));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],Fr(l));const u=s(e,["source"]);u!=null&&tp(u,n);const c=s(e,["config"]);return c!=null&&Kf(c,n),n}function Qf(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>ip(l))),a(e,["generatedVideos"],r)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=s(t,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function jf(t){const e={},n=s(t,["videos"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>sp(l))),a(e,["generatedVideos"],r)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=s(t,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function ep(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=s(t,["image"]);e!==void 0&&i!=null&&a(e,["instances[0]","image"],io(i));const r=s(t,["video"]);return e!==void 0&&r!=null&&a(e,["instances[0]","video"],Ur(r)),n}function tp(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=s(t,["image"]);e!==void 0&&i!=null&&a(e,["instances[0]","image"],Ct(i));const r=s(t,["video"]);return e!==void 0&&r!=null&&a(e,["instances[0]","video"],Fr(r)),n}function np(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],cp(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const i=s(t,["_self"]);return i!=null&&a(e,["safetyAttributes"],Nr(i)),e}function oo(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],Mr(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const i=s(t,["_self"]);i!=null&&a(e,["safetyAttributes"],Dr(i));const r=s(t,["prompt"]);return r!=null&&a(e,["enhancedPrompt"],r),e}function op(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["mask"],Mr(n));const o=s(t,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(e,["labels"],i)}return e}function ip(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],Hp(n)),e}function sp(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],$p(n)),e}function rp(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["audioTimestamp"]);o!=null&&a(e,["audioTimestamp"],o);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const r=s(t,["enableAffectiveDialog"]);r!=null&&a(e,["enableAffectiveDialog"],r);const l=s(t,["frequencyPenalty"]);l!=null&&a(e,["frequencyPenalty"],l);const u=s(t,["logprobs"]);u!=null&&a(e,["logprobs"],u);const c=s(t,["maxOutputTokens"]);c!=null&&a(e,["maxOutputTokens"],c);const d=s(t,["mediaResolution"]);d!=null&&a(e,["mediaResolution"],d);const f=s(t,["presencePenalty"]);f!=null&&a(e,["presencePenalty"],f);const p=s(t,["responseJsonSchema"]);p!=null&&a(e,["responseJsonSchema"],p);const h=s(t,["responseLogprobs"]);h!=null&&a(e,["responseLogprobs"],h);const g=s(t,["responseMimeType"]);g!=null&&a(e,["responseMimeType"],g);const _=s(t,["responseModalities"]);_!=null&&a(e,["responseModalities"],_);const b=s(t,["responseSchema"]);b!=null&&a(e,["responseSchema"],b);const C=s(t,["routingConfig"]);C!=null&&a(e,["routingConfig"],C);const A=s(t,["seed"]);A!=null&&a(e,["seed"],A);const I=s(t,["speechConfig"]);I!=null&&a(e,["speechConfig"],Lr(I));const P=s(t,["stopSequences"]);P!=null&&a(e,["stopSequences"],P);const M=s(t,["temperature"]);M!=null&&a(e,["temperature"],M);const x=s(t,["thinkingConfig"]);x!=null&&a(e,["thinkingConfig"],x);const S=s(t,["topK"]);S!=null&&a(e,["topK"],S);const R=s(t,["topP"]);if(R!=null&&a(e,["topP"],R),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ap(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],Ee(t,o)),n}function lp(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],Ee(t,o)),n}function up(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function dp(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],n),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function cp(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],Ht(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Mr(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],Ht(o));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function io(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],Ht(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Ct(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],Ht(o));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function fp(t,e,n){const o={},i=s(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],br(t,u)),o}function pp(t,e,n){const o={},i=s(e,["pageSize"]);n!==void 0&&i!=null&&a(n,["_query","pageSize"],i);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],br(t,u)),o}function mp(t,e){const n={},o=s(e,["config"]);return o!=null&&fp(t,o,n),n}function hp(t,e){const n={},o=s(e,["config"]);return o!=null&&pp(t,o,n),n}function gp(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["_self"]);if(i!=null){let r=Ar(i);Array.isArray(r)&&(r=r.map(l=>Vo(l))),a(e,["models"],r)}return e}function vp(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(t,["_self"]);if(i!=null){let r=Ar(i);Array.isArray(r)&&(r=r.map(l=>Uo(l))),a(e,["models"],r)}return e}function wp(t){const e={},n=s(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const o=s(t,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);const i=s(t,["maskDilation"]);return i!=null&&a(e,["dilation"],i),e}function Vo(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const i=s(t,["description"]);i!=null&&a(e,["description"],i);const r=s(t,["version"]);r!=null&&a(e,["version"],r);const l=s(t,["_self"]);l!=null&&a(e,["tunedModelInfo"],Np(l));const u=s(t,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const c=s(t,["outputTokenLimit"]);c!=null&&a(e,["outputTokenLimit"],c);const d=s(t,["supportedGenerationMethods"]);return d!=null&&a(e,["supportedActions"],d),e}function Uo(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const i=s(t,["description"]);i!=null&&a(e,["description"],i);const r=s(t,["versionId"]);r!=null&&a(e,["version"],r);const l=s(t,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(h=>Lf(h))),a(e,["endpoints"],p)}const u=s(t,["labels"]);u!=null&&a(e,["labels"],u);const c=s(t,["_self"]);c!=null&&a(e,["tunedModelInfo"],Dp(c));const d=s(t,["defaultCheckpointId"]);d!=null&&a(e,["defaultCheckpointId"],d);const f=s(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),a(e,["checkpoints"],p)}return e}function yp(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],n);const o=s(t,["thought"]);o!=null&&a(e,["thought"],o);const i=s(t,["inlineData"]);i!=null&&a(e,["inlineData"],lf(i));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],Vf(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],u);const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const d=s(t,["executableCode"]);d!=null&&a(e,["executableCode"],d);const f=s(t,["functionResponse"]);f!=null&&a(e,["functionResponse"],f);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function _p(t){const e={},n=s(t,["productImage"]);return n!=null&&a(e,["image"],Ct(n)),e}function Tp(t,e){const n={},o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const i=s(t,["baseSteps"]);e!==void 0&&i!=null&&a(e,["parameters","editConfig","baseSteps"],i);const r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const l=s(t,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=s(t,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const d=s(t,["addWatermark"]);e!==void 0&&d!=null&&a(e,["parameters","addWatermark"],d);const f=s(t,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const p=s(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p);const h=s(t,["enhancePrompt"]);e!==void 0&&h!=null&&a(e,["parameters","enhancePrompt"],h);const g=s(t,["labels"]);return e!==void 0&&g!=null&&a(e,["labels"],g),n}function Cp(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["source"]);i!=null&&bp(i,n);const r=s(e,["config"]);return r!=null&&Tp(r,n),n}function Ep(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>oo(i))),a(e,["generatedImages"],o)}return e}function bp(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=s(t,["personImage"]);e!==void 0&&i!=null&&a(e,["instances[0]","personImage","image"],Ct(i));const r=s(t,["productImages"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>_p(u))),a(e,["instances[0]","productImages"],l)}return n}function Ap(t){const e={},n=s(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],Ct(n));const o=s(t,["referenceId"]);o!=null&&a(e,["referenceId"],o);const i=s(t,["referenceType"]);i!=null&&a(e,["referenceType"],i);const r=s(t,["maskImageConfig"]);r!=null&&a(e,["maskImageConfig"],wp(r));const l=s(t,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],hf(l));const u=s(t,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const c=s(t,["subjectImageConfig"]);return c!=null&&a(e,["subjectImageConfig"],c),e}function Nr(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const i=s(t,["contentType"]);return i!=null&&a(e,["contentType"],i),e}function Dr(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const i=s(t,["contentType"]);return i!=null&&a(e,["contentType"],i),e}function Sp(t){const e={};if(s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=s(t,["category"]);n!=null&&a(e,["category"],n);const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function Ip(t){const e={},n=s(t,["image"]);return n!=null&&a(e,["image"],Ct(n)),e}function xp(t,e){const n={},o=s(t,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);const i=s(t,["maxPredictions"]);e!==void 0&&i!=null&&a(e,["parameters","maxPredictions"],i);const r=s(t,["confidenceThreshold"]);e!==void 0&&r!=null&&a(e,["parameters","confidenceThreshold"],r);const l=s(t,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const c=s(t,["labels"]);return e!==void 0&&c!=null&&a(e,["labels"],c),n}function kp(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["source"]);i!=null&&Rp(i,n);const r=s(e,["config"]);return r!=null&&xp(r,n),n}function Pp(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>op(i))),a(e,["generatedMasks"],o)}return e}function Rp(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=s(t,["image"]);e!==void 0&&i!=null&&a(e,["instances[0]","image"],Ct(i));const r=s(t,["scribbleImage"]);return e!==void 0&&r!=null&&a(e,["instances[0]","scribble"],Ip(r)),n}function Lr(t){const e={},n=s(t,["voiceConfig"]);if(n!=null&&a(e,["voiceConfig"],n),s(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=s(t,["languageCode"]);return o!=null&&a(e,["languageCode"],o),e}function Mp(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["functionDeclarations"],d)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearch"]);o!=null&&a(e,["googleSearch"],dp(o));const i=s(t,["googleSearchRetrieval"]);if(i!=null&&a(e,["googleSearchRetrieval"],i),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(t,["googleMaps"]);r!=null&&a(e,["googleMaps"],up(r));const l=s(t,["urlContext"]);l!=null&&a(e,["urlContext"],l);const u=s(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=s(t,["codeExecution"]);return c!=null&&a(e,["codeExecution"],c),e}function Vr(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>Uf(h))),a(e,["functionDeclarations"],p)}const o=s(t,["retrieval"]);o!=null&&a(e,["retrieval"],o);const i=s(t,["googleSearch"]);i!=null&&a(e,["googleSearch"],i);const r=s(t,["googleSearchRetrieval"]);r!=null&&a(e,["googleSearchRetrieval"],r);const l=s(t,["enterpriseWebSearch"]);l!=null&&a(e,["enterpriseWebSearch"],l);const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(t,["urlContext"]);c!=null&&a(e,["urlContext"],c);const d=s(t,["computerUse"]);d!=null&&a(e,["computerUse"],d);const f=s(t,["codeExecution"]);return f!=null&&a(e,["codeExecution"],f),e}function Np(t){const e={},n=s(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const i=s(t,["updateTime"]);return i!=null&&a(e,["updateTime"],i),e}function Dp(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const i=s(t,["updateTime"]);return i!=null&&a(e,["updateTime"],i),e}function Lp(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const i=s(t,["description"]);e!==void 0&&i!=null&&a(e,["description"],i);const r=s(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&a(e,["defaultCheckpointId"],r),n}function Vp(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const i=s(t,["description"]);e!==void 0&&i!=null&&a(e,["description"],i);const r=s(t,["defaultCheckpointId"]);return e!==void 0&&r!=null&&a(e,["defaultCheckpointId"],r),n}function Up(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],Ee(t,o));const i=s(e,["config"]);return i!=null&&Lp(i,n),n}function Fp(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["config"]);return i!=null&&Vp(i,n),n}function qp(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const i=s(t,["includeRaiReason"]);e!==void 0&&i!=null&&a(e,["parameters","includeRaiReason"],i);const r=s(t,["outputMimeType"]);e!==void 0&&r!=null&&a(e,["parameters","outputOptions","mimeType"],r);const l=s(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&a(e,["parameters","outputOptions","compressionQuality"],l);const u=s(t,["enhanceInputImage"]);e!==void 0&&u!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=s(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=s(t,["labels"]);e!==void 0&&d!=null&&a(e,["labels"],d);const f=s(t,["numberOfImages"]);e!==void 0&&f!=null&&a(e,["parameters","sampleCount"],f);const p=s(t,["mode"]);return e!==void 0&&p!=null&&a(e,["parameters","mode"],p),n}function Bp(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],Ee(t,o));const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],Ct(i));const r=s(e,["upscaleFactor"]);r!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],r);const l=s(e,["config"]);return l!=null&&qp(l,n),n}function Gp(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>oo(r))),a(e,["generatedImages"],i)}return e}function Hp(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Ht(o));const i=s(t,["encoding"]);return i!=null&&a(e,["mimeType"],i),e}function $p(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Ht(o));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function Jp(t){const e={},n=s(t,["image"]);n!=null&&a(e,["_self"],Ct(n));const o=s(t,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function Yp(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],io(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function Wp(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],Ct(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function Ur(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["encodedVideo"],Ht(o));const i=s(t,["mimeType"]);return i!=null&&a(e,["encoding"],i),e}function Fr(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],Ht(o));const i=s(t,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kp="Content-Type",zp="X-Server-Timeout",Op="User-Agent",Fo="x-goog-api-client",Xp="1.27.0",Zp=`google-genai-sdk/${Xp}`,Qp="v1beta1",jp="v1beta",Rs=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class em{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Qp,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:jp,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const i=[this.getRequestUrlInternal(n)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))i.searchParams.append(l,String(u));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),e.abortSignal),this.unaryApiCall(i,r,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[i,r]of Object.entries(n))typeof r=="object"?o[i]=Object.assign(Object.assign({},o[i]),r):r!==void 0&&(o[i]=r);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,n,i.toString(),e.abortSignal),this.streamApiCall(i,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,i){if(n&&n.timeout||i){const r=new AbortController,l=r.signal;if(n.timeout&&n?.timeout>0){const u=setTimeout(()=>r.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=l}return n&&n.extraBody!==null&&tm(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Ms(i),new No(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async i=>(await Ms(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return sn(this,arguments,function*(){const i=(n=e?.body)===null||n===void 0?void 0:n.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:c}=yield ke(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=r.decode(c,{stream:!0});try{const p=JSON.parse(d);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),g=h.status,_=h.code,b=`got status: ${g}. ${JSON.stringify(p)}`;if(_>=400&&_<600)throw new to({message:b,status:_})}}catch(p){if(p.name==="ApiError")throw p}l+=d;let f=l.match(Rs);for(;f;){const p=f[1];try{const h=new Response(p,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield ke(new No(h)),l=l.slice(f[0].length),f=l.match(Rs)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=Zp+" "+this.clientOptions.userAgentExtra;return e[Op]=n,e[Fo]=n,e[Kp]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))o.append(i,r);e.timeout&&e.timeout>0&&o.append(zp,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}async uploadFile(e,n){var o;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,l=await r.stat(e);i.sizeBytes=String(l.size);const u=(o=n?.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c=await this.fetchUploadUrl(i,n);return r.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var o;let i={};n?.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},l=await this.request({path:O("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:i});if(!l||!l?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=l?.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Ms(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(o);throw n>=400&&n<600?new to({message:i,status:n}):new Error(i)}}function tm(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const r=JSON.parse(t.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))n=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(r,l){const u=Object.assign({},r);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=o(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nm="mcp_used/unknown";let om=!1;function qr(t){for(const e of t)if(im(e)||typeof e=="object"&&"inputSchema"in e)return!0;return om}function Br(t){var e;const n=(e=t[Fo])!==null&&e!==void 0?e:"";t[Fo]=(n+` ${nm}`).trimStart()}function im(t){return t!==null&&typeof t=="object"&&t instanceof Xo}function sm(t,e=100){return sn(this,arguments,function*(){let o,i=0;for(;i<e;){const r=yield ke(t.listTools({cursor:o}));for(const l of r.tools)yield yield ke(l),i++;if(!r.nextCursor)break;o=r.nextCursor}})}class Xo{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Xo(e,n)}async initialize(){var e,n,o,i;if(this.mcpTools.length>0)return;const r={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,In(sm(f))),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const p=i;l.push(p);const h=p.name;if(r[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);r[h]=f}}catch(p){n={error:p}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),ud(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const l=await i.callTool({name:o.name,arguments:o.args},void 0,r);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rm(t,e,n){const o=new td;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(o,i),e(o)}class am{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),l=dm(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(P=>{d=P}),p=e.callbacks,h=function(){d({})},g=this.apiClient,_={onopen:h,onmessage:P=>{rm(g,p.onmessage,P)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(P){},onclose:(o=p?.onclose)!==null&&o!==void 0?o:function(P){}},b=this.webSocketFactory.create(c,um(l),_);b.connect(),await f;const I={setup:{model:Ee(this.apiClient,e.model)}};return b.send(JSON.stringify(I)),new lm(b,this.apiClient)}}class lm{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Qc(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Zc(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(nn.PLAY)}pause(){this.sendPlaybackControl(nn.PAUSE)}stop(){this.sendPlaybackControl(nn.STOP)}resetContext(){this.sendPlaybackControl(nn.RESET_CONTEXT)}close(){this.conn.close()}}function um(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function dm(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cm="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function fm(t,e,n){const o=new ed;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const r=JSON.parse(i);if(t.isVertexAI()){const l=tf(r);Object.assign(o,l)}else Object.assign(o,r);e(o)}class pm{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new am(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,i,r,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&qr(e.config.tools)&&Br(p);const h=vm(p);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{const N=this.apiClient.getApiKey();let V="BidiGenerateContent",U="key";N?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",U="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${V}?${U}=${N}`}let g=()=>{};const _=new Promise(N=>{g=N}),b=e.callbacks,C=function(){var N;(N=b?.onopen)===null||N===void 0||N.call(b),g({})},A=this.apiClient,I={onopen:C,onmessage:N=>{fm(A,b.onmessage,N)},onerror:(n=b?.onerror)!==null&&n!==void 0?n:function(N){},onclose:(o=b?.onclose)!==null&&o!==void 0?o:function(N){}},P=this.webSocketFactory.create(f,gm(h),I);P.connect(),await _;let M=Ee(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const N=this.apiClient.getProject(),V=this.apiClient.getLocation();M=`projects/${N}/locations/${V}/`+M}let x={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Bn.AUDIO]}:e.config.responseModalities=[Bn.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const S=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],R=[];for(const N of S)if(this.isCallableTool(N)){const V=N;R.push(await V.tool())}else R.push(N);R.length>0&&(e.config.tools=R);const q={model:M,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?x=Xc(this.apiClient,q):x=Oc(this.apiClient,q),delete x.config,P.send(JSON.stringify(x)),new hm(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mm={turnComplete:!0};class hm{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=gt(n.turns),e.isVertexAI()||(o=o.map(i=>no(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(cm)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},mm),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ef(e)}:n={realtimeInput:jc(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function gm(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function vm(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ns=10;function Ds(t){var e,n,o;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t?.tools)!==null&&n!==void 0?n:[])if(rn(l)){i=!0;break}if(!i)return!0;const r=(o=t?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function rn(t){return"callTool"in t&&typeof t.callTool=="function"}function wm(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>rn(i)))!==null&&o!==void 0?o:!1}function ym(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!rn(i)))!==null&&o!==void 0?o:!1}function Ls(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _m extends Qt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,i,r,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!wm(n)||Ds(n.config))return await this.generateContentInternal(c);if(ym(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,f;const p=gt(c.contents),h=(r=(i=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Ns;let g=0;for(;g<h&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const _=d.candidates[0].content,b=[];for(const C of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(rn(C)){const I=await C.callTool(d.functionCalls);b.push(...I)}g++,f={role:"user",parts:b},c.contents=gt(c.contents),c.contents.push(_),c.contents.push(f),Ls(c.config)&&(p.push(_),p.push(f))}return Ls(c.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Ds(n.config)){const o=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var i;let r;const l=[];if(o?.generatedImages)for(const c of o.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=c?.safetyAttributes:l.push(c);let u;return r?u={generatedImages:l,positivePromptSafetyAttributes:r,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new kn(Xt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var o,i,r,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(r=n.source)===null||r===void 0?void 0:r.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,i;const r=(n=e.config)===null||n===void 0?void 0:n.tools;if(!r)return e;const l=await Promise.all(r.map(async c=>rn(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&qr(e.config.tools)){const c=(i=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Br(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,o,i;const r=new Map;for(const l of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(rn(l)){const u=l,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(r.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);r.set(d.name,u)}}return r}async processAfcStream(e){var n,o,i;const r=(i=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:Ns;let l=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(d,f,p){var h,g;return sn(this,arguments,function*(){for(var _,b,C,A;u<r;){l&&(u++,l=!1);const x=yield ke(d.processParamsMaybeAddMcpUsage(p)),S=yield ke(d.generateContentStreamInternal(x)),R=[],q=[];try{for(var I=!0,P=(b=void 0,In(S)),M;M=yield ke(P.next()),_=M.done,!_;I=!0){A=M.value,I=!1;const N=A;if(yield yield ke(N),N.candidates&&(!((h=N.candidates[0])===null||h===void 0)&&h.content)){q.push(N.candidates[0].content);for(const V of(g=N.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<r&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(V.functionCall.name)){const U=yield ke(f.get(V.functionCall.name).callTool([V.functionCall]));R.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(N){b={error:N}}finally{try{!I&&!_&&(C=P.return)&&(yield ke(C.call(P)))}finally{if(b)throw b.error}}if(R.length>0){l=!0;const N=new An;N.candidates=[{content:{role:"user",parts:R}}],yield yield ke(N);const V=[];V.push(...q),V.push({role:"user",parts:R});const U=gt(p.contents).concat(V);p.contents=U}else break}})})(this,c,e)}async generateContentInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=xs(this.apiClient,e);return u=O("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Ps(f),h=new An;return Object.assign(h,p),h})}else{const d=Is(this.apiClient,e);return u=O("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=ks(f),h=new An;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=xs(this.apiClient,e);return u=O("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return sn(this,arguments,function*(){var h,g,_,b;try{for(var C=!0,A=In(p),I;I=yield ke(A.next()),h=I.done,!h;C=!0){b=I.value,C=!1;const P=b,M=Ps(yield ke(P.json()));M.sdkHttpResponse={headers:P.headers};const x=new An;Object.assign(x,M),yield yield ke(x)}}catch(P){g={error:P}}finally{try{!C&&!h&&(_=A.return)&&(yield ke(_.call(A)))}finally{if(g)throw g.error}}})})}else{const d=Is(this.apiClient,e);return u=O("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(p){return sn(this,arguments,function*(){var h,g,_,b;try{for(var C=!0,A=In(p),I;I=yield ke(A.next()),h=I.done,!h;C=!0){b=I.value,C=!1;const P=b,M=ks(yield ke(P.json()));M.sdkHttpResponse={headers:P.headers};const x=new An;Object.assign(x,M),yield yield ke(x)}}catch(P){g={error:P}}finally{try{!C&&!h&&(_=A.return)&&(yield ke(_.call(A)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Mf(this.apiClient,e);return u=O("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Df(f),h=new cs;return Object.assign(h,p),h})}else{const d=Rf(this.apiClient,e);return u=O("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Nf(f),h=new cs;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=$f(this.apiClient,e);return u=O("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Yf(f),h=new fs;return Object.assign(h,p),h})}else{const d=Hf(this.apiClient,e);return u=O("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Jf(f),h=new fs;return Object.assign(h,p),h})}}async editImageInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=If(this.apiClient,e);return r=O("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=xf(c),f=new Wu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=Bp(this.apiClient,e);return r=O("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=Gp(c),f=new Ku;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=Cp(this.apiClient,e);return r=O("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Ep(c),f=new zu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=kp(this.apiClient,e);return r=O("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Pp(c),f=new Ou;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=lp(this.apiClient,e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Uo(f))}else{const d=ap(this.apiClient,e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Vo(f))}}async listInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=hp(this.apiClient,e);return u=O("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=vp(f),h=new ps;return Object.assign(h,p),h})}else{const d=mp(this.apiClient,e);return u=O("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=gp(f),h=new ps;return Object.assign(h,p),h})}}async update(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Fp(this.apiClient,e);return u=O("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Uo(f))}else{const d=Up(this.apiClient,e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Vo(f))}}async delete(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Ef(this.apiClient,e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Af(f),h=new ms;return Object.assign(h,p),h})}else{const d=Cf(this.apiClient,e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=bf(f),h=new ms;return Object.assign(h,p),h})}}async countTokens(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=yf(this.apiClient,e);return u=O("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Tf(f),h=new hs;return Object.assign(h,p),h})}else{const d=wf(this.apiClient,e);return u=O("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=_f(f),h=new hs;return Object.assign(h,p),h})}}async computeTokens(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=cf(this.apiClient,e);return r=O("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=ff(c),f=new Xu;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Zf(this.apiClient,e);return u=O("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const p=Of(f),h=new Gn;return Object.assign(h,p),h})}else{const d=Xf(this.apiClient,e);return u=O("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>{const p=zf(f),h=new Gn;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tm extends Qt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:r}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=$u(e);return u=O("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=Hu(e);return u=O("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=Lu(e);return r=O("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cm(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["data"]);n!=null&&a(e,["data"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Em(t){const e={},n=s(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Rm(r))),a(e,["parts"],i)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function bm(t,e,n){const o={},i=s(e,["expireTime"]);n!==void 0&&i!=null&&a(n,["expireTime"],i);const r=s(e,["newSessionExpireTime"]);n!==void 0&&r!=null&&a(n,["newSessionExpireTime"],r);const l=s(e,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],Pm(t,u));const c=s(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function Am(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],bm(t,o,n)),n}function Sm(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Im(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function xm(t){const e={},n=s(t,["timeRangeFilter"]);if(n!=null&&a(e,["timeRangeFilter"],n),s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function km(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const i=s(t,["responseModalities"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","responseModalities"],i);const r=s(t,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const p=s(t,["speechConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","speechConfig"],Oo(p));const h=s(t,["thinkingConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","thinkingConfig"],h);const g=s(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],g);const _=s(t,["systemInstruction"]);e!==void 0&&_!=null&&a(e,["setup","systemInstruction"],Em(et(_)));const b=s(t,["tools"]);if(e!==void 0&&b!=null){let S=mn(b);Array.isArray(S)&&(S=S.map(R=>Nm(pn(R)))),a(e,["setup","tools"],S)}const C=s(t,["sessionResumption"]);e!==void 0&&C!=null&&a(e,["setup","sessionResumption"],Mm(C));const A=s(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&a(e,["setup","inputAudioTranscription"],A);const I=s(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&a(e,["setup","outputAudioTranscription"],I);const P=s(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&a(e,["setup","realtimeInputConfig"],P);const M=s(t,["contextWindowCompression"]);e!==void 0&&M!=null&&a(e,["setup","contextWindowCompression"],M);const x=s(t,["proactivity"]);return e!==void 0&&x!=null&&a(e,["setup","proactivity"],x),n}function Pm(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],Ee(t,o));const i=s(e,["config"]);return i!=null&&a(n,["config"],km(i,n)),n}function Rm(t){const e={},n=s(t,["videoMetadata"]);n!=null&&a(e,["videoMetadata"],n);const o=s(t,["thought"]);o!=null&&a(e,["thought"],o);const i=s(t,["inlineData"]);i!=null&&a(e,["inlineData"],Cm(i));const r=s(t,["fileData"]);r!=null&&a(e,["fileData"],Sm(r));const l=s(t,["thoughtSignature"]);l!=null&&a(e,["thoughtSignature"],l);const u=s(t,["functionCall"]);u!=null&&a(e,["functionCall"],u);const c=s(t,["codeExecutionResult"]);c!=null&&a(e,["codeExecutionResult"],c);const d=s(t,["executableCode"]);d!=null&&a(e,["executableCode"],d);const f=s(t,["functionResponse"]);f!=null&&a(e,["functionResponse"],f);const p=s(t,["text"]);return p!=null&&a(e,["text"],p),e}function Mm(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Nm(t){const e={},n=s(t,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["functionDeclarations"],d)}if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(t,["googleSearch"]);o!=null&&a(e,["googleSearch"],xm(o));const i=s(t,["googleSearchRetrieval"]);if(i!=null&&a(e,["googleSearchRetrieval"],i),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(t,["googleMaps"]);r!=null&&a(e,["googleMaps"],Im(r));const l=s(t,["urlContext"]);l!=null&&a(e,["urlContext"],l);const u=s(t,["computerUse"]);u!=null&&a(e,["computerUse"],u);const c=s(t,["codeExecution"]);return c!=null&&a(e,["codeExecution"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dm(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(r=>`${n}.${r}`);e.push(...i)}else e.push(n)}return e.join(",")}function Lm(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(t.bidiGenerateContentSetup=r,n=r):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const r=Dm(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)r?t.fieldMask=r:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];r&&c.push(r),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Vm extends Qt{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Am(this.apiClient,e);r=O("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=Lm(u,e.config);return i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Um(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function Fm(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function qm(t,e,n){const o={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&a(e,["displayName"],i),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(t,["epochCount"]);e!==void 0&&r!=null&&a(e,["tuningTask","hyperparameters","epochCount"],r);const l=s(t,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(t,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const c=s(t,["learningRate"]);if(e!==void 0&&c!=null&&a(e,["tuningTask","hyperparameters","learningRate"],c),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return o}function Bm(t,e,n){const o={},i=s(t,["validationDataset"]);e!==void 0&&i!=null&&a(e,["supervisedTuningSpec"],th(i));const r=s(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&a(e,["tunedModelDisplayName"],r);const l=s(t,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);const u=s(t,["epochCount"]);e!==void 0&&u!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],u);const c=s(t,["learningRateMultiplier"]);e!==void 0&&c!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const d=s(t,["exportLastCheckpointOnly"]);e!==void 0&&d!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const f=s(t,["adapterSize"]);if(e!==void 0&&f!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=s(t,["labels"]);return e!==void 0&&p!=null&&a(e,["labels"],p),o}function Gm(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const i=s(t,["preTunedModel"]);i!=null&&a(n,["preTunedModel"],i);const r=s(t,["trainingDataset"]);r!=null&&a(n,["tuningTask","trainingData"],Qm(r));const l=s(t,["config"]);return l!=null&&qm(l,n),n}function Hm(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const i=s(t,["preTunedModel"]);i!=null&&a(n,["preTunedModel"],i);const r=s(t,["trainingDataset"]);r!=null&&jm(r,n);const l=s(t,["config"]);return l!=null&&Bm(l,n),n}function $m(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function Jm(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function Ym(t,e,n){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function Wm(t,e,n){const o={},i=s(t,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function Km(t,e){const n={},o=s(t,["config"]);return o!=null&&Ym(o,n),n}function zm(t,e){const n={},o=s(t,["config"]);return o!=null&&Wm(o,n),n}function Om(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const r=s(t,["tunedModels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Gr(u))),a(n,["tuningJobs"],l)}return n}function Xm(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=s(t,["nextPageToken"]);i!=null&&a(n,["nextPageToken"],i);const r=s(t,["tuningJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>qo(u))),a(n,["tuningJobs"],l)}return n}function Zm(t,e){const n={},o=s(t,["name"]);o!=null&&a(n,["model"],o);const i=s(t,["name"]);return i!=null&&a(n,["endpoint"],i),n}function Qm(t,e){const n={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(t,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(n,["examples","examples"],i)}return n}function jm(t,e,n){const o={},i=s(t,["gcsUri"]);e!==void 0&&i!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],i);const r=s(t,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],r),s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Gr(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&a(n,["name"],i);const r=s(t,["state"]);r!=null&&a(n,["state"],Cr(r));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["description"]);f!=null&&a(n,["description"],f);const p=s(t,["baseModel"]);p!=null&&a(n,["baseModel"],p);const h=s(t,["_self"]);return h!=null&&a(n,["tunedModel"],Zm(h)),n}function qo(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&a(n,["name"],i);const r=s(t,["state"]);r!=null&&a(n,["state"],Cr(r));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["error"]);f!=null&&a(n,["error"],f);const p=s(t,["description"]);p!=null&&a(n,["description"],p);const h=s(t,["baseModel"]);h!=null&&a(n,["baseModel"],h);const g=s(t,["tunedModel"]);g!=null&&a(n,["tunedModel"],g);const _=s(t,["preTunedModel"]);_!=null&&a(n,["preTunedModel"],_);const b=s(t,["supervisedTuningSpec"]);b!=null&&a(n,["supervisedTuningSpec"],b);const C=s(t,["tuningDataStats"]);C!=null&&a(n,["tuningDataStats"],C);const A=s(t,["encryptionSpec"]);A!=null&&a(n,["encryptionSpec"],A);const I=s(t,["partnerModelTuningSpec"]);I!=null&&a(n,["partnerModelTuningSpec"],I);const P=s(t,["customBaseModel"]);P!=null&&a(n,["customBaseModel"],P);const M=s(t,["experiment"]);M!=null&&a(n,["experiment"],M);const x=s(t,["labels"]);x!=null&&a(n,["labels"],x);const S=s(t,["outputUri"]);S!=null&&a(n,["outputUri"],S);const R=s(t,["pipelineJob"]);R!=null&&a(n,["pipelineJob"],R);const q=s(t,["serviceAccount"]);q!=null&&a(n,["serviceAccount"],q);const N=s(t,["tunedModelDisplayName"]);N!=null&&a(n,["tunedModelDisplayName"],N);const V=s(t,["veoTuningSpec"]);return V!=null&&a(n,["veoTuningSpec"],V),n}function eh(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const i=s(t,["name"]);i!=null&&a(n,["name"],i);const r=s(t,["metadata"]);r!=null&&a(n,["metadata"],r);const l=s(t,["done"]);l!=null&&a(n,["done"],l);const u=s(t,["error"]);return u!=null&&a(n,["error"],u),n}function th(t,e){const n={},o=s(t,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const i=s(t,["vertexDatasetResource"]);return i!=null&&a(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nh extends Qt{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new kn(Xt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},n),{preTunedModel:i});return r.baseModel=void 0,await this.tuneInternal(r)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),r=await this.tuneMldevInternal(i);let l="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?l=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(l=r.name.split("/operations/")[0]),{name:l,state:Mo.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Jm(e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>qo(f))}else{const d=$m(e);return u=O("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>Gr(f))}}async listInternal(e){var n,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=zm(e);return u=O("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Xm(f),h=new gs;return Object.assign(h,p),h})}else{const d=Km(e);return u=O("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),l.then(f=>{const p=Om(f),h=new gs;return Object.assign(h,p),h})}}async cancel(e){var n,o,i,r;let l="",u={};if(this.apiClient.isVertexAI()){const c=Fm(e);l=O("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=Um(e);l=O("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async tuneInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=Hm(e);return r=O("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>qo(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Gm(e);return r=O("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>eh(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oh{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ih=1024*1024*8,sh=3,rh=1e3,ah=2,Eo="x-goog-upload-status";async function lh(t,e,n){var o,i,r;let l=0,u=0,c=new No(new Response),d="upload";for(l=t.size;u<l;){const p=Math.min(ih,l-u),h=t.slice(u,u+p);u+p>=l&&(d+=", finalize");let g=0,_=rh;for(;g<sh&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((o=c?.headers)===null||o===void 0)&&o[Eo]));)g++,await dh(_),_=_*ah;if(u+=p,((i=c?.headers)===null||i===void 0?void 0:i[Eo])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await c?.json();if(((r=c?.headers)===null||r===void 0?void 0:r[Eo])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function uh(t){return{size:t.size,type:t.type}}function dh(t){return new Promise(e=>setTimeout(e,t))}class ch{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lh(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await uh(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fh{create(e,n,o){return new ph(e,n,o)}}class ph{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vs="x-goog-api-key";class mh{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Vs)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Vs,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hh="gl-node/";class gh{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=Nu(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const i=new mh(this.apiKey);this.apiClient=new em({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:hh+"web",uploader:new ch,downloader:new oh}),this.models=new _m(this.apiClient),this.live=new pm(this.apiClient,i,new fh),this.batches=new Qd(this.apiClient),this.chats=new Pc(this.models,this.apiClient),this.caches=new Ic(this.apiClient),this.files=new Bc(this.apiClient),this.operations=new Tm(this.apiClient),this.authTokens=new Vm(this.apiClient),this.tunings=new nh(this.apiClient)}}function vh(t,e){for(;t.startsWith(e);)t=t.substring(e.length);return t}function Hr(t,e){for(;t.endsWith(e);)t=t.substring(0,t.length-e.length);return t}function $r(t){let e="";const n=t.split(`
`);for(let o of n)o=vh(o," "),o=Hr(o," "),o!==""&&(e+=`
`+o);return e}const Jr=["automático","carteles","diálogos","karaokes"],wh=Ml.enum(Jr),Yr=["gemini-2.5-flash-lite","gemini-2.5-flash","gemini-2.5-pro"],yh=Nl(Yr),_h="gemini-2.5-flash-lite",Wr=65536,$n=ko({userSubsMode:wh.default("automático"),geminiEnabled:tn().default(!1),geminiApiKey:dr().default(""),geminiModel:yh.default(_h),geminiMaxTokens:ur().default(Wr),validateLineStyleExists:tn().default(!0),validateTextStart:tn().default(!0),validateTextEnd:tn().default(!0),validateTextSpaces:tn().default(!0),validateTextPunctuation:tn().default(!0)}),Kr="asu.validarDialogos.options";function Th(t){localStorage.setItem(Kr,JSON.stringify(t))}function Ch(){try{const t=localStorage.getItem(Kr)??"{}";return $n.parse(JSON.parse(t))}catch(t){return console.error("error al cargar opciones de validar diálogos",t),$n.parse({})}}async function Eh(t,e,n){const o={promt:"",errors:[],warnings:[]};if(t==="carteles")return o;const i=e.scriptInfo.properties.get("WrapStyle")??"",r="0";i!==r&&o.errors.push({location:"Script info, wrap style",error:`Se esperaba "${r}", pero se encontró "${i}"`,text:i,ignoreRule:""});const l=e.scriptInfo.properties.get("ScaledBorderAndShadow")??"",u="yes";l!==u&&o.errors.push({location:"Script info, scaled border and shadow",error:`Se esperaba "${u}", pero se encontró "${l}"`,text:l,ignoreRule:""});const c="Español",d=["diálogos","karaokes"];let f=0;for(let p=0;p<e.events.lines.length;p++){const h=p+1,g=e.events.lines[p],_=bh(g),b=_.length>1;for(let C=0;C<_.length;C++){const A=_[C];if(t==="automático"&&A.effect.includes("template syl")){console.info(`template syl detectado en línea ${h}, pasando a modo karaokes`),t="karaokes";continue}if(t=="diálogos"&&A.type==vi||A.content===""||t==="karaokes"&&!A.style.toLowerCase().includes(c.toLowerCase())||t==="karaokes"&&A.type!==vi||t==="karaokes"&&A.effect!=="karaoke")continue;if(t==="karaokes"&&A.effect==="fx")break;const I=A.effect.split(" ").filter(x=>x.startsWith("ignorar-"));if(I.includes("ignorar-linea"))continue;n.validateLineStyleExists&&!I.includes("ignorar-estilo")&&!xh(e,A.style)&&o.errors.push({location:`Línea ${h}`,error:"Estilo no encontrado",text:A.style,ignoreRule:"ignorar-estilo"});const P=Ne(A.content);let M=Ge(P.filter(x=>x.name==="text"));if(d.includes(t)){const x=Nh(M);let S=h.toString();if(b){const R=C+1;S+=` parte ${R}`,console.log({split:x,lineNumber:h,splitNumber:R})}o.promt+=`
Línea ${S}: ${x}`}if(n.validateTextStart&&!I.includes("ignorar-inicio")){const x=Ah(M);x!=null&&o.errors.push({location:`Línea ${h}`,error:x,text:A.content,ignoreRule:"ignorar-inicio"})}if(n.validateTextSpaces&&!I.includes("ignorar-espacios")){const x=kh(M);x!=null&&o.errors.push({location:`Línea ${h}`,error:x,text:A.content,ignoreRule:"ignorar-espacios"})}if(n.validateTextEnd&&!I.includes("ignorar-fin")){const x=Sh(M);x!=null&&o.errors.push({location:`Línea ${h}`,error:x,text:A.content,ignoreRule:"ignorar-fin"})}if(n.validateTextPunctuation&&!I.includes("ignorar-puntuacion")){const x=Ih(M);x!=null&&o.errors.push({location:`Línea ${h}`,error:x,text:A.content,ignoreRule:"ignorar-puntuacion"})}t==="karaokes"&&f++}}if(n.geminiEnabled&&n.geminiApiKey!==""&&d.includes(t)){console.log(o.promt);const p=await Mh(o.promt,n.geminiModel,n.geminiApiKey,n.geminiMaxTokens);for(const h of p.errores){let g=e.events.lines[h.numeroLinea-1];g==null&&(g=cr());let _=h.mensajeError;_.endsWith(".")&&_.substring(0,_.length-2),o.warnings.push({location:`Línea ${h.numeroLinea}`,error:_,text:g.content,ignoreRule:"ignorar-llm"})}}return t==="karaokes"&&f===0&&o.errors.push({location:`Línea ${e.events.lines.length}`,error:`No se encontraron líneas de karaoke con estilo "${c}"`,text:"",ignoreRule:""}),o.promt=zr+o.promt,o.promt=$r(o.promt),o}function bh(t){const e=/\s*-\s([^\\]+)\\N\s*-\s([^\\]+)/;if(!e.test(t.content))return[t];const n=t.content.match(e);if(n?.length!==3)return[t];const o=[];for(let i=1;i<=2;i++){let r=n.at(i)??"";r=r.trim();const l={...t};l.content=r,o.push(l)}return o}function Ah(t){return t.startsWith("... ")?"los tres puntos van pegados":(t.startsWith("...")&&(t=t.substring(3)),/^(-\s|¡|¿|"|“)*[A-zÁÉÍÓÚáéíóú0-9ñÑ]/gm.test(t)?null:"inicio inválido")}function Sh(t){t=Hr(t," ");const e=[".",",",";","...","!","?",":","~","-..."];if(!e.some(r=>t.endsWith(r)))return`No tiene un fin de línea válido: ${e.map(r=>`"${r}"`).join(", ")}`;const n=t.endsWith("."),o=/[^.]\.$/,i=/[^.]\.{3}$/;return n&&!o.test(t)&&!i.test(t)?"Cantidad inválida de puntos finales":null}function Ih(t){for(let e=0;e<t.length;e++){const n=[",",";","."],o=t[e];if(!n.includes(o))continue;if(e+1>=t.length)break;let i=t[e+1];if(i==="\\"&&t[e+2]==="N"&&(i="\\N"),o==="."&&i=="."||o==="."&&t[e-1]==="."&&t[e-2]==="."||(o==="."||o===",")&&!Number.isNaN(Number(t[e-1]))&&!Number.isNaN(Number(t[e+1])))continue;if(![" ","\\N"].includes(i))return"La coma (,) y el punto y coma (;) deben ser seguidos de un espacio o salto de línea"}return null}function xh(t,e){return t.styles.styles.some(n=>e===n.name)}function kh(t){return t.includes("  ")?"hay dos espacios seguidos":null}function Ph(t,e){return e!=="automático"?e:(t=t.toLocaleLowerCase(),t.includes("carteles")?"carteles":t.includes("subs")?"diálogos":t.includes("karaoke")?"karaokes":"diálogos")}const Rh=ko({errores:ko({numeroLinea:ur().default(0),mensajeError:dr().default("")}).array()}),zr=`
    Valida todos los textos que recibas en busca de errores ortográficos.
    Debes ser extremadamente minucioso al detectar errores.
    Considera '\\N' como un espacio ' '.
    Ignora los espacios consecutivos, no son errores.
    Frases vulgares, de uso poco común o muletillas están bien.
`;async function Mh(t,e,n,o){try{const l=await new gh({apiKey:n}).models.generateContent({model:e,config:{systemInstruction:$r(zr),temperature:1,topP:.95,topK:40,maxOutputTokens:o>0?o:Wr,responseMimeType:"application/json",thinkingConfig:{thinkingBudget:0},responseSchema:{type:dt.OBJECT,required:["errores"],properties:{errores:{type:dt.ARRAY,items:{type:dt.OBJECT,required:["numeroLinea","mensajeError"],properties:{numeroLinea:{type:dt.INTEGER,description:"número de la línea con error"},mensajeError:{type:dt.STRING,description:"descripción del error y consejo de cómo corregirlo"}}}}}}},contents:{role:"user",text:t}});return console.log({response:l}),Rh.parse(JSON.parse(l?.text??""))}catch(i){console.error("error al validar subs con gemini",i);let r=`${i}`;return r.includes("API key not valid")&&(r="API KEY inválida."),{errores:[{numeroLinea:0,mensajeError:`Error al validar subtítulos con Google Gemini: ${r}`}]}}}function Nh(t){let e="";for(let n=0;n<t.length;n++){const o=t[n],i=t[n+1]??"",r=t[n+2]??"",l=t[n-1]??"";if(o==="\\"&&i==="N"){if(n++,r===" "||l===" ")continue;e+=" ";continue}e+=o}return e}async function Dh(t,e,n){e(!e()),await n()}var Lh=Z('<button class="button" aria-label="alternar"> </button>'),Vh=Z('<div><textarea readonly=""></textarea> <!></div>');function Or(t,e){We(e,!0);let n=ht(e,"rawMode",7),o=ht(e,"hiddeOptions",3,!1),i=D(un(e.text)),r=D(1),l=D(void 0);async function u(){c(),await xn(),d()}function c(){if(n()){w(i,e.text,!0);return}const C=Ne(e.text).filter(I=>I.name==="text");let A=Ge(C);A=A.replaceAll("\\N",""),w(i,A,!0)}function d(){w(r,f(),!0)}function f(){return m(l)==null?1:Math.ceil(m(l).scrollHeight/m(l).clientHeight)}function p(C){switch(C){case"error":return"is-danger";case"warning":return"is-warning";default:return""}}wt(async()=>{await u()});var h=Vh(),g=y(h);ze(g),Ye(g,C=>w(l,C),()=>m(l));var _=E(g,2);{var b=C=>{var A=Lh();A.__click=[Dh,n,u];var I=y(A,!0);v(A),X(()=>H(I,n()?"Ocultar etiquetas":"Ver etiquetas")),G(C,A)};re(_,C=>{o()||C(b)})}v(h),X(C=>{It(h,1,`area ${o()?"without-options":"with-options"}`,"svelte-1crvv35"),It(g,1,`textarea ${C??""}`,"svelte-1crvv35"),qn(g,m(i)),Ft(g,"rows",m(r))},[()=>p(e.kind)]),G(t,h),Ke()}nt(["click"]);var Uh=Z('<p class="ignore-rule m-1">Para ignorar, colocar <b> </b> en campo de efecto.</p>'),Fh=Z('<span><p class="m-1"><b> </b> </p> <!> <!></span>');function Us(t,e){We(e,!0);var n=Fh(),o=y(n),i=y(o),r=y(i,!0);v(i);var l=E(i);v(o);var u=E(o,2);{var c=p=>{Or(p,{get kind(){return e.kind},get text(){return e.subtitleError.text},rawMode:!1})};re(u,p=>{e.subtitleError.text!=""&&p(c)})}var d=E(u,2);{var f=p=>{var h=Uh(),g=E(y(h)),_=y(g,!0);v(g),kt(),v(h),X(()=>H(_,e.subtitleError.ignoreRule)),G(p,h)};re(d,p=>{e.subtitleError.ignoreRule!=""&&p(f)})}v(n),X(p=>{It(n,1,`file-error ${e.kind==="error"?"has-text-danger":"has-text-warning"}`),H(r,e.subtitleError.location),H(l,`:
        ${p??""}`)},[()=>e.subtitleError.error+(e.subtitleError.error.endsWith(".")?"":".")]),G(t,n),Ke()}var qh=(t,e)=>e(),Bh=(t,e)=>e(),Gh=(t,e)=>e.onAccept&&e.onAccept(),Hh=Z('<button class="button is-success svelte-1ipj3mc"> </button>'),$h=Z('<div class="modal"><div class="modal-background"></div> <div class="modal-card"><header class="modal-card-head"><p class="modal-card-title"> </p> <button class="delete svelte-1ipj3mc" aria-label="close"></button></header> <section class="modal-card-body"><!></section> <footer class="modal-card-foot"><button class="button svelte-1ipj3mc"> </button> <!></footer></div></div>');function Jh(t,e){We(e,!0);let n=ht(e,"cancelButtonText",3,"Cancelar"),o=ht(e,"acceptButtonText",3,"Aceptar"),i=ht(e,"acceptButtonDisabled",3,!1);const r="is-active";let l=D(void 0);function u(){m(l)!=null&&(m(l).classList.add(r),e.onOpen!=null&&e.onOpen())}function c(){m(l)!=null&&(m(l).classList.remove(r),e.onClose!=null&&e.onClose())}var d={open:u,close:c},f=$h(),p=E(y(f),2),h=y(p),g=y(h),_=y(g,!0);v(g);var b=E(g,2);b.__click=[qh,c],v(h);var C=E(h,2),A=y(C);{var I=q=>{var N=Qe(),V=Fe(N);hl(V,()=>e.children),G(q,N)};re(A,q=>{e.children!=null&&q(I)})}v(C);var P=E(C,2),M=y(P);M.__click=[Bh,c];var x=y(M,!0);v(M);var S=E(M,2);{var R=q=>{var N=Hh();N.__click=[Gh,e];var V=y(N,!0);v(N),X(()=>{N.disabled=i(),H(V,o())}),G(q,N)};re(S,q=>{e.onAccept!=null&&q(R)})}return v(P),v(p),v(f),Ye(f,q=>w(l,q),()=>m(l)),X(()=>{H(_,e.title),H(x,n())}),G(t,f),Ke(d)}nt(["click"]);/*!
* sweetalert2 v11.26.3
* Released under the MIT License.
*/function Xr(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Yh(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Fs(t,e){return t.get(Xr(t,e))}function Wh(t,e,n){Yh(t,e),e.set(t,n)}function Kh(t,e,n){return t.set(Xr(t,e),n),n}const zh=100,ee={},Oh=()=>{ee.previousActiveElement instanceof HTMLElement?(ee.previousActiveElement.focus(),ee.previousActiveElement=null):document.body&&document.body.focus()},Xh=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,o=window.scrollY;ee.restoreFocusTimeout=setTimeout(()=>{Oh(),e()},zh),window.scrollTo(n,o)}),Zr="swal2-",Zh=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],k=Zh.reduce((t,e)=>(t[e]=Zr+e,t),{}),Qh=["success","warning","info","question","error"],Jn=Qh.reduce((t,e)=>(t[e]=Zr+e,t),{}),Qr="SweetAlert2:",Zo=t=>t.charAt(0).toUpperCase()+t.slice(1),ot=t=>{console.warn(`${Qr} ${typeof t=="object"?t.join(" "):t}`)},jt=t=>{console.error(`${Qr} ${t}`)},qs=[],jh=t=>{qs.includes(t)||(qs.push(t),ot(t))},jr=(t,e=null)=>{jh(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},so=t=>typeof t=="function"?t():t,Qo=t=>t&&typeof t.toPromise=="function",Pn=t=>Qo(t)?t.toPromise():Promise.resolve(t),jo=t=>t&&Promise.resolve(t)===t,it=()=>document.body.querySelector(`.${k.container}`),Rn=t=>{const e=it();return e?e.querySelector(t):null},ft=t=>Rn(`.${t}`),Ce=()=>ft(k.popup),gn=()=>ft(k.icon),eg=()=>ft(k["icon-content"]),ea=()=>ft(k.title),ei=()=>ft(k["html-container"]),ta=()=>ft(k.image),ti=()=>ft(k["progress-steps"]),ro=()=>ft(k["validation-message"]),Rt=()=>Rn(`.${k.actions} .${k.confirm}`),vn=()=>Rn(`.${k.actions} .${k.cancel}`),en=()=>Rn(`.${k.actions} .${k.deny}`),tg=()=>ft(k["input-label"]),wn=()=>Rn(`.${k.loader}`),Mn=()=>ft(k.actions),na=()=>ft(k.footer),ao=()=>ft(k["timer-progress-bar"]),ni=()=>ft(k.close),ng=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,oi=()=>{const t=Ce();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((r,l)=>{const u=parseInt(r.getAttribute("tabindex")||"0"),c=parseInt(l.getAttribute("tabindex")||"0");return u>c?1:u<c?-1:0}),o=t.querySelectorAll(ng),i=Array.from(o).filter(r=>r.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(i))].filter(r=>at(r))},ii=()=>Ut(document.body,k.shown)&&!Ut(document.body,k["toast-shown"])&&!Ut(document.body,k["no-backdrop"]),lo=()=>{const t=Ce();return t?Ut(t,k.toast):!1},og=()=>{const t=Ce();return t?t.hasAttribute("data-loading"):!1},pt=(t,e)=>{if(t.textContent="",e){const o=new DOMParser().parseFromString(e,"text/html"),i=o.querySelector("head");i&&Array.from(i.childNodes).forEach(l=>{t.appendChild(l)});const r=o.querySelector("body");r&&Array.from(r.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?t.appendChild(l.cloneNode(!0)):t.appendChild(l)})}},Ut=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let o=0;o<n.length;o++)if(!t.classList.contains(n[o]))return!1;return!0},ig=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(k).includes(n)&&!Object.values(Jn).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},ct=(t,e,n)=>{if(ig(t,e),!e.customClass)return;const o=e.customClass[n];if(o){if(typeof o!="string"&&!o.forEach){ot(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof o}"`);return}be(t,o)}},uo=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${k.popup} > .${k[e]}`);case"checkbox":return t.querySelector(`.${k.popup} > .${k.checkbox} input`);case"radio":return t.querySelector(`.${k.popup} > .${k.radio} input:checked`)||t.querySelector(`.${k.popup} > .${k.radio} input:first-child`);case"range":return t.querySelector(`.${k.popup} > .${k.range} input`);default:return t.querySelector(`.${k.popup} > .${k.input}`)}},oa=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},ia=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(o=>{Array.isArray(t)?t.forEach(i=>{n?i.classList.add(o):i.classList.remove(o)}):n?t.classList.add(o):t.classList.remove(o)}))},be=(t,e)=>{ia(t,e,!0)},vt=(t,e)=>{ia(t,e,!1)},Bt=(t,e)=>{const n=Array.from(t.children);for(let o=0;o<n.length;o++){const i=n[o];if(i instanceof HTMLElement&&Ut(i,e))return i}},Ot=(t,e,n)=>{n===`${parseInt(`${n}`)}`&&(n=parseInt(n)),n||parseInt(`${n}`)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},Oe=(t,e="flex")=>{t&&(t.style.display=e)},tt=t=>{t&&(t.style.display="none")},si=(t,e="block")=>{t&&new MutationObserver(()=>{Nn(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},Bs=(t,e,n,o)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,o)},Nn=(t,e,n="flex")=>{e?Oe(t,n):tt(t)},at=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),sg=()=>!at(Rt())&&!at(en())&&!at(vn()),Bo=t=>t.scrollHeight>t.clientHeight,rg=(t,e)=>{let n=t;for(;n&&n!==e;){if(Bo(n))return!0;n=n.parentElement}return!1},sa=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),o=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||o>0},ri=(t,e=!1)=>{const n=ao();n&&at(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},ag=()=>{const t=ao();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),o=e/n*100;t.style.width=`${o}%`},lg=()=>typeof window>"u"||typeof document>"u",ug=`
 <div aria-labelledby="${k.title}" aria-describedby="${k["html-container"]}" class="${k.popup}" tabindex="-1">
   <button type="button" class="${k.close}"></button>
   <ul class="${k["progress-steps"]}"></ul>
   <div class="${k.icon}"></div>
   <img class="${k.image}" />
   <h2 class="${k.title}" id="${k.title}"></h2>
   <div class="${k["html-container"]}" id="${k["html-container"]}"></div>
   <input class="${k.input}" id="${k.input}" />
   <input type="file" class="${k.file}" />
   <div class="${k.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${k.select}" id="${k.select}"></select>
   <div class="${k.radio}"></div>
   <label class="${k.checkbox}">
     <input type="checkbox" id="${k.checkbox}" />
     <span class="${k.label}"></span>
   </label>
   <textarea class="${k.textarea}" id="${k.textarea}"></textarea>
   <div class="${k["validation-message"]}" id="${k["validation-message"]}"></div>
   <div class="${k.actions}">
     <div class="${k.loader}"></div>
     <button type="button" class="${k.confirm}"></button>
     <button type="button" class="${k.deny}"></button>
     <button type="button" class="${k.cancel}"></button>
   </div>
   <div class="${k.footer}"></div>
   <div class="${k["timer-progress-bar-container"]}">
     <div class="${k["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),dg=()=>{const t=it();return t?(t.remove(),vt([document.documentElement,document.body],[k["no-backdrop"],k["toast-shown"],k["has-column"]]),!0):!1},Wt=()=>{ee.currentInstance.resetValidationMessage()},cg=()=>{const t=Ce(),e=Bt(t,k.input),n=Bt(t,k.file),o=t.querySelector(`.${k.range} input`),i=t.querySelector(`.${k.range} output`),r=Bt(t,k.select),l=t.querySelector(`.${k.checkbox} input`),u=Bt(t,k.textarea);e.oninput=Wt,n.onchange=Wt,r.onchange=Wt,l.onchange=Wt,u.oninput=Wt,o.oninput=()=>{Wt(),i.value=o.value},o.onchange=()=>{Wt(),i.value=o.value}},fg=t=>typeof t=="string"?document.querySelector(t):t,pg=t=>{const e=Ce();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},mg=t=>{window.getComputedStyle(t).direction==="rtl"&&be(it(),k.rtl)},hg=t=>{const e=dg();if(lg()){jt("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=k.container,e&&be(n,k["no-transition"]),pt(n,ug),n.dataset.swal2Theme=t.theme;const o=fg(t.target);o.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),pg(t),mg(o),cg()},ai=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?gg(t,e):t&&pt(e,t)},gg=(t,e)=>{t.jquery?vg(e,t):pt(e,t.toString())},vg=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},wg=(t,e)=>{const n=Mn(),o=wn();!n||!o||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?tt(n):Oe(n),ct(n,e,"actions"),yg(n,o,e),pt(o,e.loaderHtml||""),ct(o,e,"loader"))};function yg(t,e,n){const o=Rt(),i=en(),r=vn();!o||!i||!r||(Ao(o,"confirm",n),Ao(i,"deny",n),Ao(r,"cancel",n),_g(o,i,r,n),n.reverseButtons&&(n.toast?(t.insertBefore(r,o),t.insertBefore(i,o)):(t.insertBefore(r,e),t.insertBefore(i,e),t.insertBefore(o,e))))}function _g(t,e,n,o){if(!o.buttonsStyling){vt([t,e,n],k.styled);return}be([t,e,n],k.styled),o.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",o.confirmButtonColor),o.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",o.denyButtonColor),o.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",o.cancelButtonColor),bo(t),bo(e),bo(n)}function bo(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Ao(t,e,n){const o=Zo(e);Nn(t,n[`show${o}Button`],"inline-block"),pt(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=k[e],ct(t,n,`${e}Button`)}const Tg=(t,e)=>{const n=ni();n&&(pt(n,e.closeButtonHtml||""),ct(n,e,"closeButton"),Nn(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},Cg=(t,e)=>{const n=it();n&&(Eg(n,e.backdrop),bg(n,e.position),Ag(n,e.grow),ct(n,e,"container"))};function Eg(t,e){typeof e=="string"?t.style.background=e:e||be([document.documentElement,document.body],k["no-backdrop"])}function bg(t,e){e&&(e in k?be(t,k[e]):(ot('The "position" parameter is not valid, defaulting to "center"'),be(t,k.center)))}function Ag(t,e){e&&be(t,k[`grow-${e}`])}var Ie={innerParams:new WeakMap,domCache:new WeakMap};const Sg=["input","file","range","select","radio","checkbox","textarea"],Ig=(t,e)=>{const n=Ce();if(!n)return;const o=Ie.innerParams.get(t),i=!o||e.input!==o.input;Sg.forEach(r=>{const l=Bt(n,k[r]);l&&(Pg(r,e.inputAttributes),l.className=k[r],i&&tt(l))}),e.input&&(i&&xg(e),Rg(e))},xg=t=>{if(!t.input)return;if(!qe[t.input]){jt(`Unexpected type of input! Expected ${Object.keys(qe).join(" | ")}, got "${t.input}"`);return}const e=ra(t.input);if(!e)return;const n=qe[t.input](e,t);Oe(e),t.inputAutoFocus&&setTimeout(()=>{oa(n)})},kg=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},Pg=(t,e)=>{const n=Ce();if(!n)return;const o=uo(n,t);if(o){kg(o);for(const i in e)o.setAttribute(i,e[i])}},Rg=t=>{if(!t.input)return;const e=ra(t.input);e&&ct(e,t,"input")},li=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Dn=(t,e,n)=>{if(n.inputLabel){const o=document.createElement("label"),i=k["input-label"];o.setAttribute("for",t.id),o.className=i,typeof n.customClass=="object"&&be(o,n.customClass.inputLabel),o.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",o)}},ra=t=>{const e=Ce();if(e)return Bt(e,k[t]||k.input)},Yn=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:jo(e)||ot(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},qe={};qe.text=qe.email=qe.password=qe.number=qe.tel=qe.url=qe.search=qe.date=qe["datetime-local"]=qe.time=qe.week=qe.month=(t,e)=>(Yn(t,e.inputValue),Dn(t,t,e),li(t,e),t.type=e.input,t);qe.file=(t,e)=>(Dn(t,t,e),li(t,e),t);qe.range=(t,e)=>{const n=t.querySelector("input"),o=t.querySelector("output");return Yn(n,e.inputValue),n.type=e.input,Yn(o,e.inputValue),Dn(n,t,e),t};qe.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");pt(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return Dn(t,t,e),t};qe.radio=t=>(t.textContent="",t);qe.checkbox=(t,e)=>{const n=uo(Ce(),"checkbox");n.value="1",n.checked=!!e.inputValue;const o=t.querySelector("span");return pt(o,e.inputPlaceholder||e.inputLabel),n};qe.textarea=(t,e)=>{Yn(t,e.inputValue),li(t,e),Dn(t,t,e);const n=o=>parseInt(window.getComputedStyle(o).marginLeft)+parseInt(window.getComputedStyle(o).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const o=parseInt(window.getComputedStyle(Ce()).width),i=()=>{if(!document.body.contains(t))return;const r=t.offsetWidth+n(t);r>o?Ce().style.width=`${r}px`:Ot(Ce(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const Mg=(t,e)=>{const n=ei();n&&(si(n),ct(n,e,"htmlContainer"),e.html?(ai(e.html,n),Oe(n,"block")):e.text?(n.textContent=e.text,Oe(n,"block")):tt(n),Ig(t,e))},Ng=(t,e)=>{const n=na();n&&(si(n),Nn(n,!!e.footer,"block"),e.footer&&ai(e.footer,n),ct(n,e,"footer"))},Dg=(t,e)=>{const n=Ie.innerParams.get(t),o=gn();if(!o)return;if(n&&e.icon===n.icon){Hs(o,e),Gs(o,e);return}if(!e.icon&&!e.iconHtml){tt(o);return}if(e.icon&&Object.keys(Jn).indexOf(e.icon)===-1){jt(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),tt(o);return}Oe(o),Hs(o,e),Gs(o,e),be(o,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",aa)},Gs=(t,e)=>{for(const[n,o]of Object.entries(Jn))e.icon!==n&&vt(t,o);be(t,e.icon&&Jn[e.icon]),Ug(t,e),aa(),ct(t,e,"icon")},aa=()=>{const t=Ce();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let o=0;o<n.length;o++)n[o].style.backgroundColor=e},Lg=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Vg=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Hs=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,o="";e.iconHtml?o=$s(e.iconHtml):e.icon==="success"?(o=Lg(e),n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?o=Vg:e.icon&&(o=$s({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==o.trim()&&pt(t,o)},Ug=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Bs(t,n,"background-color",e.iconColor);Bs(t,".swal2-success-ring","border-color",e.iconColor)}},$s=t=>`<div class="${k["icon-content"]}">${t}</div>`,Fg=(t,e)=>{const n=ta();if(n){if(!e.imageUrl){tt(n);return}Oe(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),Ot(n,"width",e.imageWidth),Ot(n,"height",e.imageHeight),n.className=k.image,ct(n,e,"image")}};let ui=!1,la=0,ua=0,da=0,ca=0;const qg=t=>{t.addEventListener("mousedown",Wn),document.body.addEventListener("mousemove",Kn),t.addEventListener("mouseup",zn),t.addEventListener("touchstart",Wn),document.body.addEventListener("touchmove",Kn),t.addEventListener("touchend",zn)},Bg=t=>{t.removeEventListener("mousedown",Wn),document.body.removeEventListener("mousemove",Kn),t.removeEventListener("mouseup",zn),t.removeEventListener("touchstart",Wn),document.body.removeEventListener("touchmove",Kn),t.removeEventListener("touchend",zn)},Wn=t=>{const e=Ce();if(t.target===e||gn().contains(t.target)){ui=!0;const n=fa(t);la=n.clientX,ua=n.clientY,da=parseInt(e.style.insetInlineStart)||0,ca=parseInt(e.style.insetBlockStart)||0,be(e,"swal2-dragging")}},Kn=t=>{const e=Ce();if(ui){let{clientX:n,clientY:o}=fa(t);e.style.insetInlineStart=`${da+(n-la)}px`,e.style.insetBlockStart=`${ca+(o-ua)}px`}},zn=()=>{const t=Ce();ui=!1,vt(t,"swal2-dragging")},fa=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},Gg=(t,e)=>{const n=it(),o=Ce();if(!(!n||!o)){if(e.toast){Ot(n,"width",e.width),o.style.width="100%";const i=wn();i&&o.insertBefore(i,gn())}else Ot(o,"width",e.width);Ot(o,"padding",e.padding),e.color&&(o.style.color=e.color),e.background&&(o.style.background=e.background),tt(ro()),Hg(o,e),e.draggable&&!e.toast?(be(o,k.draggable),qg(o)):(vt(o,k.draggable),Bg(o))}},Hg=(t,e)=>{const n=e.showClass||{};t.className=`${k.popup} ${at(t)?n.popup:""}`,e.toast?(be([document.documentElement,document.body],k["toast-shown"]),be(t,k.toast)):be(t,k.modal),ct(t,e,"popup"),typeof e.customClass=="string"&&be(t,e.customClass),e.icon&&be(t,k[`icon-${e.icon}`])},$g=(t,e)=>{const n=ti();if(!n)return;const{progressSteps:o,currentProgressStep:i}=e;if(!o||o.length===0||i===void 0){tt(n);return}Oe(n),n.textContent="",i>=o.length&&ot("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.forEach((r,l)=>{const u=Jg(r);if(n.appendChild(u),l===i&&be(u,k["active-progress-step"]),l!==o.length-1){const c=Yg(e);n.appendChild(c)}})},Jg=t=>{const e=document.createElement("li");return be(e,k["progress-step"]),pt(e,t),e},Yg=t=>{const e=document.createElement("li");return be(e,k["progress-step-line"]),t.progressStepsDistance&&Ot(e,"width",t.progressStepsDistance),e},Wg=(t,e)=>{const n=ea();n&&(si(n),Nn(n,!!(e.title||e.titleText),"block"),e.title&&ai(e.title,n),e.titleText&&(n.innerText=e.titleText),ct(n,e,"title"))},pa=(t,e)=>{Gg(t,e),Cg(t,e),$g(t,e),Dg(t,e),Fg(t,e),Wg(t,e),Tg(t,e),Mg(t,e),wg(t,e),Ng(t,e);const n=Ce();typeof e.didRender=="function"&&n&&e.didRender(n),ee.eventEmitter.emit("didRender",n)},Kg=()=>at(Ce()),ma=()=>{var t;return(t=Rt())===null||t===void 0?void 0:t.click()},zg=()=>{var t;return(t=en())===null||t===void 0?void 0:t.click()},Og=()=>{var t;return(t=vn())===null||t===void 0?void 0:t.click()},yn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ha=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Xg=(t,e,n)=>{ha(t),e.toast||(t.keydownHandler=o=>Qg(e,o,n),t.keydownTarget=e.keydownListenerCapture?window:Ce(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Go=(t,e)=>{var n;const o=oi();if(o.length){t=t+e,t===-2&&(t=o.length-1),t===o.length?t=0:t===-1&&(t=o.length-1),o[t].focus();return}(n=Ce())===null||n===void 0||n.focus()},ga=["ArrowRight","ArrowDown"],Zg=["ArrowLeft","ArrowUp"],Qg=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?jg(e,t):e.key==="Tab"?ev(e):[...ga,...Zg].includes(e.key)?tv(e.key):e.key==="Escape"&&nv(e,t,n)))},jg=(t,e)=>{if(!so(e.allowEnterKey))return;const n=uo(Ce(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;ma(),t.preventDefault()}},ev=t=>{const e=t.target,n=oi();let o=-1;for(let i=0;i<n.length;i++)if(e===n[i]){o=i;break}t.shiftKey?Go(o,-1):Go(o,1),t.stopPropagation(),t.preventDefault()},tv=t=>{const e=Mn(),n=Rt(),o=en(),i=vn();if(!e||!n||!o||!i)return;const r=[n,o,i];if(document.activeElement instanceof HTMLElement&&!r.includes(document.activeElement))return;const l=ga.includes(t)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let c=0;c<e.children.length;c++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&at(u))break}u instanceof HTMLButtonElement&&u.focus()}},nv=(t,e,n)=>{t.preventDefault(),so(e.allowEscapeKey)&&n(yn.esc)};var dn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ov=()=>{const t=it();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},va=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},wa=typeof window<"u"&&!!window.GestureEvent,iv=()=>{if(wa&&!Ut(document.body,k.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,be(document.body,k.iosfix),sv()}},sv=()=>{const t=it();if(!t)return;let e;t.ontouchstart=n=>{e=rv(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},rv=t=>{const e=t.target,n=it(),o=ei();return!n||!o||av(t)||lv(t)?!1:e===n||!Bo(n)&&e instanceof HTMLElement&&!rg(e,o)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Bo(o)&&o.contains(e))},av=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",lv=t=>t.touches&&t.touches.length>1,uv=()=>{if(Ut(document.body,k.iosfix)){const t=parseInt(document.body.style.top,10);vt(document.body,k.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},dv=()=>{const t=document.createElement("div");t.className=k["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let an=null;const cv=t=>{an===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(an=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${an+dv()}px`)},fv=()=>{an!==null&&(document.body.style.paddingRight=`${an}px`,an=null)};function ya(t,e,n,o){lo()?Js(t,o):(Xh(n).then(()=>Js(t,o)),ha(ee)),wa?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),ii()&&(fv(),uv(),va()),pv()}function pv(){vt([document.documentElement,document.body],[k.shown,k["height-auto"],k["no-backdrop"],k["toast-shown"]])}function Gt(t){t=hv(t);const e=dn.swalPromiseResolve.get(this),n=mv(this);this.isAwaitingPromise?t.isDismissed||(Ln(this),e(t)):n&&e(t)}const mv=t=>{const e=Ce();if(!e)return!1;const n=Ie.innerParams.get(t);if(!n||Ut(e,n.hideClass.popup))return!1;vt(e,n.showClass.popup),be(e,n.hideClass.popup);const o=it();return vt(o,n.showClass.backdrop),be(o,n.hideClass.backdrop),gv(t,e,n),!0};function _a(t){const e=dn.swalPromiseReject.get(this);Ln(this),e&&e(t)}const Ln=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Ie.innerParams.get(t)||t._destroy())},hv=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),gv=(t,e,n)=>{var o;const i=it(),r=sa(e);typeof n.willClose=="function"&&n.willClose(e),(o=ee.eventEmitter)===null||o===void 0||o.emit("willClose",e),r?vv(t,e,i,n.returnFocus,n.didClose):ya(t,i,n.returnFocus,n.didClose)},vv=(t,e,n,o,i)=>{ee.swalCloseEventFinishedCallback=ya.bind(null,t,n,o,i);const r=function(l){if(l.target===e){var u;(u=ee.swalCloseEventFinishedCallback)===null||u===void 0||u.call(ee),delete ee.swalCloseEventFinishedCallback,e.removeEventListener("animationend",r),e.removeEventListener("transitionend",r)}};e.addEventListener("animationend",r),e.addEventListener("transitionend",r)},Js=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ee.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},cn=t=>{let e=Ce();if(e||new fn,e=Ce(),!e)return;const n=wn();lo()?tt(gn()):wv(e,t),Oe(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},wv=(t,e)=>{const n=Mn(),o=wn();!n||!o||(!e&&at(Rt())&&(e=Rt()),Oe(n),e&&(tt(e),o.setAttribute("data-button-to-replace",e.className),n.insertBefore(o,e)),be([t,n],k.loading))},yv=(t,e)=>{e.input==="select"||e.input==="radio"?bv(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Qo(e.inputValue)||jo(e.inputValue))&&(cn(Rt()),Av(t,e))},_v=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return Tv(n);case"radio":return Cv(n);case"file":return Ev(n);default:return e.inputAutoTrim?n.value.trim():n.value}},Tv=t=>t.checked?1:0,Cv=t=>t.checked?t.value:null,Ev=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,bv=(t,e)=>{const n=Ce();if(!n)return;const o=i=>{e.input==="select"?Sv(n,On(i),e):e.input==="radio"&&Iv(n,On(i),e)};Qo(e.inputOptions)||jo(e.inputOptions)?(cn(Rt()),Pn(e.inputOptions).then(i=>{t.hideLoading(),o(i)})):typeof e.inputOptions=="object"?o(e.inputOptions):jt(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},Av=(t,e)=>{const n=t.getInput();n&&(tt(n),Pn(e.inputValue).then(o=>{n.value=e.input==="number"?`${parseFloat(o)||0}`:`${o}`,Oe(n),n.focus(),t.hideLoading()}).catch(o=>{jt(`Error in inputValue promise: ${o}`),n.value="",Oe(n),n.focus(),t.hideLoading()}))};function Sv(t,e,n){const o=Bt(t,k.select);if(!o)return;const i=(r,l,u)=>{const c=document.createElement("option");c.value=u,pt(c,l),c.selected=Ta(u,n.inputValue),r.appendChild(c)};e.forEach(r=>{const l=r[0],u=r[1];if(Array.isArray(u)){const c=document.createElement("optgroup");c.label=l,c.disabled=!1,o.appendChild(c),u.forEach(d=>i(c,d[1],d[0]))}else i(o,u,l)}),o.focus()}function Iv(t,e,n){const o=Bt(t,k.radio);if(!o)return;e.forEach(r=>{const l=r[0],u=r[1],c=document.createElement("input"),d=document.createElement("label");c.type="radio",c.name=k.radio,c.value=l,Ta(l,n.inputValue)&&(c.checked=!0);const f=document.createElement("span");pt(f,u),f.className=k.label,d.appendChild(c),d.appendChild(f),o.appendChild(d)});const i=o.querySelectorAll("input");i.length&&i[0].focus()}const On=t=>{const e=[];return t instanceof Map?t.forEach((n,o)=>{let i=n;typeof i=="object"&&(i=On(i)),e.push([o,i])}):Object.keys(t).forEach(n=>{let o=t[n];typeof o=="object"&&(o=On(o)),e.push([n,o])}),e},Ta=(t,e)=>!!e&&e.toString()===t.toString(),xv=t=>{const e=Ie.innerParams.get(t);t.disableButtons(),e.input?Ca(t,"confirm"):ci(t,!0)},kv=t=>{const e=Ie.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Ca(t,"deny"):di(t,!1)},Pv=(t,e)=>{t.disableButtons(),e(yn.cancel)},Ca=(t,e)=>{const n=Ie.innerParams.get(t);if(!n.input){jt(`The "input" parameter is needed to be set when using returnInputValueOn${Zo(e)}`);return}const o=t.getInput(),i=_v(t,n);n.inputValidator?Rv(t,i,e):o&&!o.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||o.validationMessage)):e==="deny"?di(t,i):ci(t,i)},Rv=(t,e,n)=>{const o=Ie.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Pn(o.inputValidator(e,o.validationMessage))).then(r=>{t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):n==="deny"?di(t,e):ci(t,e)})},di=(t,e)=>{const n=Ie.innerParams.get(t||void 0);n.showLoaderOnDeny&&cn(en()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Pn(n.preDeny(e,n.validationMessage))).then(i=>{i===!1?(t.hideLoading(),Ln(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>Ea(t||void 0,i))):t.close({isDenied:!0,value:e})},Ys=(t,e)=>{t.close({isConfirmed:!0,value:e})},Ea=(t,e)=>{t.rejectPromise(e)},ci=(t,e)=>{const n=Ie.innerParams.get(t||void 0);n.showLoaderOnConfirm&&cn(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Pn(n.preConfirm(e,n.validationMessage))).then(i=>{at(ro())||i===!1?(t.hideLoading(),Ln(t)):Ys(t,typeof i>"u"?e:i)}).catch(i=>Ea(t||void 0,i))):Ys(t,e)};function Xn(){const t=Ie.innerParams.get(this);if(!t)return;const e=Ie.domCache.get(this);tt(e.loader),lo()?t.icon&&Oe(gn()):Mv(e),vt([e.popup,e.actions],k.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Mv=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Oe(e[0],"inline-block"):sg()&&tt(t.actions)};function ba(){const t=Ie.innerParams.get(this),e=Ie.domCache.get(this);return e?uo(e.popup,t.input):null}function Aa(t,e,n){const o=Ie.domCache.get(t);e.forEach(i=>{o[i].disabled=n})}function Sa(t,e){const n=Ce();if(!(!n||!t))if(t.type==="radio"){const o=n.querySelectorAll(`[name="${k.radio}"]`);for(let i=0;i<o.length;i++)o[i].disabled=e}else t.disabled=e}function Ia(){Aa(this,["confirmButton","denyButton","cancelButton"],!1)}function xa(){Aa(this,["confirmButton","denyButton","cancelButton"],!0)}function ka(){Sa(this.getInput(),!1)}function Pa(){Sa(this.getInput(),!0)}function Ra(t){const e=Ie.domCache.get(this),n=Ie.innerParams.get(this);pt(e.validationMessage,t),e.validationMessage.className=k["validation-message"],n.customClass&&n.customClass.validationMessage&&be(e.validationMessage,n.customClass.validationMessage),Oe(e.validationMessage);const o=this.getInput();o&&(o.setAttribute("aria-invalid","true"),o.setAttribute("aria-describedby",k["validation-message"]),oa(o),be(o,k.inputerror))}function Ma(){const t=Ie.domCache.get(this);t.validationMessage&&tt(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),vt(e,k.inputerror))}const ln={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Nv=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Dv={allowEnterKey:void 0},Lv=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Na=t=>Object.prototype.hasOwnProperty.call(ln,t),Da=t=>Nv.indexOf(t)!==-1,La=t=>Dv[t],Vv=t=>{Na(t)||ot(`Unknown parameter "${t}"`)},Uv=t=>{Lv.includes(t)&&ot(`The parameter "${t}" is incompatible with toasts`)},Fv=t=>{const e=La(t);e&&jr(t,e)},Va=t=>{t.backdrop===!1&&t.allowOutsideClick&&ot('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&ot(`Invalid theme "${t.theme}"`);for(const e in t)Vv(e),t.toast&&Uv(e),Fv(e)};function Ua(t){const e=it(),n=Ce(),o=Ie.innerParams.get(this);if(!n||Ut(n,o.hideClass.popup)){ot("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=qv(t),r=Object.assign({},o,i);Va(r),e.dataset.swal2Theme=r.theme,pa(this,r),Ie.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const qv=t=>{const e={};return Object.keys(t).forEach(n=>{Da(n)?e[n]=t[n]:ot(`Invalid parameter to update: ${n}`)}),e};function Fa(){const t=Ie.domCache.get(this),e=Ie.innerParams.get(this);if(!e){qa(this);return}t.popup&&ee.swalCloseEventFinishedCallback&&(ee.swalCloseEventFinishedCallback(),delete ee.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ee.eventEmitter.emit("didDestroy"),Bv(this)}const Bv=t=>{qa(t),delete t.params,delete ee.keydownHandler,delete ee.keydownTarget,delete ee.currentInstance},qa=t=>{t.isAwaitingPromise?(So(Ie,t),t.isAwaitingPromise=!0):(So(dn,t),So(Ie,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},So=(t,e)=>{for(const n in t)t[n].delete(e)};var Gv=Object.freeze({__proto__:null,_destroy:Fa,close:Gt,closeModal:Gt,closePopup:Gt,closeToast:Gt,disableButtons:xa,disableInput:Pa,disableLoading:Xn,enableButtons:Ia,enableInput:ka,getInput:ba,handleAwaitingPromise:Ln,hideLoading:Xn,rejectPromise:_a,resetValidationMessage:Ma,showValidationMessage:Ra,update:Ua});const Hv=(t,e,n)=>{t.toast?$v(t,e,n):(Yv(e),Wv(e),Kv(t,e,n))},$v=(t,e,n)=>{e.popup.onclick=()=>{t&&(Jv(t)||t.timer||t.input)||n(yn.close)}},Jv=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Zn=!1;const Yv=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Zn=!0)}}},Wv=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Zn=!0)}}},Kv=(t,e,n)=>{e.container.onclick=o=>{if(Zn){Zn=!1;return}o.target===e.container&&so(t.allowOutsideClick)&&n(yn.backdrop)}},zv=t=>typeof t=="object"&&t.jquery,Ws=t=>t instanceof Element||zv(t),Ov=t=>{const e={};return typeof t[0]=="object"&&!Ws(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,o)=>{const i=t[o];typeof i=="string"||Ws(i)?e[n]=i:i!==void 0&&jt(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)}),e};function Xv(...t){return new this(...t)}function Zv(t){class e extends this{_main(o,i){return super._main(o,Object.assign({},t,i))}}return e}const Qv=()=>ee.timeout&&ee.timeout.getTimerLeft(),Ba=()=>{if(ee.timeout)return ag(),ee.timeout.stop()},Ga=()=>{if(ee.timeout){const t=ee.timeout.start();return ri(t),t}},jv=()=>{const t=ee.timeout;return t&&(t.running?Ba():Ga())},ew=t=>{if(ee.timeout){const e=ee.timeout.increase(t);return ri(e,!0),e}},tw=()=>!!(ee.timeout&&ee.timeout.isRunning());let Ks=!1;const Ho={};function nw(t="data-swal-template"){Ho[t]=this,Ks||(document.body.addEventListener("click",ow),Ks=!0)}const ow=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Ho){const o=e.getAttribute(n);if(o){Ho[n].fire({template:o});return}}};class iw{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const o=this._getHandlersByEventName(e);o.includes(n)||o.push(n)}once(e,n){const o=(...i)=>{this.removeListener(e,o),n.apply(this,i)};this.on(e,o)}emit(e,...n){this._getHandlersByEventName(e).forEach(o=>{try{o.apply(this,n)}catch(i){console.error(i)}})}removeListener(e,n){const o=this._getHandlersByEventName(e),i=o.indexOf(n);i>-1&&o.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ee.eventEmitter=new iw;const sw=(t,e)=>{ee.eventEmitter.on(t,e)},rw=(t,e)=>{ee.eventEmitter.once(t,e)},aw=(t,e)=>{if(!t){ee.eventEmitter.reset();return}e?ee.eventEmitter.removeListener(t,e):ee.eventEmitter.removeAllListeners(t)};var lw=Object.freeze({__proto__:null,argsToParams:Ov,bindClickHandler:nw,clickCancel:Og,clickConfirm:ma,clickDeny:zg,enableLoading:cn,fire:Xv,getActions:Mn,getCancelButton:vn,getCloseButton:ni,getConfirmButton:Rt,getContainer:it,getDenyButton:en,getFocusableElements:oi,getFooter:na,getHtmlContainer:ei,getIcon:gn,getIconContent:eg,getImage:ta,getInputLabel:tg,getLoader:wn,getPopup:Ce,getProgressSteps:ti,getTimerLeft:Qv,getTimerProgressBar:ao,getTitle:ea,getValidationMessage:ro,increaseTimer:ew,isDeprecatedParameter:La,isLoading:og,isTimerRunning:tw,isUpdatableParameter:Da,isValidParameter:Na,isVisible:Kg,mixin:Zv,off:aw,on:sw,once:rw,resumeTimer:Ga,showLoading:cn,stopTimer:Ba,toggleTimer:jv});class uw{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ha=["swal-title","swal-html","swal-footer"],dw=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return ww(n),Object.assign(cw(n),fw(n),pw(n),mw(n),hw(n),gw(n),vw(n,Ha))},cw=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(o=>{Zt(o,["name","value"]);const i=o.getAttribute("name"),r=o.getAttribute("value");!i||!r||(typeof ln[i]=="boolean"?e[i]=r!=="false":typeof ln[i]=="object"?e[i]=JSON.parse(r):e[i]=r)}),e},fw=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(o=>{const i=o.getAttribute("name"),r=o.getAttribute("value");!i||!r||(e[i]=new Function(`return ${r}`)())}),e},pw=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(o=>{Zt(o,["type","color","aria-label"]);const i=o.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=o.innerHTML,e[`show${Zo(i)}Button`]=!0,o.hasAttribute("color")&&(e[`${i}ButtonColor`]=o.getAttribute("color")),o.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=o.getAttribute("aria-label")))}),e},mw=t=>{const e={},n=t.querySelector("swal-image");return n&&(Zt(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},hw=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Zt(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},gw=t=>{const e={},n=t.querySelector("swal-input");n&&(Zt(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const o=Array.from(t.querySelectorAll("swal-input-option"));return o.length&&(e.inputOptions={},o.forEach(i=>{Zt(i,["value"]);const r=i.getAttribute("value");if(!r)return;const l=i.innerHTML;e.inputOptions[r]=l})),e},vw=(t,e)=>{const n={};for(const o in e){const i=e[o],r=t.querySelector(i);r&&(Zt(r,[]),n[i.replace(/^swal-/,"")]=r.innerHTML.trim())}return n},ww=t=>{const e=Ha.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const o=n.tagName.toLowerCase();e.includes(o)||ot(`Unrecognized element <${o}>`)})},Zt=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&ot([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},$a=10,yw=t=>{const e=it(),n=Ce();typeof t.willOpen=="function"&&t.willOpen(n),ee.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;Cw(e,n,t),setTimeout(()=>{_w(e,n)},$a),ii()&&(Tw(e,t.scrollbarPadding,i),ov()),!lo()&&!ee.previousActiveElement&&(ee.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ee.eventEmitter.emit("didOpen",n)},Qn=t=>{const e=Ce();if(t.target!==e)return;const n=it();e.removeEventListener("animationend",Qn),e.removeEventListener("transitionend",Qn),n.style.overflowY="auto",vt(n,k["no-transition"])},_w=(t,e)=>{sa(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Qn),e.addEventListener("transitionend",Qn)):t.style.overflowY="auto"},Tw=(t,e,n)=>{iv(),e&&n!=="hidden"&&cv(n),setTimeout(()=>{t.scrollTop=0})},Cw=(t,e,n)=>{be(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),Oe(e,"grid"),setTimeout(()=>{be(e,n.showClass.popup),e.style.removeProperty("opacity")},$a)):Oe(e,"grid"),be([document.documentElement,document.body],k.shown),n.heightAuto&&n.backdrop&&!n.toast&&be([document.documentElement,document.body],k["height-auto"])};var zs={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Ew(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=zs.email),t.input==="url"&&(t.inputValidator=zs.url))}function bw(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(ot('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Aw(t){Ew(t),t.showLoaderOnConfirm&&!t.preConfirm&&ot(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),bw(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),hg(t)}let St;var Vn=new WeakMap;class He{constructor(...e){if(Wh(this,Vn,void 0),typeof window>"u")return;St=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,Kh(Vn,this,this._main(St.params))}_main(e,n={}){if(Va(Object.assign({},n,e)),ee.currentInstance){const r=dn.swalPromiseResolve.get(ee.currentInstance),{isAwaitingPromise:l}=ee.currentInstance;ee.currentInstance._destroy(),l||r({isDismissed:!0}),ii()&&va()}ee.currentInstance=St;const o=Iw(e,n);Aw(o),Object.freeze(o),ee.timeout&&(ee.timeout.stop(),delete ee.timeout),clearTimeout(ee.restoreFocusTimeout);const i=xw(St);return pa(St,o),Ie.innerParams.set(St,o),Sw(St,i,o)}then(e){return Fs(Vn,this).then(e)}finally(e){return Fs(Vn,this).finally(e)}}const Sw=(t,e,n)=>new Promise((o,i)=>{const r=l=>{t.close({isDismissed:!0,dismiss:l,isConfirmed:!1,isDenied:!1})};dn.swalPromiseResolve.set(t,o),dn.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{xv(t)},e.denyButton.onclick=()=>{kv(t)},e.cancelButton.onclick=()=>{Pv(t,r)},e.closeButton.onclick=()=>{r(yn.close)},Hv(n,e,r),Xg(ee,n,r),yv(t,n),yw(n),kw(ee,n,r),Pw(e,n),setTimeout(()=>{e.container.scrollTop=0})}),Iw=(t,e)=>{const n=dw(t),o=Object.assign({},ln,e,n,t);return o.showClass=Object.assign({},ln.showClass,o.showClass),o.hideClass=Object.assign({},ln.hideClass,o.hideClass),o.animation===!1&&(o.showClass={backdrop:"swal2-noanimation"},o.hideClass={}),o},xw=t=>{const e={popup:Ce(),container:it(),actions:Mn(),confirmButton:Rt(),denyButton:en(),cancelButton:vn(),loader:wn(),closeButton:ni(),validationMessage:ro(),progressSteps:ti()};return Ie.domCache.set(t,e),e},kw=(t,e,n)=>{const o=ao();tt(o),e.timer&&(t.timeout=new uw(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Oe(o),ct(o,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&ri(e.timer)})))},Pw=(t,e)=>{if(!e.toast){if(!so(e.allowEnterKey)){jr("allowEnterKey"),Nw();return}Rw(t)||Mw(t,e)||Go(-1,1)}},Rw=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&at(n))return n.focus(),!0;return!1},Mw=(t,e)=>e.focusDeny&&at(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&at(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&at(t.confirmButton)?(t.confirmButton.focus(),!0):!1,Nw=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};He.prototype.disableButtons=xa;He.prototype.enableButtons=Ia;He.prototype.getInput=ba;He.prototype.disableInput=Pa;He.prototype.enableInput=ka;He.prototype.hideLoading=Xn;He.prototype.disableLoading=Xn;He.prototype.showValidationMessage=Ra;He.prototype.resetValidationMessage=Ma;He.prototype.close=Gt;He.prototype.closePopup=Gt;He.prototype.closeModal=Gt;He.prototype.closeToast=Gt;He.prototype.rejectPromise=_a;He.prototype.update=Ua;He.prototype._destroy=Fa;Object.assign(He,lw);Object.keys(Gv).forEach(t=>{He[t]=function(...e){return St&&St[t]?St[t](...e):null}});He.DismissReason=yn;He.version="11.26.3";const fn=He;fn.default=fn;typeof document<"u"&&(function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var Dw=Z("<option> </option>"),Lw=Z("<option> </option>"),Vw=Z(`<label class="label" for="">Modelo</label> <div class="select is-fullwidth mb-2"><select></select></div> <div class="api-key boxed"><div class="field"><label class="label" for="">API KEY</label> <div class="control"><input class="input" type="password" placeholder="Ingresa tu API KEY"/></div></div> <p><a href="https://aistudio.google.com/apikey" target="_blank">Clic aquí para obtener una API KEY.</a></p> <p>Las validaciones de Google Gemini serán siempre advertencias
                    debido a su tendencia a tener falsos positivos.</p></div> <div class="field mt-1"><label class="label" for="">Tokens máximos</label> <div class="control"><input class="input" type="number" min="0" step="512"/></div></div>`,1),Uw=Z('<button class="button is-danger is-outlined is-fullwidth mb-2">Sakujo configuración</button> <div class="select is-fullwidth mb-2"><select></select></div> <div class="field boxed"><label class="checkbox"><input type="checkbox"/> </label> <!></div> <div class="boxed"><div class="field"><label class="checkbox"><input type="checkbox"/> </label></div> <div class="field"><label class="checkbox"><input type="checkbox"/> </label></div> <div class="field"><label class="checkbox"><input type="checkbox"/> </label></div> <div class="field"><label class="checkbox"><input type="checkbox"/> </label></div> <div class="field"><label class="checkbox"><input type="checkbox"/> </label></div></div>',1);function Fw(t,e){We(e,!0);let n=ht(e,"options",15),o=D(void 0);function i(){m(o)?.open()}function r(){m(o)?.close()}async function l(){let c=`
            <div
                style="
                    display: flex;
                    position: relative;
                    text-align: center;
                    height: 16rem;
                    overflow: hidden;
                "
            >
                <p
                    style="
                        position: absolute;
                        width: 100%;
                        top: 2%;
                        z-index: 2;
                        color: white;
                        text-shadow: 0.05rem 0.05rem 0.05rem black;
                    "
                >
                    <i>Nota: "sakujo" significa eliminar.</i>
                </p>

                <img
                    src="img/mikami-teru.gif"
                    alt="Death Note"
                    title="Death Note"
                    style="
                        position: absolute;
                        height: 16rem;
                    "
                />
            </div>
        `;(await fn.fire({title:"¿Sakujo configuración?",html:c,confirmButtonText:"¡Sakujo!",cancelButtonText:"Cancelar",showCancelButton:!0,customClass:{confirmButton:"swal2-deny"}})).isConfirmed&&(n($n.parse({})),c=`
            <img
                src="img/lelouch.gif"
                alt="Code Geass"
                title="Code Geass"
                style="height: 16rem"
            />
        `,await fn.fire({title:"Configuración sakujeada",html:c,confirmButtonText:"Volver"}))}var u={open:i,close:r};return Ye(Jh(t,{title:"Configuración",cancelButtonText:"Volver",onClose:()=>Th(n()),children:(c,d)=>{var f=Uw(),p=Fe(f);p.__click=l;var h=E(p,2),g=y(h);Pt(g,21,()=>Jr,Vt,(W,se)=>{var z=Dw(),ue=y(z);v(z);var _e={};X(()=>{H(ue,`Modo ${m(se)??""}`),_e!==(_e=m(se))&&(z.value=(z.__value=m(se))??"")}),G(W,z)}),v(g),v(h);var _=E(h,2),b=y(_),C=y(b);Be(C);var A=E(C);v(b);var I=E(b,2);{var P=W=>{var se=Vw(),z=E(Fe(se),2),ue=y(z);Pt(ue,21,()=>Yr,Vt,(Te,Pe)=>{var De=Lw(),Re=y(De,!0);v(De);var Je={};X(()=>{H(Re,m(Pe)),Je!==(Je=m(Pe))&&(De.value=(De.__value=m(Pe))??"")}),G(Te,De)}),v(ue),v(z);var _e=E(z,2),xe=y(_e),L=E(y(xe),2),Q=y(L);Be(Q),v(L),v(xe),kt(4),v(_e);var ve=E(_e,2),ye=E(y(ve),2),Ae=y(ye);Be(Ae),v(ye),v(ve),yi(ue,()=>n().geminiModel,Te=>n(n().geminiModel=Te,!0)),Se(Q,()=>n().geminiApiKey,Te=>n(n().geminiApiKey=Te,!0)),Se(Ae,()=>n().geminiMaxTokens,Te=>n(n().geminiMaxTokens=Te,!0)),G(W,se)};re(I,W=>{n().geminiEnabled&&W(P)})}v(_);var M=E(_,2),x=y(M),S=y(x),R=y(S);Be(R);var q=E(R);v(S),v(x);var N=E(x,2),V=y(N),U=y(V);Be(U);var B=E(U);v(V),v(N);var K=E(N,2),j=y(K),J=y(j);Be(J);var Y=E(J);v(j),v(K);var $=E(K,2),fe=y($),ae=y(fe);Be(ae);var te=E(ae);v(fe),v($);var me=E($,2),we=y(me),le=y(we);Be(le);var ie=E(le);v(we),v(me),v(M),X(()=>{H(A,` ${ge.validateWithGemini}`),H(q,` ${ge.validateLineStyleExists}`),H(B,` ${ge.validateTextStart}`),H(Y,` ${ge.validateTextEnd}`),H(te,` ${ge.validateTextSpaces}`),H(ie,` ${ge.validateTextPunctuation}`)}),yi(g,()=>n().userSubsMode,W=>n(n().userSubsMode=W,!0)),Dt(C,()=>n().geminiEnabled,W=>n(n().geminiEnabled=W,!0)),Dt(R,()=>n().validateLineStyleExists,W=>n(n().validateLineStyleExists=W,!0)),Dt(U,()=>n().validateTextStart,W=>n(n().validateTextStart=W,!0)),Dt(J,()=>n().validateTextEnd,W=>n(n().validateTextEnd=W,!0)),Dt(ae,()=>n().validateTextSpaces,W=>n(n().validateTextSpaces=W,!0)),Dt(le,()=>n().validateTextPunctuation,W=>n(n().validateTextPunctuation=W,!0)),G(c,f)},$$slots:{default:!0}}),c=>w(o,c,!0),()=>m(o)),Ke(u)}nt(["click"]);function Ja(t,e){const n=URL.createObjectURL(t),o=document.createElement("a");o.download=e,o.href=n,o.target="_blank",o.click(),URL.revokeObjectURL(n)}function qw(){const t=fr();t.scriptInfo.properties.set("Title","Asu example"),t.events.lines=[];const e=["London no sora!","London no takushii!","London no eigo!","London ni iruuuuu watashitashi!"];for(const n of e){const o=cr();o.actor="Yui-chan",o.content=n,t.events.lines.push(o)}return t}function Ya(){const t=qw(),e=Dl(t),n=new Blob([e],{type:"plain/text"});Ja(n,"Ejemplo ejemplificador.ass")}async function Bw(t,e){await navigator.clipboard.writeText(e.promt),alert("¡Promt copiado al portapapeles!")}var Gw=(t,e)=>w(e,!m(e)),Hw=Z('<textarea class="textarea svelte-8z8yg9"></textarea>'),$w=Z('<div class="promt svelte-8z8yg9"><div class="options"><button class="button is-small mt-2 mb-2"> </button> <button class="button is-small mt-2 mb-2">Copiar promt</button></div> <!></div>');function Jw(t,e){let n=D(!1);var o=$w(),i=y(o),r=y(i);r.__click=[Gw,n];var l=y(r);v(r);var u=E(r,2);u.__click=[Bw,e],v(i);var c=E(i,2);{var d=f=>{var p=Hw();ze(p),X(()=>qn(p,e.promt)),G(f,p)};re(c,f=>{m(n)&&f(d)})}v(o),X(()=>H(l,`${m(n)?"Ocultar":"Ver"} promt`)),G(t,o)}nt(["click"]);async function Yw(t,e,n,o,i,r,l,u,c,d,f,p,h){const g=m(e).geminiEnabled;try{if(m(e).geminiEnabled&&m(e).geminiApiKey===""){alert("Ingrese el API KEY de Google Gemini."),m(n)?.open();return}m(e).geminiEnabled&&((await fn.fire({title:"Google Gemini habilitado. ¿Continuar?",confirmButtonText:"Continuar",cancelButtonText:"Continuar sin Google Gemini",showCancelButton:!0,html:`
                    <img
                        src="img/sakura.gif"
                        alt="Cardcaptor Sakura"
                        title="Cardcaptor Sakura"
                        style="height: 16rem"
                    />
                `})).isConfirmed||(m(e).geminiEnabled=!1));const _=[...m(o)?.files??[]];w(i,0),w(r,0),w(l,[],!0),w(u,!0);for(const b of _){const C=await b.text(),A=pr(C);if(A==null){console.error("archivo inválido",b.name);continue}w(c,Ph(b.name,m(e).userSubsMode),!0);const I=[];for(const M of A.events.lines){const x=Ne(M.content);let S=Ge(x.filter(q=>q.name==="text"));S=d(S,[",",";",".","¡","!","¿","?","-","\\N"]);const R=S.split(" ");I.push(...R)}for(let M=1;M<=40;M++){const x=f(0,I.length-1),S=I[x];w(p,m(p)+(" "+S))}const P=await Eh(m(c),A,m(e));w(i,m(i)+P.errors.length),w(r,m(r)+P.warnings.length),m(l).push({subsType:m(c),fileName:b.name,promt:P.promt,errors:P.errors,warnings:P.warnings,errorsVisible:!1,warningsVisible:!1})}}catch(_){console.error("error al procesar archivos",_)}finally{m(e).geminiEnabled=g,m(o)!=null&&(m(o).value=""),w(u,!1),await h()}}var Ww=(t,e)=>m(e)?.open(),Kw=Z('<span class="tag is-dark svelte-qdaw34"> </span>'),zw=Z('<span class="tag is-dark svelte-qdaw34"> </span>'),Ow=Z('<span class="tag is-dark svelte-qdaw34"> </span>'),Xw=Z('<span class="tag is-dark svelte-qdaw34"> </span>'),Zw=Z('<span class="tag is-dark svelte-qdaw34"> </span>'),Qw=Z('<span class="tag is-dark svelte-qdaw34"> </span>'),jw=Z(`<div class="result-info svelte-qdaw34"><div class="counter svelte-qdaw34">PROCESANDO</div> <div style="
                    display: flex;
                    position: relative;
                    text-align: center;
                    height: 16rem;
                    overflow: hidden;
                " class="svelte-qdaw34"><p class="marquee svelte-qdaw34"><span class="svelte-qdaw34"> </span></p> <p class="marquee marquee2 svelte-qdaw34"><span class="svelte-qdaw34"> </span></p> <div class="image-container svelte-qdaw34" style="width: 100%;"><img class="result-image svelte-qdaw34" src="img/nagato.gif" alt="Suzumiya Haruhi" title="Suzumiya Haruhi"/></div></div> <div class="counter svelte-qdaw34">SUBTÍTULOS</div></div>`),ey=Z('<img class="result-image svelte-qdaw34" src="img/lucky-star-yay.gif" alt="Lucky Star" title="Lucky Star"/>'),ty=Z('<img class="result-image svelte-qdaw34" src="img/nichijou.webp" alt="Nichijou" title="Nichijou"/>'),ny=Z(`<img class="result-image svelte-qdaw34" src="img/under-arrest.gif" alt="You're Under Arrest" title="You're Under Arrest"/>`),oy=Z('<img class="result-image svelte-qdaw34" src="img/new-game.gif" alt="New Game!" title="New Game!"/>'),iy=Z("<div> <!></div>"),sy=Z("<div> </div>"),ry=(t,e)=>m(e).errorsVisible=!m(e).errorsVisible,ay=Z('<div class="file-errors svelte-qdaw34"></div>'),ly=Z('<div class="errors-list svelte-qdaw34"><button class="button is-danger is-outlined svelte-qdaw34"> </button> <!></div>'),uy=(t,e)=>m(e).warningsVisible=!m(e).warningsVisible,dy=Z('<div class="file-errors svelte-qdaw34"></div>'),cy=Z('<div class="warnings-list svelte-qdaw34"><button class="button is-warning is-outlined svelte-qdaw34"> </button> <!></div>'),fy=Z('<div class="result svelte-qdaw34"><span> </span> <!> <!> <!> <!></div>'),py=Z('<button class="button is-secondary is-fullwidth mb-2 svelte-qdaw34">Descargar resultados</button> <div class="result-info svelte-qdaw34"><div> </div> <div class="image-container svelte-qdaw34"><!></div> <div> </div></div> <!>',1),my=Z('<section class="svelte-qdaw34"><h1 class="svelte-qdaw34"> </h1> <div class="options boxed mb-4 svelte-qdaw34"><button class="button is-link mb-2 btn-settings is-fullwidth svelte-qdaw34">Ver configuración</button> <div class="options-info svelte-qdaw34"><span class="tag is-dark svelte-qdaw34"> </span> <!> <!> <!> <!> <!> <!></div></div> <button class="button mb-2 btn-example is-fullwidth svelte-qdaw34">Descargar subtítulos de ejemplo</button> <div class="file is-fullwidth mb-2 svelte-qdaw34"><label class="file-label svelte-qdaw34"><input class="file-input svelte-qdaw34" type="file" accept=".ass" multiple/> <span class="file-cta svelte-qdaw34"><span class="file-icon svelte-qdaw34"><i class="fas fa-upload svelte-qdaw34"></i></span> <span class="file-label svelte-qdaw34">Cargar subtítulos</span></span></label></div> <!> <!></section> <!>',1);function hy(t,e){We(e,!0);const n=ge.validarDialogos;let o=D("diálogos"),i=D(void 0),r=D(0),l=D(0),u=D(un([])),c=D(!1),d=D(un($n.parse({}))),f=D(void 0),p=D("");function h(L,Q){for(const ve of Q)L=L.replaceAll(ve,"");return L}function g(L,Q){return L=Math.ceil(L),Q=Math.floor(Q),Math.floor(Math.random()*(Q-L+1))+L}function _(L){return L.errors.length>0?"has-text-danger":L.warnings.length>0?"has-text-warning":"has-text-success"}async function b(){await xn();const L=document.querySelector(".result-info");L?.scrollIntoView({behavior:"smooth"})}function C(){let L=`Archivos: ${m(u).length}`;for(const ve of m(u)){L+=`
`,L+=`
======================================================================`,L+=`
${ve.fileName}:`,L+=`
Errores: ${ve.errors.length}`,L+=`
Advertencias: ${ve.warnings.length}`;for(const ye of ve.errors)L+=`
`,L+=`
ERROR: ${ye.location}: ${ye.error}`,L+=`
TEXTO: ${ye.text}`;for(const ye of ve.warnings)L+=`
`,L+=`
ADVERTENCIA: ${ye.location}: ${ye.error}`,L+=`
TEXTO: ${ye.text}`}const Q=new Blob([L],{type:"plain/text"});Ja(Q,"Resultados.txt")}wt(()=>{w(d,Ch(),!0)});var A=my();yt(L=>{X(()=>_t.title=n)});var I=Fe(A),P=y(I),M=y(P,!0);v(P);var x=E(P,2),S=y(x);S.__click=[Ww,f];var R=E(S,2),q=y(R),N=y(q);v(q);var V=E(q,2);{var U=L=>{var Q=Kw(),ve=y(Q);v(Q),X(()=>H(ve,`${ge.validateWithGemini}: ${m(d).geminiModel??""}`)),G(L,Q)};re(V,L=>{m(d).geminiEnabled&&L(U)})}var B=E(V,2);{var K=L=>{var Q=zw(),ve=y(Q,!0);v(Q),X(()=>H(ve,ge.validateLineStyleExists)),G(L,Q)};re(B,L=>{m(d).validateLineStyleExists&&L(K)})}var j=E(B,2);{var J=L=>{var Q=Ow(),ve=y(Q,!0);v(Q),X(()=>H(ve,ge.validateTextStart)),G(L,Q)};re(j,L=>{m(d).validateTextStart&&L(J)})}var Y=E(j,2);{var $=L=>{var Q=Xw(),ve=y(Q,!0);v(Q),X(()=>H(ve,ge.validateTextEnd)),G(L,Q)};re(Y,L=>{m(d).validateTextEnd&&L($)})}var fe=E(Y,2);{var ae=L=>{var Q=Zw(),ve=y(Q,!0);v(Q),X(()=>H(ve,ge.validateTextSpaces)),G(L,Q)};re(fe,L=>{m(d).validateTextSpaces&&L(ae)})}var te=E(fe,2);{var me=L=>{var Q=Qw(),ve=y(Q,!0);v(Q),X(()=>H(ve,ge.validateTextPunctuation)),G(L,Q)};re(te,L=>{m(d).validateTextPunctuation&&L(me)})}v(R),v(x);var we=E(x,2);we.__click=function(...L){Ya?.apply(this,L)};var le=E(we,2),ie=y(le),W=y(ie);W.__change=[Yw,d,f,i,r,l,u,c,o,h,g,p,b],Ye(W,L=>w(i,L),()=>m(i)),kt(2),v(ie),v(le);var se=E(le,2);{var z=L=>{var Q=jw(),ve=E(y(Q),2),ye=y(ve),Ae=y(ye),Te=y(Ae,!0);v(Ae),v(ye);var Pe=E(ye,2),De=y(Pe),Re=y(De,!0);v(De),v(Pe),kt(2),v(ve),kt(2),v(Q),X(()=>{H(Te,m(p)),H(Re,m(p))}),G(L,Q)};re(se,L=>{m(c)&&L(z)})}var ue=E(se,2);{var _e=L=>{var Q=py(),ve=Fe(Q);ve.__click=C;var ye=E(ve,2),Ae=y(ye),Te=y(Ae);v(Ae);var Pe=E(Ae,2),De=y(Pe);{var Re=T=>{var pe=ey();G(T,pe)},Je=T=>{var pe=Qe(),ce=Fe(pe);{var oe=de=>{var F=ty();G(de,F)},ne=de=>{var F=Qe(),he=Fe(F);{var Le=Ve=>{var Xe=ny();G(Ve,Xe)},Me=Ve=>{var Xe=Qe(),co=Fe(Xe);{var fo=_n=>{var Ue=oy();G(_n,Ue)};re(co,_n=>{m(l)>0&&_n(fo)},!0)}G(Ve,Xe)};re(he,Ve=>{m(r)>0?Ve(Le):Ve(Me,!1)},!0)}G(de,F)};re(ce,de=>{m(r)>10?de(oe):de(ne,!1)},!0)}G(T,pe)};re(De,T=>{m(r)===0&&m(l)===0?T(Re):T(Je,!1)})}v(Pe);var mt=E(Pe,2),lt=y(mt);v(mt),v(ye);var ut=E(ye,2);Pt(ut,17,()=>m(u),Vt,(T,pe,ce)=>{var oe=fy(),ne=y(oe),de=y(ne,!0);v(ne);var F=E(ne,2);{var he=Ue=>{var Ze=iy(),st=y(Ze),$t=E(st);{var Tn=Jt=>{var Mt=sr("Ignorado.");G(Jt,Mt)};re($t,Jt=>{m(pe).subsType==="carteles"&&Jt(Tn)})}v(Ze),X(()=>{It(Ze,1,`has-text-success text-${m(pe).subsType??""}`,"svelte-qdaw34"),H(st,`¡Todo en orden! Detectado como ${m(pe).subsType??""}. `)}),G(Ue,Ze)},Le=Ue=>{var Ze=sy(),st=y(Ze);v(Ze),X($t=>{It(Ze,1,$t,"svelte-qdaw34"),H(st,`Detectado como ${m(pe).subsType??""}.`)},[()=>Ll(_(m(pe)))]),G(Ue,Ze)};re(F,Ue=>{m(pe).errors.length==0&&m(pe).warnings.length==0?Ue(he):Ue(Le,!1)})}var Me=E(F,2);{var Ve=Ue=>{var Ze=ly(),st=y(Ze);st.__click=[ry,pe];var $t=y(st);v(st);var Tn=E(st,2);{var Jt=Mt=>{var Yt=ay();Pt(Yt,21,()=>m(pe).errors,Vt,(po,mo)=>{Us(po,{kind:"error",get subtitleError(){return m(mo)}})}),v(Yt),G(Mt,Yt)};re(Tn,Mt=>{m(pe).errorsVisible&&Mt(Jt)})}v(Ze),X(()=>H($t,`${m(pe).errorsVisible?"Ocultar errores":"Ver errores"}: ${m(pe).errors.length??""}`)),G(Ue,Ze)};re(Me,Ue=>{m(pe).errors.length>0&&Ue(Ve)})}var Xe=E(Me,2);{var co=Ue=>{var Ze=cy(),st=y(Ze);st.__click=[uy,pe];var $t=y(st);v(st);var Tn=E(st,2);{var Jt=Mt=>{var Yt=dy();Pt(Yt,21,()=>m(pe).warnings,Vt,(po,mo)=>{Us(po,{kind:"warning",get subtitleError(){return m(mo)}})}),v(Yt),G(Mt,Yt)};re(Tn,Mt=>{m(pe).warningsVisible&&Mt(Jt)})}v(Ze),X(()=>H($t,`${m(pe).warningsVisible?"Ocultar advertencias":"Ver advertencias"}: ${m(pe).warnings.length??""}`)),G(Ue,Ze)};re(Xe,Ue=>{m(pe).warnings.length>0&&Ue(co)})}var fo=E(Xe,2);{var _n=Ue=>{Jw(Ue,{get promt(){return m(pe).promt}})};re(fo,Ue=>{m(pe).promt!=""&&Ue(_n)})}v(oe),X(Ue=>{It(ne,1,`name ${Ue??""} text-${m(pe).subsType??""}`,"svelte-qdaw34"),H(de,m(pe).fileName)},[()=>_(m(pe))]),G(T,oe)}),X(()=>{It(Ae,1,`counter ${m(r)==0?"has-text-success":"has-text-danger"}`,"svelte-qdaw34"),H(Te,`ERRORES: ${m(r)??""}`),It(mt,1,`counter ${m(l)==0?"has-text-success":"has-text-warning"}`,"svelte-qdaw34"),H(lt,`ADVERTENCIAS: ${m(l)??""}`)}),G(L,Q)};re(ue,L=>{!m(c)&&m(u).length>0&&L(_e)})}v(I);var xe=E(I,2);Ye(Fw(xe,{get options(){return m(d)},set options(L){w(d,L,!0)}}),L=>w(f,L,!0),()=>m(f)),X(()=>{H(M,n),H(N,`Modo ${m(d).userSubsMode??""}`),W.disabled=m(c)}),G(t,A),Ke()}nt(["click","change"]);var gy=Z('<div class="mt-2 mb-2 has-text-danger"> </div>'),vy=(t,e)=>e(),wy=()=>{},yy=Z('<section class="svelte-d7xahe"><h1> </h1> <!> <div class="field"><label class="label" for=""> </label> <div class="input-groups svelte-d7xahe"><div class="inputs svelte-d7xahe"><p class="control has-icons-left"><span class="icon is-small is-left has-text-black">X1:</span> <input class="input" type="number"/></p> <p class="control has-icons-left"><span class="icon is-small is-left has-text-black">Y1:</span> <input class="input" type="number"/></p></div> <div class="inputs svelte-d7xahe"><p class="control has-icons-left"><span class="icon is-small is-left has-text-black">X2:</span> <input class="input" type="number"/></p> <p class="control has-icons-left"><span class="icon is-small is-left has-text-black">Y2:</span> <input class="input" type="number"/></p></div></div></div> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea" readonly=""></textarea></div></div></section>');function _y(t,e){We(e,!0);const n=ge.aplicarTraslacion;let o=D(0),i=D(0),r=D(0),l=D(0),u=D(""),c=D(""),d=D("");Jo(()=>{f(m(o),m(i),m(r),m(l),m(u))});function f(z,ue,_e,xe,L){if(w(d,""),w(c,""),L.length==0)return;const Q=L.split(`
`);let ve="";for(let ye=0;ye<Q.length;ye++){const Ae=Q[ye];if(Ae.length==0)continue;const Te=Tt(Ae);if(Te==null){console.error(`line ${ye+1}: invalid line`);break}const Pe=Ne(Te.content),De=zt(Pe);if(De!=null){xo(Pe,je.pos);const lt=De.x+z,ut=De.y+ue;lr(Pe,lt,ut)}const Re=rr(Pe);if(Re!=null){xo(Pe,je.move);const lt=Re.x1+z,ut=Re.y1+ue,T=Re.x2+_e,pe=Re.y2+xe;ar(Pe,lt,ut,T,pe,Re.t1,Re.t2)}if(De==null&&Re==null){w(d,`Subtítulos, línea ${ye+1}, no se encontró \\pos ni \\move`);return}const Je=Ge(Pe);Te.content=Je;const mt=$e(Te);ye>0&&(ve+=`
`),ve+=mt}w(c,ve,!0)}async function p(){await navigator.clipboard.writeText(m(c)),alert("¡Líneas copiadas al portapapeles!")}function h(){w(o,-10),w(i,20);for(let z=1;z<=10;z++){const ue=182+z*5,_e=421+z*7;w(u,m(u)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(${ue},${_e})}LINEA ${z}
`)}}wt(()=>{h()});var g=yy();yt(z=>{X(()=>_t.title=n)});var _=y(g),b=y(_,!0);v(_);var C=E(_,2);{var A=z=>{var ue=gy(),_e=y(ue,!0);v(ue),X(()=>H(_e,m(d))),G(z,ue)};re(C,z=>{m(d)!=""&&z(A)})}var I=E(C,2),P=y(I),M=y(P);v(P);var x=E(P,2),S=y(x),R=y(S),q=E(y(R),2);Be(q),v(R);var N=E(R,2),V=E(y(N),2);Be(V),v(N),v(S);var U=E(S,2),B=y(U),K=E(y(B),2);Be(K),v(B);var j=E(B,2),J=E(y(j),2);Be(J),v(j),v(U),v(x),v(I);var Y=E(I,2),$=y(Y),fe=y($,!0);v($);var ae=E($,2),te=y(ae);ze(te),v(ae),v(Y);var me=E(Y,2),we=y(me),le=y(we),ie=E(le);ie.__click=[vy,p],ie.__keydown=[wy],v(we);var W=E(we,2),se=y(W);ze(se),v(W),v(me),v(g),X(()=>{H(b,n),H(M,`Traslación de (${`${m(o)??0},${m(i)??0},${m(r)??0},${m(l)??0}`})`),H(fe,ge.subtitulos),H(le,`${ge.resultado} `)}),Se(q,()=>m(o),z=>w(o,z)),Se(V,()=>m(i),z=>w(i,z)),Se(K,()=>m(r),z=>w(r,z)),Se(J,()=>m(l),z=>w(l,z)),Se(te,()=>m(u),z=>w(u,z)),Se(se,()=>m(c),z=>w(c,z)),G(t,g),Ke()}nt(["click","keydown"]);var Ty=Z('<div class="field"><label class="label" for=""> </label> <div class="control"><input class="input" type="text" readonly=""/></div></div>'),Cy=Z('<div class="field"><label class="label" for=""> </label> <div class="control"><input class="input" type="text" readonly=""/></div></div>'),Ey=Z("<tr><td> </td><td> </td><td> </td><td><!></td></tr>"),by=Z('<div class="file-section boxed svelte-1xik4jt"><div class="section-title svelte-1xik4jt">Script Info</div> <!></div> <div class="file-section boxed svelte-1xik4jt"><div class="section-title svelte-1xik4jt">Estilos</div> <!></div> <div class="file-section boxed svelte-1xik4jt"><div class="section-title svelte-1xik4jt">Subtítulos</div> <table class="table is-fullwidth is-narrow"><thead><tr><th>#</th><th>Inicio</th><th>Fin</th><th>Contenido</th></tr></thead><tbody></tbody></table></div>',1);function Ay(t,e){We(e,!0);let n=gl(()=>[...e.file.scriptInfo.properties.keys()]);var o=by(),i=Fe(o),r=E(y(i),2);Pt(r,17,()=>m(n),Vt,(p,h)=>{var g=Ty(),_=y(g),b=y(_,!0);v(_);var C=E(_,2),A=y(C);Be(A),v(C),v(g),X(I=>{H(b,m(h)),qn(A,I)},[()=>e.file.scriptInfo.properties.get(m(h))??""]),G(p,g)}),v(i);var l=E(i,2),u=E(y(l),2);Pt(u,17,()=>e.file.styles.styles,Vt,(p,h)=>{var g=Cy(),_=y(g),b=y(_,!0);v(_);var C=E(_,2),A=y(C);Be(A),v(C),v(g),X(I=>{H(b,m(h).name),qn(A,I)},[()=>Vl(m(h))]),G(p,g)}),v(l);var c=E(l,2),d=E(y(c),2),f=E(y(d));Pt(f,23,()=>e.file.events.lines,p=>new Date,(p,h,g)=>{var _=Ey(),b=y(_),C=y(b,!0);v(b);var A=E(b),I=y(A,!0);v(A);var P=E(A),M=y(P,!0);v(P);var x=E(P),S=y(x);Or(S,{kind:"readonly",rawMode:!1,hiddeOptions:!0,get text(){return m(h).content}}),v(x),v(_),X((R,q)=>{H(C,m(g)+1),H(I,R),H(M,q)},[()=>wi(m(h).start),()=>wi(m(h).end)]),G(p,_)}),v(f),v(d),v(c),G(t,o),Ke()}async function Sy(t,e,n,o){try{const i=[...m(e)?.files??[]];if(i.length==0)return;const r=i[0],l=await r.text(),u=pr(l);if(u==null){console.error("archivo inválido",r.name);return}w(n,u,!0),w(o,r.name,!0)}catch(i){console.error("error al procesa el archivo",i)}}var Iy=Z('<section class="editor-dialogos svelte-13jiwum"><h1> </h1> <button class="button mb-2 btn-example is-fullwidth svelte-13jiwum">Descargar subtítulos de ejemplo</button> <div class="file is-fullwidth mb-2 svelte-13jiwum"><label class="file-label"><input class="file-input" type="file" accept=".ass"/> <span class="file-cta svelte-13jiwum"><span class="file-icon"><i class="fas fa-upload"></i></span> <span class="file-label">Cargar subtítulos</span></span></label></div> <div class="loaded-file svelte-13jiwum"> </div> <!></section>');function xy(t,e){We(e,!0);const n=ge.visualizarDialogos;let o=D(void 0),i=D(un(fr())),r=D("ejemplo.ass");var l=Iy();yt(C=>{X(()=>_t.title=n)});var u=y(l),c=y(u,!0);v(u);var d=E(u,2);d.__click=function(...C){Ya?.apply(this,C)};var f=E(d,2),p=y(f),h=y(p);h.__change=[Sy,o,i,r],Ye(h,C=>w(o,C),()=>m(o)),kt(2),v(p),v(f);var g=E(f,2),_=y(g);v(g);var b=E(g,2);Ay(b,{get file(){return m(i)},set file(C){w(i,C,!0)}}),v(l),X(()=>{H(c,n),H(_,`Archivo cargado: ${m(r)??""}`)}),G(t,l),Ke()}nt(["click","change"]);var ky=Z('<div class="mt-2 mb-2 has-text-danger"> </div>'),Py=(t,e)=>e(),Ry=()=>{},My=Z('<section class="svelte-wpwor6"><h1> </h1> <!> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea" readonly=""></textarea></div></div></section>');function Ny(t,e){We(e,!0);const n=ge.emparejarSilabas;let o=D(""),i=D(""),r=D(""),l=D("");function u(U){return[je.kLowerCase,je.kUpperCase,je.kf,je.ko].includes(U.name)}function c(U){return U.findIndex(u)}function d(){if(w(o,""),w(l,""),m(r).length==0)return;const U=m(r).split(`
`);let B="";for(let K=0;K<U.length;K++){const j=U[K];if(j.length==0)continue;const J=Tt(j);if(J==null){w(o,`Subtítulos, línea ${K+1} inválida: '${j}'`);break}const Y=Ne(J.content);let $=[],fe=0;for(let te=0;te<Y.length;te++){const me=Y[te];if($.push(me),me.name==="text"){const le=me.value.trim();if(le===""&&fe%2!==0&&$.splice($.length-1,0,{name:"effect",tags:[{name:je.kLowerCase,value:0}]}),le!==""&&fe%2===0){const ie=$.pop(),W=$.pop();if(W!=null){if(W.name==="effect"){const se=c(W.tags);if(se>=0){const z=W.tags[se];z.value--,$.splice($.length-fe+2,0,{name:"effect",tags:[{name:je.kLowerCase,value:1}]})}}$.push(W)}ie!=null&&$.push(ie)}fe=0;continue}c(me.tags)>=0&&fe++}J.content=Ge($);const ae=$e(J);K>0&&(B+=`
`),B+=ae}w(l,B,!0)}async function f(){await navigator.clipboard.writeText(m(l)),alert("¡Líneas copiadas al portapapeles!")}wt(()=>{w(i,m(i)+"Comment: 0,0:22:54.98,0:22:59.90,Romaji,,0,0,0,karaoke,{\\k37}ne{\\k36}ga{\\k53}i{\\k19}{\\k24}bo{\\k43}shi {\\k40}ni {\\k36}na{\\k35}ru {\\k35}yo {\\k55}ki{\\k18}ra{\\k61}ri☆"),w(r,m(i),!0),d()});var p=My();yt(U=>{X(()=>_t.title=n)});var h=y(p),g=y(h,!0);v(h);var _=E(h,2);{var b=U=>{var B=ky(),K=y(B,!0);v(B),X(()=>H(K,m(o))),G(U,B)};re(_,U=>{m(o)!=""&&U(b)})}var C=E(_,2),A=y(C),I=y(A);v(A);var P=E(A,2),M=y(P);ze(M),M.__input=d,v(P),v(C);var x=E(C,2),S=y(x),R=y(S),q=E(R);q.__click=[Py,f],q.__keydown=[Ry],v(S);var N=E(S,2),V=y(N);ze(V),v(N),v(x),v(p),X(()=>{H(g,n),H(I,`${ge.subtitulos} (romaji)`),Ft(M,"placeholder",m(i)),H(R,`${ge.resultado} `)}),Se(M,()=>m(r),U=>w(r,U)),Se(V,()=>m(l),U=>w(l,U)),G(t,p),Ke()}nt(["input","click","keydown"]);var rt=Fl(()=>Kt);function Dy(t,e){We(e,!1),wt(()=>{const u=new URLSearchParams(location.search).get("pagina")??"",c=Ul.safeParse(u);c.success&&rt(rt().activePage=c.data)}),Os();var n=Qe(),o=Fe(n);{var i=l=>{Ql(l)},r=l=>{var u=Qe(),c=Fe(u);{var d=p=>{Kl(p,{})},f=p=>{var h=Qe(),g=Fe(h);{var _=C=>{vu(C,{})},b=C=>{var A=Qe(),I=Fe(A);{var P=x=>{lu(x,{})},M=x=>{var S=Qe(),R=Fe(S);{var q=V=>{fu(V,{})},N=V=>{var U=Qe(),B=Fe(U);{var K=J=>{_y(J,{})},j=J=>{var Y=Qe(),$=Fe(Y);{var fe=te=>{xy(te,{})},ae=te=>{var me=Qe(),we=Fe(me);{var le=W=>{hy(W,{})},ie=W=>{var se=Qe(),z=Fe(se);{var ue=xe=>{ku(xe,{})},_e=xe=>{var L=Qe(),Q=Fe(L);{var ve=Ae=>{Cu(Ae,{})},ye=Ae=>{var Te=Qe(),Pe=Fe(Te);{var De=Je=>{Ny(Je,{})},Re=Je=>{var mt=Qe(),lt=Fe(mt);{var ut=T=>{Xl(T,{})};re(lt,T=>{rt().activePage=="acercaDe"&&T(ut)},!0)}G(Je,mt)};re(Pe,Je=>{rt().activePage=="karaokes.emparejarSilabas"?Je(De):Je(Re,!1)},!0)}G(Ae,Te)};re(Q,Ae=>{rt().activePage=="karaokes.dividirSilabas"?Ae(ve):Ae(ye,!1)},!0)}G(xe,L)};re(z,xe=>{rt().activePage=="karaokes.dividirKaraoke"?xe(ue):xe(_e,!1)},!0)}G(W,se)};re(we,W=>{rt().activePage=="dialogos.validarDialogos"?W(le):W(ie,!1)},!0)}G(te,me)};re($,te=>{rt().activePage=="dialogos.visualizarDialogos"?te(fe):te(ae,!1)},!0)}G(J,Y)};re(B,J=>{rt().activePage=="carteles.aplicarTraslacion"?J(K):J(j,!1)},!0)}G(V,U)};re(R,V=>{rt().activePage=="carteles.aplicarColor"?V(q):V(N,!1)},!0)}G(x,S)};re(I,x=>{rt().activePage=="carteles.aplicarAlpha"?x(P):x(M,!1)},!0)}G(C,A)};re(g,C=>{rt().activePage=="carteles.aplicarSecuenciaPosiciones"?C(_):C(b,!1)},!0)}G(p,h)};re(c,p=>{rt().activePage=="carteles.copiarMovimiento"?p(d):p(f,!1)},!0)}G(l,u)};re(o,l=>{rt().activePage=="inicio"?l(i):l(r,!1)})}G(t,n),Ke()}var Ly=Z('<section class="svelte-1uha8ag"><!></section>');function $y(t){var e=Ly(),n=y(e);Dy(n,{}),v(e),G(t,e)}export{$y as component,Hy as universal};
