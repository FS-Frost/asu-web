import{d as Ae,t as te,e as Ie,s as ae,a as G,b as La,c as Se}from"../chunks/BZoBYqDv.js";import"../chunks/DCiR3Z3B.js";import{a9 as ga,aa as _a,ab as Ba,p as fa,M as na,H as He,ag as za,ae as Ma,I as Oa,G as ja,g as e,W as qa,K as Xa,L as ma,N as oa,R as Ue,am as Ga,O as Ta,P as Da,Q as Ya,av as Va,aq as Aa,v as Ka,Z as Ua,j as xa,aw as sa,y as Wa,ax as va,ay as Ja,az as ba,aA as ka,aB as Qa,ap as Za,aC as et,aD as at,aE as tt,ad as lt,aF as rt,b as Fa,x as Ra,w as $a,z as Ee,a as Ha,a7 as g,l as o,a6 as Fe,aG as Ne,D as d,F as _,E as u,B as ne,C as Ce,aH as aa,A as we,a8 as nt}from"../chunks/BqOE3ll0.js";import{p as Oe,i as ue}from"../chunks/CjZhNawS.js";import{i as ot,p as m,b as me}from"../chunks/EFfLdTpA.js";import{e as st,p as Pe,f as oe,h as it,i as qe,r as ct,T as $e,j as ut,k as fe,l as ve,t as re,m as je,n as xe,B as dt,c as ft,o as vt,b as ze,q as bt,u as ia,v as Te,w as ht,x as pt,y as gt,z as _t,A as mt,C as De,D as xt,E as kt,F as yt,G as wt,H as Et,I as Ct,J as St,s as ta,K as ya,L as wa,M as ca,N as Lt,O as Ea,P as Tt,a as Ca,Q as Dt}from"../chunks/BcnVWNyw.js";function Vt(a){var l=Ba,n=fa;ga(null),_a(null);try{return a()}finally{ga(l),_a(n)}}function ha(a,l,n,r=n){a.addEventListener(l,()=>Vt(n));const s=a.__on_r;s?a.__on_r=()=>{s(),r(!0)}:a.__on_r=()=>r(!0),st()}function Qe(a,l){return l}function At(a,l,n,r){for(var s=[],i=l.length,c=0;c<i;c++)Qa(l[c].e,s,!0);var f=i>0&&s.length===0&&n!==null;if(f){var x=n.parentNode;Za(x),x.append(n),r.clear(),Be(a,l[0].prev,l[i-1].next)}et(s,()=>{for(var E=0;E<i;E++){var v=l[E];f||(r.delete(v.k),Be(a,v.prev,v.next)),at(v.e,!f)}})}function Ze(a,l,n,r,s,i=null){var c=a,f={items:new Map,first:null},x=(l&Va)!==0;if(x){var E=a;c=He?na(za(E)):E.appendChild(Ma())}He&&Oa();var v=null,$=!1,h=qa(()=>{var D=n();return Ka(D)?D:D==null?[]:Aa(D)});ja(()=>{var D=e(h),p=D.length;if($&&p===0)return;$=p===0;let L=!1;if(He){var F=c.data===Xa;F!==(p===0)&&(c=ma(),na(c),oa(!1),L=!0)}if(He){for(var w=null,V,H=0;H<p;H++){if(Ue.nodeType===8&&Ue.data===Ga){c=Ue,L=!0,oa(!1);break}var k=D[H],y=r(k,H);V=Pa(Ue,f,w,null,k,y,H,s,l,n),f.items.set(y,V),w=V}p>0&&na(ma())}He||Ft(D,f,c,s,l,r,n),i!==null&&(p===0?v?Ta(v):v=Da(()=>i(c)):v!==null&&Ya(v,()=>{v=null})),L&&oa(!0),e(h)}),He&&(c=Ue)}function Ft(a,l,n,r,s,i,c){var C,R,j,N;var f=(s&Ja)!==0,x=(s&(ba|va))!==0,E=a.length,v=l.items,$=l.first,h=$,D,p=null,L,F=[],w=[],V,H,k,y;if(f)for(y=0;y<E;y+=1)V=a[y],H=i(V,y),k=v.get(H),k!==void 0&&((C=k.a)==null||C.measure(),(L??(L=new Set)).add(k));for(y=0;y<E;y+=1){if(V=a[y],H=i(V,y),k=v.get(H),k===void 0){var q=h?h.e.nodes_start:n;p=Pa(q,l,p,p===null?l.first:p.next,V,H,y,r,s,c),v.set(H,p),F=[],w=[],h=p.next;continue}if(x&&Rt(k,V,y,s),k.e.f&sa&&(Ta(k.e),f&&((R=k.a)==null||R.unfix(),(L??(L=new Set)).delete(k))),k!==h){if(D!==void 0&&D.has(k)){if(F.length<w.length){var Y=w[0],T;p=Y.prev;var B=F[0],S=F[F.length-1];for(T=0;T<F.length;T+=1)Sa(F[T],Y,n);for(T=0;T<w.length;T+=1)D.delete(w[T]);Be(l,B.prev,S.next),Be(l,p,B),Be(l,S,Y),h=Y,p=S,y-=1,F=[],w=[]}else D.delete(k),Sa(k,h,n),Be(l,k.prev,k.next),Be(l,k,p===null?l.first:p.next),Be(l,p,k),p=k;continue}for(F=[],w=[];h!==null&&h.k!==H;)h.e.f&sa||(D??(D=new Set)).add(h),w.push(h),h=h.next;if(h===null)continue;k=h}F.push(k),p=k,h=k.next}if(h!==null||D!==void 0){for(var A=D===void 0?[]:Aa(D);h!==null;)h.e.f&sa||A.push(h),h=h.next;var K=A.length;if(K>0){var Q=s&Va&&E===0?n:null;if(f){for(y=0;y<K;y+=1)(j=A[y].a)==null||j.measure();for(y=0;y<K;y+=1)(N=A[y].a)==null||N.fix()}At(l,A,Q,v)}}f&&Wa(()=>{var J;if(L!==void 0)for(k of L)(J=k.a)==null||J.apply()}),fa.first=l.first&&l.first.e,fa.last=p&&p.e}function Rt(a,l,n,r){r&ba&&ka(a.v,l),r&va?ka(a.i,n):a.i=n}function Pa(a,l,n,r,s,i,c,f,x,E){var v=(x&ba)!==0,$=(x&tt)===0,h=v?$?Ua(s):xa(s):s,D=x&va?xa(c):c,p={i:D,v:h,k:i,a:null,e:null,prev:n,next:r};try{return p.e=Da(()=>f(a,h,D,E),He),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?l.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function Sa(a,l,n){for(var r=a.next?a.next.e.nodes_start:n,s=l?l.e.nodes_start:n,i=a.e.nodes_start;i!==r;){var c=lt(i);s.before(i),i=c}}function Be(a,l,n){l===null?a.first=n:(l.next=n,l.e.next=n&&n.e),n!==null&&(n.prev=l,n.e.prev=l&&l.e)}function he(a,l,n=l){var r=rt();ha(a,"input",s=>{var i=s?a.defaultValue:a.value;if(i=ua(a)?da(i):i,n(i),r&&i!==(i=l())){var c=a.selectionStart,f=a.selectionEnd;a.value=i??"",f!==null&&(a.selectionStart=c,a.selectionEnd=Math.min(f,a.value.length))}}),(He&&a.defaultValue!==a.value||Fa(l)==null&&a.value)&&n(ua(a)?da(a.value):a.value),Ra(()=>{var s=l();ua(a)&&s===da(a.value)||a.type==="date"&&!s&&!a.value||s!==a.value&&(a.value=s??"")})}function pa(a,l,n=l){ha(a,"change",r=>{var s=r?a.defaultChecked:a.checked;n(s)}),(He&&a.defaultChecked!==a.checked||Fa(l)==null)&&n(a.checked),Ra(()=>{var r=l();a.checked=!!r})}function ua(a){var l=a.type;return l==="number"||l==="range"}function da(a){return a===""?null:+a}function Ia(a,l,n){if(a.multiple)return Pt(a,l);for(var r of a.options){var s=ea(r);if(ot(s,l)){r.selected=!0;return}}(!n||l!==void 0)&&(a.selectedIndex=-1)}function $t(a,l){$a(()=>{var n=new MutationObserver(()=>{var r=a.__value;Ia(a,r)});return n.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function Ht(a,l,n=l){var r=!0;ha(a,"change",s=>{var i=s?"[selected]":":checked",c;if(a.multiple)c=[].map.call(a.querySelectorAll(i),ea);else{var f=a.querySelector(i)??a.querySelector("option:not([disabled])");c=f&&ea(f)}n(c)}),$a(()=>{var s=l();if(Ia(a,s,r),r&&s===void 0){var i=a.querySelector(":checked");i!==null&&(s=ea(i),n(s))}a.__value=s,r=!1}),$t(a)}function Pt(a,l){for(var n of a.options)n.selected=~l.indexOf(ea(n))}function ea(a){return"__value"in a?a.__value:a.value}const It=!0,Ql=Object.freeze(Object.defineProperty({__proto__:null,prerender:It},Symbol.toStringTag,{value:"Module"}));var Nt=(a,l)=>l(),Bt=()=>{},zt=te('<section class="svelte-jzi2e1"><h1></h1> <div class="field"><label class="label" for="">Movimiento base</label> <div class="control"><input class="input" type="text" placeholder="\\move(10,20,30,40)"></div></div> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function Mt(a,l){Ee(l,!0);const n=re.copiarMovimiento;let r=g("Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\move(320,470,320,168,0,4963)}Urusai!"),s=g(""),i=g("");Ha(()=>{c(e(r),e(s))});function c(T,B){if(B.length==0)return;const S=B.split(`
`);console.log(S);const A=Pe(T);if(A==null){console.error("invalid base line",T);return}const K=oe(A.content),Q=it(K);if(Q==null){console.error("base move not found");return}const C=Q.x2-Q.x1,R=Q.y2-Q.y1;let j="";for(let N=0;N<S.length;N++){const J=S[N];if(J.length==0)continue;const z=Pe(J);if(z==null){console.error(`line ${N+1}: invalid line`);break}const M=oe(z.content),X=qe(M);if(X==null){console.error(`line ${N+1}: pos not found`);break}ct(M,$e.pos);const le=X.x,se=X.y,de=X.x+C,be=X.y+R;ut(M,le,se,de,be,Q.t1,Q.t2);const ee=fe(M);z.content=ee;const Z=ve(z);console.log(Z),N>0&&(j+=`
`),j+=Z}o(i,m(j))}async function f(){await navigator.clipboard.writeText(e(i)),alert("¡Líneas copiadas al portapapeles!")}Fe(()=>{for(let T=1;T<=10;T++){const B=182+T*5,S=421+T*7;o(s,e(s)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(${B},${S})}LINEA ${T}
`)}});var x=zt();Ie(T=>{Ne.title=n});var E=d(x);E.textContent=n;var v=_(E,2),$=_(d(v),2),h=d($);je(h),u($),u(v);var D=_(v,2),p=d(D),L=d(p,!0);u(p);var F=_(p,2),w=d(F);xe(w),u(F),u(D);var V=_(D,2),H=d(V),k=d(H),y=_(k);y.__click=[Nt,f],y.__keydown=[Bt],u(H);var q=_(H,2),Y=d(q);xe(Y),u(q),u(V),u(x),ne(()=>{ae(L,re.subtitulos),ae(k,`${re.resultado} `)}),he(h,()=>e(r),T=>o(r,T)),he(w,()=>e(s),T=>o(s,T)),he(Y,()=>e(i),T=>o(i,T)),G(a,x),Ce()}Ae(["click","keydown"]);var Ot=te(`<div class="text-column"><h1></h1> <span class="version svelte-1ghhrj6"><a target="_blank"> </a></span> <div class="kagamin svelte-1ghhrj6"><img src="img/kagamin.gif" alt="Lucky Star" title="Lucky Star" class="svelte-1ghhrj6"></div> <p class="mt-2">Asu es una herramienta para automatizar el procesamiento de subtítulos
        en formato SubStation Alpha Subtitles (SSA/ASS).</p> <hr class="svelte-1ghhrj6"> <p>Asu versión web, de <a href="https://github.com/FS-Frost" target="_blank">[FS] Frost</a> para <a href="http://syncrajo.net/" target="_blank">SyncRajo Fansub</a>.</p> <p class="mt-2">Agradecimientos por su ayuda a:</p> <ul><li>- <b>[EC] DarkAngel</b>: por desarrollar <b>SyncRajoEndline</b> y por
            la idea de separar sílabas en karaokes.</li> <li>- <b>[GX] Gonxas</b>: por el hardcore testing y el script para crear
            archivos AVS.</li> <li>- <b>[Sr] Hell</b>: por proveer un servicio de host.</li></ul> <p class="mt-2"><b>Visítanos en <a href="http://syncrajo.net/" target="_blank">http://syncrajo.net</a></b></p> <hr class="svelte-1ghhrj6"> <p>Versiones de Asu:</p> <ul><li><a href="https://github.com/FS-Frost/Asu.Utilidades" target="_blank">- (2014) Asu para .NET/C#</a></li> <li><a href="https://github.com/FS-Frost/asu-go2js" target="_blank">- (2022) Asu para Go y JavaScript</a></li> <li><a href="https://github.com/FS-Frost/asu-regex-js" target="_blank">- (2024) Asu para TypeScript</a></li></ul></div>`);function jt(a,l){Ee(l,!0);const n=re.acercaDe;let r=g(m(dt.parse({})));Fe(async()=>{ft.subscribe(E=>{E!=null&&o(r,m(E))})});var s=Ot();Ie(E=>{Ne.title=n});var i=d(s);i.textContent=n;var c=_(i,2),f=d(c),x=d(f);u(f),u(c),aa(20),u(s),ne((E,v)=>{ze(f,"href",E),ae(x,`Versión ${e(r).ref??""}.${v??""} deplegada por
            ${e(r).actor??""}`)},[()=>vt(e(r)),()=>e(r).sha.substring(0,7)]),G(a,s),Ce()}var qt=te('<img class="wallpaper svelte-1ic3zkr" src="img/hyouka.jpg" alt="Hyouka" title="Hyouka">');function Xt(a){var l=qt();Ie(n=>{Ne.title="Asu"}),G(a,l)}var Gt=(a,l)=>l(),Yt=te("<b> </b>"),Kt=te('<div class="field alpha-box svelte-9wq0vr"><div class="svelte-9wq0vr"><label class="checkbox"><input type="checkbox"> <!></label></div> <div class="alpha-inputs svelte-9wq0vr"><div class="alpha-value svelte-9wq0vr"><label class="label" for="">Valor inicial</label> <div class="control"><input class="input" type="text"></div></div> <div class="alpha-value svelte-9wq0vr"><label class="label" for="">Valor Final</label> <div class="control"><input class="input" type="text"></div></div></div></div>');function Ve(a,l){Ee(l,!0);let n=Oe(l,"label",3,""),r=Oe(l,"disabled",15,!1),s=Oe(l,"startValue",15,""),i=Oe(l,"endValue",15,""),c=Oe(l,"startPlaceholder",3,""),f=Oe(l,"endPlaceholder",3,""),x=g(void 0);function E(){var S;if((S=e(x))!=null&&S.checked){v();return}$()}function v(){r()&&(r(!1),e(x)&&(e(x).checked=!0),l.onEnabled&&l.onEnabled())}function $(){r()||(r(!0),e(x)&&(e(x).checked=!1),l.onDisabled&&l.onDisabled())}Fe(()=>{e(x)&&(e(x).checked=!r())});var h=Kt(),D=d(h),p=d(D),L=d(p);L.__change=[Gt,E],me(L,S=>o(x,S),()=>e(x));var F=_(L,2);{var w=S=>{var A=La();ne(()=>ae(A,`${n()??""}
                (deshabilitado)`)),G(S,A)},V=S=>{var A=Yt(),K=d(A,!0);u(A),ne(()=>ae(K,n())),G(S,A)};ue(F,S=>{r()?S(w):S(V,!1)})}u(p),u(D);var H=_(D,2),k=d(H),y=_(d(k),2),q=d(y);je(q),u(y),u(k);var Y=_(k,2),T=_(d(Y),2),B=d(T);return je(B),u(T),u(Y),u(H),u(h),ne(()=>{ze(q,"placeholder",c()),q.disabled=r(),ze(B,"placeholder",f()),B.disabled=r()}),he(q,s),he(B,i),G(a,h),Ce({enable:v,disable:$})}Ae(["change"]);function We(a,l){const n=[];for(let r=a;r<=l;r++){const s=bt(r);n.push(s)}return n}function Je(a,l,n){const r=Array(n),s=ia(a.blue,l.blue,n);if(s.length!==n)return console.error(`ERROR: blue interpolated values ${s.length} don't match intervals ${n}`),[];const i=ia(a.green,l.green,n);if(i.length!==n)return console.error(`ERROR: green interpolated values ${i.length} don't match intervals ${n}`),[];const c=ia(a.red,l.red,n);if(c.length!==n)return console.error(`ERROR: red interpolated values ${c.length} don't match intervals ${n}`),[];for(var f=0;f<n;f++){const x=Math.floor(s[f]),E=Math.floor(i[f]),v=Math.floor(c[f]);r[f]={blue:x,green:E,red:v}}return r}var Ut=(a,l)=>l(),Wt=()=>{},Jt=te('<i class="fa-solid fa-copy clickable" role="button" tabindex="0"></i>');function Na(a,l){Ee(l,!0);async function n(){await navigator.clipboard.writeText(l.rawResultLines),alert(re.lineasCopiadas)}var r=Jt();r.__click=[Ut,n],r.__keydown=[Wt],ne(()=>ze(r,"title",re.copiar)),G(a,r),Ce()}Ae(["click","keydown"]);var Qt=(a,l)=>l(),Zt=te('<section class="svelte-do1mnp"><h1></h1> <label class="label" for="">Configuración alpha</label> <!> <!> <!> <!> <!> <label class="checkbox reverse svelte-do1mnp"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function el(a,l){Ee(l,!0);const n=re.aplicarAlpha,r="0",s="FF";let i=g(""),c=g(""),f=g("0"),x=g("FF"),E=g("0"),v=g("FF"),$=g("0"),h=g("FF"),D=g("0"),p=g("FF"),L=g("0"),F=g("FF"),w=g(!1),V=g(!0),H=g(!0),k=g(!0),y=g(!0),q=g(void 0),Y=g(void 0),T=g(void 0),B=g(void 0),S=g(void 0),A=g(!1);function K(){var t,pe,P,I;(t=e(Y))==null||t.disable(),(pe=e(T))==null||pe.disable(),(P=e(B))==null||P.disable(),(I=e(S))==null||I.disable()}function Q(){var t,pe,P,I;e(V)&&e(H)&&e(k)&&e(y)&&((t=e(Y))==null||t.enable(),(pe=e(T))==null||pe.disable(),(P=e(B))==null||P.disable(),(I=e(S))==null||I.disable())}function C(){var t;(t=e(q))==null||t.disable()}function R(){var t;e(V)&&e(H)&&e(k)&&e(y)&&((t=e(q))==null||t.enable())}function j(){const t=[],pe=e(i).split(`
`);for(const P of pe){if(P.length==0)continue;const I=Pe(P);I!=null&&t.push(I)}if(!e(w)){const P=Te(e(f)),I=Te(e(x));if(P>=I){alert("El inicio de alpha total debe ser menor al fin.");return}if(P<0){alert("El inicio de alpha total debe ser mayor o igual a 00 (0).");return}if(I>255){alert("El fin de alpha total debe ser menor o igual a FF (255).");return}const O=We(P,I);e(A)&&O.reverse();let U="";for(let b=0;b<t.length;b++){let W=Math.floor(O.length*b/t.length);W>=O.length&&(W=O.length-1);const ce=`&H${O[W]}&`,ge=oe(t[b].content);ht(ge,ce),t[b].content=fe(ge);const Re=ve(t[b]);b>0&&(U+=`
`),U+=Re}o(c,m(U));return}if(!e(V)){const P=Te(e(E)),I=Te(e(v));if(P>=I){alert("El inicio de alpha 1 debe ser menor al fin.");return}if(P<0){alert("El inicio de alpha 1 debe ser mayor o igual a 00 (0).");return}if(I>255){alert("El fin de alpha 1 debe ser menor o igual a FF (255).");return}const O=We(P,I);e(A)&&O.reverse();let U="";for(let b=0;b<t.length;b++){let W=Math.floor(O.length*b/t.length);W>=O.length&&(W=O.length-1);const ce=`&H${O[W]}&`,ge=oe(t[b].content);pt(ge,ce),t[b].content=fe(ge);const Re=ve(t[b]);b>0&&(U+=`
`),U+=Re}o(c,m(U))}if(!e(H)){const P=Te(e($)),I=Te(e(h));if(P>=I){alert("El inicio de alpha 2 debe ser menor al fin.");return}if(P<0){alert("El inicio de alpha 2 debe ser mayor o igual a 00 (0).");return}if(I>255){alert("El fin de alpha 2 debe ser menor o igual a FF (255).");return}const O=We(P,I);e(A)&&O.reverse();let U="";for(let b=0;b<t.length;b++){let W=Math.floor(O.length*b/t.length);W>=O.length&&(W=O.length-1);const ce=`&H${O[W]}&`,ge=oe(t[b].content);gt(ge,ce),t[b].content=fe(ge);const Re=ve(t[b]);b>0&&(U+=`
`),U+=Re}o(c,m(U))}if(!e(k)){const P=Te(e(D)),I=Te(e(p));if(P>=I){alert("El inicio de alpha 3 debe ser menor al fin.");return}if(P<0){alert("El inicio de alpha 3 debe ser mayor o igual a 00 (0).");return}if(I>255){alert("El fin de alpha 3 debe ser menor o igual a FF (255).");return}const O=We(P,I);e(A)&&O.reverse();let U="";for(let b=0;b<t.length;b++){let W=Math.floor(O.length*b/t.length);W>=O.length&&(W=O.length-1);const ce=`&H${O[W]}&`,ge=oe(t[b].content);_t(ge,ce),t[b].content=fe(ge);const Re=ve(t[b]);b>0&&(U+=`
`),U+=Re}o(c,m(U))}if(!e(y)){const P=Te(e(L)),I=Te(e(F));if(P>=I){alert("El inicio de alpha 4 debe ser menor al fin.");return}if(P<0){alert("El inicio de alpha 4 debe ser mayor o igual a 00 (0).");return}if(I>255){alert("El fin de alpha 4 debe ser menor o igual a FF (255).");return}const O=We(P,I);e(A)&&O.reverse();let U="";for(let b=0;b<t.length;b++){let W=Math.floor(O.length*b/t.length);W>=O.length&&(W=O.length-1);const ce=`&H${O[W]}&`,ge=oe(t[b].content);mt(ge,ce),t[b].content=fe(ge);const Re=ve(t[b]);b>0&&(U+=`
`),U+=Re}o(c,m(U))}}Fe(()=>{for(let t=1;t<=10;t++)o(i,e(i)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(182,421)}LINEA ${t}
`)});var N=Zt();Ie(t=>{Ne.title=n});var J=d(N);J.textContent=n;var z=_(J,4);me(Ve(z,{label:"Alpha total",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>K(),onDisabled:()=>Q(),get startValue(){return e(f)},set startValue(t){o(f,m(t))},get endValue(){return e(x)},set endValue(t){o(x,m(t))},get disabled(){return e(w)},set disabled(t){o(w,m(t))}}),t=>o(q,m(t)),()=>e(q));var M=_(z,2);me(Ve(M,{label:"Alpha 1",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>C(),onDisabled:()=>R(),get startValue(){return e(E)},set startValue(t){o(E,m(t))},get endValue(){return e(v)},set endValue(t){o(v,m(t))},get disabled(){return e(V)},set disabled(t){o(V,m(t))}}),t=>o(Y,m(t)),()=>e(Y));var X=_(M,2);me(Ve(X,{label:"Alpha 2",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>C(),onDisabled:()=>R(),get startValue(){return e($)},set startValue(t){o($,m(t))},get endValue(){return e(h)},set endValue(t){o(h,m(t))},get disabled(){return e(H)},set disabled(t){o(H,m(t))}}),t=>o(T,m(t)),()=>e(T));var le=_(X,2);me(Ve(le,{label:"Alpha 3",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>C(),onDisabled:()=>R(),get startValue(){return e(D)},set startValue(t){o(D,m(t))},get endValue(){return e(p)},set endValue(t){o(p,m(t))},get disabled(){return e(k)},set disabled(t){o(k,m(t))}}),t=>o(B,m(t)),()=>e(B));var se=_(le,2);me(Ve(se,{label:"Alpha 4",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>C(),onDisabled:()=>R(),get startValue(){return e(L)},set startValue(t){o(L,m(t))},get endValue(){return e(F)},set endValue(t){o(F,m(t))},get disabled(){return e(y)},set disabled(t){o(y,m(t))}}),t=>o(S,m(t)),()=>e(S));var de=_(se,2),be=d(de);je(be),aa(),u(de);var ee=_(de,2),Z=d(ee),_e=d(Z,!0);u(Z);var Le=_(Z,2),ke=d(Le);xe(ke),u(Le),u(ee);var ye=_(ee,2);ye.__click=[Qt,j];var la=d(ye,!0);u(ye);var Xe=_(ye,2),Me=d(Xe),Ge=d(Me),ra=_(Ge);Na(ra,{get rawResultLines(){return e(c)}}),u(Me);var Ye=_(Me,2),Ke=d(Ye);xe(Ke),u(Ye),u(Xe),u(N),ne(()=>{ae(_e,re.subtitulos),ae(la,re.aplicarAlpha),ae(Ge,`${re.resultado} `)}),pa(be,()=>e(A),t=>o(A,t)),he(ke,()=>e(i),t=>o(i,t)),he(Ke,()=>e(c),t=>o(c,t)),G(a,N),Ce()}Ae(["click"]);var al=(a,l)=>l(),tl=te('<section class="svelte-do1mnp"><h1></h1> <label class="label" for="">Configuración de color</label> <!> <!> <!> <!> <!> <label class="checkbox reverse svelte-do1mnp"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function ll(a,l){Ee(l,!0);const n=re.aplicarColor,r="&HFFFFFF&",s="&H000000&";let i=g(""),c=g(""),f=g(r),x=g(s),E=g(r),v=g(s),$=g(r),h=g(s),D=g(r),p=g(s),L=g(r),F=g(s),w=g(!1),V=g(!0),H=g(!0),k=g(!0),y=g(!0),q=g(void 0),Y=g(void 0),T=g(void 0),B=g(void 0),S=g(void 0),A=g(!1);function K(){var t,pe,P,I;(t=e(Y))==null||t.disable(),(pe=e(T))==null||pe.disable(),(P=e(B))==null||P.disable(),(I=e(S))==null||I.disable()}function Q(){var t,pe,P,I;e(V)&&e(H)&&e(k)&&e(y)&&((t=e(Y))==null||t.enable(),(pe=e(T))==null||pe.disable(),(P=e(B))==null||P.disable(),(I=e(S))==null||I.disable())}function C(){var t;(t=e(q))==null||t.disable()}function R(){var t;e(V)&&e(H)&&e(k)&&e(y)&&((t=e(q))==null||t.enable())}function j(){const t=[],pe=e(i).split(`
`);for(const P of pe){if(P.length==0)continue;const I=Pe(P);I!=null&&t.push(I)}if(!e(w)){const P=De(e(f));if(P==null){alert(`Color total de inicio inválido: ${e(f)}`);return}const I=De(e(x));if(I==null){alert(`Color total de fin inválido: ${e(x)}`);return}const O=Je(P,I,t.length);e(A)&&O.reverse();let U="";for(let b=0;b<t.length;b++){const W=O[b],ie=oe(t[b].content);xt(ie,W.blue,W.green,W.red),t[b].content=fe(ie);const ce=ve(t[b]);b>0&&(U+=`
`),U+=ce}o(c,m(U));return}if(!e(V)){const P=De(e(E));if(P==null){alert(`Color 1 de inicio inválido: ${e(E)}`);return}const I=De(e(v));if(I==null){alert(`Color 1 de fin inválido: ${e(v)}`);return}const O=Je(P,I,t.length);e(A)&&O.reverse();let U="";for(let b=0;b<t.length;b++){const W=O[b],ie=oe(t[b].content);kt(ie,W.blue,W.green,W.red),t[b].content=fe(ie);const ce=ve(t[b]);b>0&&(U+=`
`),U+=ce}o(c,m(U))}if(!e(H)){const P=De(e($));if(P==null){alert(`Color 2 de inicio inválido: ${e($)}`);return}const I=De(e(h));if(I==null){alert(`Color 2 de fin inválido: ${e(h)}`);return}const O=Je(P,I,t.length);e(A)&&O.reverse();let U="";for(let b=0;b<t.length;b++){const W=O[b],ie=oe(t[b].content);yt(ie,W.blue,W.green,W.red),t[b].content=fe(ie);const ce=ve(t[b]);b>0&&(U+=`
`),U+=ce}o(c,m(U))}if(!e(k)){const P=De(e(D));if(P==null){alert(`Color 3 de inicio inválido: ${e(D)}`);return}const I=De(e(p));if(I==null){alert(`Color 3 de fin inválido: ${e(p)}`);return}const O=Je(P,I,t.length);e(A)&&O.reverse();let U="";for(let b=0;b<t.length;b++){const W=O[b],ie=oe(t[b].content);wt(ie,W.blue,W.green,W.red),t[b].content=fe(ie);const ce=ve(t[b]);b>0&&(U+=`
`),U+=ce}o(c,m(U))}if(!e(y)){const P=De(e(L));if(P==null){alert(`Color 4 de inicio inválido: ${e(L)}`);return}const I=De(e(F));if(I==null){alert(`Color 4 de fin inválido: ${e(F)}`);return}const O=Je(P,I,t.length);e(A)&&O.reverse();let U="";for(let b=0;b<t.length;b++){const W=O[b],ie=oe(t[b].content);Et(ie,W.blue,W.green,W.red),t[b].content=fe(ie);const ce=ve(t[b]);b>0&&(U+=`
`),U+=ce}o(c,m(U))}}Fe(()=>{o(i,e(i)+`Dialogue: 0,0:00:00.00,0:00:00.02,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.02,0:00:00.06,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.06,0:00:00.10,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.10,0:00:00.14,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.14,0:00:00.18,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.18,0:00:00.23,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.23,0:00:00.27,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.27,0:00:00.31,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+"Dialogue: 0,0:00:00.31,0:00:00.35,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO")});var N=tl();Ie(t=>{Ne.title=n});var J=d(N);J.textContent=n;var z=_(J,4);me(Ve(z,{label:"Color total",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>K(),onDisabled:()=>Q(),get startValue(){return e(f)},set startValue(t){o(f,m(t))},get endValue(){return e(x)},set endValue(t){o(x,m(t))},get disabled(){return e(w)},set disabled(t){o(w,m(t))}}),t=>o(q,m(t)),()=>e(q));var M=_(z,2);me(Ve(M,{label:"Color 1",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>C(),onDisabled:()=>R(),get startValue(){return e(E)},set startValue(t){o(E,m(t))},get endValue(){return e(v)},set endValue(t){o(v,m(t))},get disabled(){return e(V)},set disabled(t){o(V,m(t))}}),t=>o(Y,m(t)),()=>e(Y));var X=_(M,2);me(Ve(X,{label:"Color 2",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>C(),onDisabled:()=>R(),get startValue(){return e($)},set startValue(t){o($,m(t))},get endValue(){return e(h)},set endValue(t){o(h,m(t))},get disabled(){return e(H)},set disabled(t){o(H,m(t))}}),t=>o(T,m(t)),()=>e(T));var le=_(X,2);me(Ve(le,{label:"Color 3",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>C(),onDisabled:()=>R(),get startValue(){return e(D)},set startValue(t){o(D,m(t))},get endValue(){return e(p)},set endValue(t){o(p,m(t))},get disabled(){return e(k)},set disabled(t){o(k,m(t))}}),t=>o(B,m(t)),()=>e(B));var se=_(le,2);me(Ve(se,{label:"Color 4",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>C(),onDisabled:()=>R(),get startValue(){return e(L)},set startValue(t){o(L,m(t))},get endValue(){return e(F)},set endValue(t){o(F,m(t))},get disabled(){return e(y)},set disabled(t){o(y,m(t))}}),t=>o(S,m(t)),()=>e(S));var de=_(se,2),be=d(de);je(be),aa(),u(de);var ee=_(de,2),Z=d(ee),_e=d(Z,!0);u(Z);var Le=_(Z,2),ke=d(Le);xe(ke),u(Le),u(ee);var ye=_(ee,2);ye.__click=[al,j];var la=d(ye,!0);u(ye);var Xe=_(ye,2),Me=d(Xe),Ge=d(Me),ra=_(Ge);Na(ra,{get rawResultLines(){return e(c)}}),u(Me);var Ye=_(Me,2),Ke=d(Ye);xe(Ke),u(Ye),u(Xe),u(N),ne(()=>{ae(_e,re.subtitulos),ae(la,re.aplicarColor),ae(Ge,`${re.resultado} `)}),pa(be,()=>e(A),t=>o(A,t)),he(ke,()=>e(i),t=>o(i,t)),he(Ke,()=>e(c),t=>o(c,t)),G(a,N),Ce()}Ae(["click"]);var rl=(a,l)=>l(),nl=()=>{},ol=te('<section class="svelte-jzi2e1"><h1></h1> <div class="field"><label class="label" for="">Secuencia de posiciones</label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <label class="checkbox reverse"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function sl(a,l){Ee(l,!0);const n=re.aplicarSecuenciaPosiciones;let r=g(""),s=g(""),i=g(""),c=g(!1);Ha(()=>{f(e(r),e(s),e(c))});function f(K,Q,C){if(Q.length==0)return;const R=[];{const J=K.split(`
`);for(const z of J){if(z.length==0)continue;const M=Pe(z);if(M==null)continue;const X=oe(M.content);if(qe(X)==null){alert(`Línea base sin \\pos copiada: '${z}'`),console.log(z);return}R.push(M)}}const j=[];{const J=Q.split(`
`);for(const z of J){if(z.length==0)continue;const M=Pe(z);if(M==null)continue;const X=oe(M.content);if(qe(X)==null){alert(`Línea objetivo sin \\pos: '${z}'`),console.log(z);return}j.push(M)}}let N="";for(let J=0;J<j.length;J++){const z=j[J],M=oe(z.content),X=qe(M);if(X==null){const ee=ve(z);alert(`Línea objetivo sin \\pos: '${ee}'`),console.log(ee);return}let le=X.x,se=X.y;C&&R.reverse();const de=x(R),be=[];for(let ee=0;ee<R.length;ee++){const Z=de[ee][0],_e=de[ee][1],Le=le+Z,ke=se+_e;le=Le,se=ke,Ct(M,Le,ke),z.content=fe(M);const ye=R[ee];z.start=ye.start,z.end=ye.end,be.push(structuredClone(z))}C&&(R.reverse(),be.reverse());for(const ee of be)N+=ve(ee)+`
`}o(i,m(N))}function x(K){const C=[[0,0]];for(let R=0;R<K.length-1;R++){const j=K[R],N=K[R+1],J=oe(j.content),z=qe(J);if(z==null)return alert(`Línea base sin \\pos: '${ve(j)}'`),console.log(j),[];const M=oe(N.content),X=qe(M);if(X==null)return alert(`Línea base sin \\pos: '${ve(N)}'`),console.log(N),[];const le=X.x-z.x,se=X.y-z.y;C.push([le,se])}return C}async function E(){await navigator.clipboard.writeText(e(i)),alert("¡Líneas copiadas al portapapeles!")}Fe(()=>{o(r,e(r)+`Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.6,593.8)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.08,0:23:58.12,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.55,589.69)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.12,0:23:58.16,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.56,585.4)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.16,0:23:58.20,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.41,581.09)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.20,0:23:58.24,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.31,576.78)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.24,0:23:58.29,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.22,572.39)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.29,0:23:58.33,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.06,568.18)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.33,0:23:58.37,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.13,563.34)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.37,0:23:58.41,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.99,558.77)}Tama:
`),o(r,e(r)+"Dialogue: 1,0:23:58.41,0:23:58.45,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.96,554.13)}Tama:"),o(s,"Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(1039.6,593.8)}LINEA")});var v=ol();Ie(K=>{Ne.title=n});var $=d(v);$.textContent=n;var h=_($,2),D=_(d(h),2),p=d(D);xe(p),u(D),u(h);var L=_(h,2),F=d(L);je(F),aa(),u(L);var w=_(L,2),V=d(w),H=d(V,!0);u(V);var k=_(V,2),y=d(k);xe(y),u(k),u(w);var q=_(w,2),Y=d(q),T=d(Y),B=_(T);B.__click=[rl,E],B.__keydown=[nl],u(Y);var S=_(Y,2),A=d(S);xe(A),u(S),u(q),u(v),ne(()=>{ae(H,re.subtitulos),ae(T,`${re.resultado} `)}),he(p,()=>e(r),K=>o(r,K)),pa(F,()=>e(c),K=>o(c,K)),he(y,()=>e(s),K=>o(s,K)),he(A,()=>e(i),K=>o(i,K)),G(a,v),Ce()}Ae(["click","keydown"]);var il=(a,l)=>l(),cl=()=>{},ul=te('<section class="svelte-jzi2e1"><h1></h1> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function dl(a,l){Ee(l,!0);const n=re.dividirSilabas;let r=g(""),s=g(""),i=g("");function c(){if(e(s).length==0)return;const y=e(s).split(`
`);let q="";for(let Y=0;Y<y.length;Y++){const T=y[Y];if(T.length==0)continue;const B=Pe(T);if(B==null){console.error(`line ${Y+1}: invalid line`);break}St(B);const S=ve(B);Y>0&&(q+=`
`),q+=S}o(i,m(q))}async function f(){await navigator.clipboard.writeText(e(i)),alert("¡Líneas copiadas al portapapeles!")}Fe(()=>{o(r,e(r)+`Comment: 0,0:01:15.11,0:01:17.74,Romaji,,0,0,0,karaoke,dareka wo mamoreru watashi ni natte
`),o(r,e(r)+`Comment: 0,0:01:17.85,0:01:20.44,Romaji,,0,0,0,karaoke,mune wo hatte itsuka omoerun da
`),o(r,e(r)+`Comment: 0,0:01:20.58,0:01:30.42,Romaji,,0,0,0,karaoke,ano hi kimi ni deaete yokatta
`),o(s,m(e(r))),c()});var x=ul();Ie(y=>{Ne.title=n});var E=d(x);E.textContent=n;var v=_(E,2),$=d(v),h=d($);u($);var D=_($,2),p=d(D);xe(p),p.__input=c,u(D),u(v);var L=_(v,2),F=d(L),w=d(F),V=_(w);V.__click=[il,f],V.__keydown=[cl],u(F);var H=_(F,2),k=d(H);xe(k),u(H),u(L),u(x),ne(()=>{ae(h,`${re.subtitulos} (romaji)`),ze(p,"placeholder",e(r)),ae(w,`${re.resultado} `)}),he(p,()=>e(s),y=>o(s,y)),he(k,()=>e(i),y=>o(i,y)),G(a,x),Ce()}Ae(["input","click","keydown"]);var fl=te('<p class="error svelte-tm085k"> </p>'),vl=te("<button> </button>"),bl=te('<p class="preview"> <b> </b></p>'),hl=(a,l)=>l(),pl=()=>{},gl=te('<section class="svelte-tm085k"><h1></h1> <div class="field"><label class="label" for="">Karaoke</label> <div class="control"><input class="input" type="text"></div></div> <!> <div class="mb-2"><label class="label mt-2" for="">Sílaba divisoria</label> <div class="buttons"></div></div> <div class="field"><label class="label" for="">Vista previa</label> <!></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function _l(a,l){Ee(l,!0);const n=re.dividirKaraoke,r="Comment: 0,0:02:44.95,0:02:50.57,Romaji C,,0,0,0,karaoke,{\\kf32}ko{\\kf34}no {\\kf32}de{\\kf32}a{\\kf18}i {\\kf49}ga{\\kf31}{\\k0} {\\kf37}mi{\\kf31}n{\\kf34}na {\\kf19}wo {\\kf31}ka{\\kf34}e{\\kf63}ru {\\kf52}ka{\\kf33}na";let s=g(r),i=g(m([])),c=g(""),f=g(m([])),x=g(0),E=g("");function v(){const C=Pe(e(s));if(C==null)return;const R=oe(C.content);ya(R);const j=0;let N=e(f)[e(x)].index+1,J=0;for(let Z=0;Z<=e(x);Z++){const _e=e(f)[Z];_e.centiseconds!=null&&(J+=_e.centiseconds)}const z=wa(C.start),M=wa(C.end),X=R.slice(j,N);C.content=fe(X);const le=J/100;C.end=ca(z+le),o(c,m(ve(C)));let se=!0,de=0;for(;se;){const Z=R[N+1];if((Z==null?void 0:Z.name)!="text"){se=!1;break}if(se=Z.value.replaceAll(" ","").length===0,se&&(N+=2,de++),de>e(f).length)break}let be=0;for(let Z=e(x)+1+de;Z<e(f).length;Z++){const _e=e(f)[Z];_e.centiseconds!=null&&(be+=_e.centiseconds)}const ee=R.slice(N);C.end=ca(M),C.start=ca(M-be/100),C.content=fe(ee),o(c,e(c)+(`
`+ve(C))),o(i,m([fe(X.filter(Z=>Z.name=="text")),fe(ee.filter(Z=>Z.name=="text"))]))}async function $(){await navigator.clipboard.writeText(e(c)),alert("¡Líneas copiadas al portapapeles!")}function h(){o(i,m([])),o(c,""),o(f,m([])),o(x,0),o(E,"");const C=Pe(e(s));if(C==null)return o(E,`Línea de karaoke inválida. Se esperaba el formato: <${r}>.`),[];const R=oe(C.content);ya(R);for(let j=0;j<R.length;j++){const N=R[j];if(N.name!="text")continue;e(f).push({index:j,text:N.value.replaceAll(" ",""),centiseconds:null});const J=j-1;if(J<0)continue;const z=R[J];if(z.name!="effect")continue;const M=z.tags.find(le=>le.name===$e.kLowerCase||le.name===$e.kUpperCase||le.name===$e.kf||le.name===$e.ko);M==null||!(M.name===$e.kLowerCase||M.name===$e.kUpperCase||M.name===$e.kf||M.name===$e.ko)||(e(f)[e(f).length-1].centiseconds=M.value)}return o(x,m(Math.floor(e(f).length/2))),v(),e(f)}Fe(()=>{h()});var D=gl();Ie(C=>{Ne.title=n});var p=d(D);p.textContent=n;var L=_(p,2),F=_(d(L),2),w=d(F);je(w),ze(w,"placeholder",r),w.__input=h,u(F),u(L);var V=_(L,2);{var H=C=>{var R=fl(),j=d(R,!0);u(R),ne(()=>ae(j,e(E))),G(C,R)};ue(V,C=>{e(E)!=""&&C(H)})}var k=_(V,2),y=_(d(k),2);Ze(y,21,()=>e(f),Qe,(C,R,j)=>{var N=Se(),J=we(N);{var z=M=>{var X=vl();X.__click=()=>{o(x,m(j)),v()};var le=d(X,!0);u(X),ne(()=>{ta(X,`button ${(j===e(x)?"is-link":"")??""}`),ze(X,"title",`${e(R).text}: ${e(R).centiseconds} centésimas`),ae(le,e(R).text)}),G(M,X)};ue(J,M=>{e(R).text.replaceAll(" ","").length>0&&M(z)})}G(C,N)}),u(y),u(k);var q=_(k,2),Y=_(d(q),2);Ze(Y,17,()=>e(i),Qe,(C,R,j)=>{var N=bl(),J=d(N);J.nodeValue=`Línea ${j+1}: `;var z=_(J),M=d(z,!0);u(z),u(N),ne(()=>ae(M,e(R))),G(C,N)}),u(q);var T=_(q,2),B=d(T),S=d(B),A=_(S);A.__click=[hl,$],A.__keydown=[pl],u(B);var K=_(B,2),Q=d(K);xe(Q),u(K),u(T),u(D),ne(()=>ae(S,`${re.resultado} `)),he(w,()=>e(s),C=>o(s,C)),he(Q,()=>e(c),C=>o(c,C)),G(a,D),Ce()}Ae(["input","click","keydown"]);async function ml(a,l,n){l(!l()),await n()}var xl=te('<div class="area svelte-on5caf"><textarea class="textarea is-danger svelte-on5caf" readonly=""></textarea> <button class="button" aria-label="alternar"> </button></div>');function kl(a,l){Ee(l,!0);let n=Oe(l,"rawMode",7),r=g(m(l.text)),s=g(1),i=g(void 0);async function c(){f(),await nt(),x()}function f(){if(n()){o(r,m(l.text));return}const p=oe(l.text).filter(F=>F.name==="text");let L=fe(p);L=L.replaceAll("\\N",""),o(r,m(L))}function x(){o(s,m(E()))}function E(){return e(i)==null?1:Math.ceil(e(i).scrollHeight/e(i).clientHeight)}Fe(async()=>{await c()});var v=xl(),$=d(v);xe($),me($,p=>o(i,p),()=>e(i));var h=_($,2);h.__click=[ml,n,c];var D=d(h,!0);u(h),u(v),ne(()=>{Lt($,e(r)),ze($,"rows",e(s)),ae(D,n()?"Ocultar etiquetas":"Ver etiquetas")}),G(a,v),Ce()}Ae(["click"]);function yl(a,l){for(;a.endsWith(l);)a=a.substring(0,a.length-l.length);return a}const wl=["automático","carteles","diálogos","karaokes"];function El(a,l){const n=[];if(a==="carteles")return n;const r=l.scriptInfo.properties.get("WrapStyle")??"",s="0";r!==s&&n.push({location:"Script info, wrap style",error:`Se esperaba "${s}", pero se encontró "${r}"`,text:r,ignoreRule:""});const i=l.scriptInfo.properties.get("ScaledBorderAndShadow")??"",c="yes";i!==c&&n.push({location:"Script info, scaled border and shadow",error:`Se esperaba "${c}", pero se encontró "${i}"`,text:i,ignoreRule:""});let f=0;const x="Español";for(let E=0;E<l.events.lines.length;E++){const v=l.events.lines[E],$=E+1;if(a!=="karaokes"&&v.effect.includes("template syl")){console.info(`template syl detectado en línea ${$}, pasando a modo karaokes`),a="karaokes";continue}if(a=="diálogos"&&v.type==Ea||v.content===""||a==="karaokes"&&v.style!==x||a==="karaokes"&&v.type!==Ea||a==="karaokes"&&v.effect!=="karaoke")continue;if(a==="karaokes"&&v.effect==="fx")break;const h=v.effect.split(" ").filter(L=>L.startsWith("ignorar-"));if(h.includes("ignorar-linea"))continue;Tl(l,v.style)||n.push({location:`Línea ${$}`,error:"Estilo no encontrado",text:v.style,ignoreRule:"ignorar-estilo"});const D=oe(v.content);let p=fe(D.filter(L=>L.name==="text"));if(!h.includes("ignorar-inicio")){const L=Cl(p);L!=null&&n.push({location:`Línea ${$}`,error:L,text:v.content,ignoreRule:"ignorar-inicio"})}if(!h.includes("ignorar-espacios")){const L=Dl(p);L!=null&&n.push({location:`Línea ${$}`,error:L,text:v.content,ignoreRule:"ignorar-espacios"})}if(!h.includes("ignorar-fin")){const L=Sl(p);L!=null&&n.push({location:`Línea ${$}`,error:L,text:v.content,ignoreRule:"ignorar-fin"})}if(!h.includes("ignorar-puntuacion")){const L=Ll(p);L!=null&&n.push({location:`Línea ${$}`,error:L,text:v.content,ignoreRule:"ignorar-puntuacion"})}a==="karaokes"&&f++}return a==="karaokes"&&f===0&&n.push({location:`Línea ${l.events.lines.length}`,error:`No se encontraron líneas de karaoke con estilo "${x}"`,text:"",ignoreRule:""}),n}function Cl(a){return a.startsWith("... ")?"los tres puntos van pegados":(a.startsWith("...")&&(a=a.substring(3)),/^(-\s|¡|¿|"|“)*[A-zÁÉÍÓÚáéíóú0-9ñÑ]/gm.test(a)?null:"inicio inválido")}function Sl(a){a=yl(a," ");const l=[".",",",";","...","!","?",":","~","-..."];return l.some(n=>a.endsWith(n))?null:`No tiene un fin de línea válido: ${l.map(n=>`"${n}"`).join(", ")}`}function Ll(a){for(let l=0;l<a.length;l++){const n=[",",";","."],r=a[l];if(!n.includes(r))continue;if(l+1>=a.length)break;let s=a[l+1];if(s==="\\"&&a[l+2]==="N"&&(s="\\N"),r==="."&&s=="."||r==="."&&a[l-1]==="."&&a[l-2]==="."||(r==="."||r===",")&&!Number.isNaN(Number(a[l-1]))&&!Number.isNaN(Number(a[l+1])))continue;if(![" ","\\N"].includes(s))return"La coma (,) y el punto y coma (;) deben ser seguidos de un espacio o salto de línea"}return null}function Tl(a,l){return a.styles.styles.some(n=>l===n.name)}function Dl(a){return a.includes("  ")?"hay dos espacios seguidos":null}function Vl(a,l){return l!=="automático"?l:(a=a.toLocaleLowerCase(),a.includes("carteles")?"carteles":a.includes("subs")?"diálogos":a.includes("karaoke")?"karaokes":"diálogos")}async function Al(a,l,n,r,s,i){var f;const c=[...((f=e(l))==null?void 0:f.files)??[]];o(n,0),o(r,m([]));for(const x of c){const E=await x.text(),v=Tt(E);if(v==null){console.error("archivo inválido",x.name);continue}o(s,m(Vl(x.name,e(i))));const $=El(e(s),v);o(n,e(n)+$.length),e(r).push({subsType:e(s),fileName:x.name,errors:$})}e(l)!=null&&(e(l).value="")}var Fl=te("<option> </option>"),Rl=te('<img class="result-image svelte-4hkz46" src="img/lucky-star-yay.gif" alt="Lucky Star" title="Lucky Star">'),$l=te('<img class="result-image svelte-4hkz46" src="img/nichijou.webp" alt="Nichijou" title="Nichijou">'),Hl=te(`<img class="result-image svelte-4hkz46" src="img/under-arrest.gif" alt="You're Under Arrest" title="You're Under Arrest">`),Pl=te("<div><b> </b></div> <!>",1),Il=te("<div> <!></div>"),Nl=te('<div class="text-failed svelte-4hkz46"> </div>'),Bl=te(`<span class="ignore-rule svelte-4hkz46">Para ignorar, colocar <b> </b> en
                                campo de efecto.</span>`),zl=te('<span class="file-error svelte-4hkz46"> <!> <!></span>'),Ml=te('<div class="result svelte-4hkz46"><span> </span> <!> <div class="file-errors svelte-4hkz46"></div></div>'),Ol=te('<section class="svelte-4hkz46"><h1></h1> <div class="select is-fullwidth mb-2"><select></select></div> <input type="file" accept=".ass" multiple> <!> <!></section>');function jl(a,l){Ee(l,!0);const n=re.validarDialogos;let r=g("automático"),s=g("diálogos"),i=g(void 0),c=g(0),f=g(m([]));var x=Ol();Ie(F=>{Ne.title=n});var E=d(x);E.textContent=n;var v=_(E,2),$=d(v);Ze($,21,()=>wl,Qe,(F,w)=>{var V=Fl(),H={},k=d(V);u(V),ne(()=>{H!==(H=e(w))&&(V.value=(V.__value=e(w))==null?"":e(w)),ae(k,`Modo ${e(w)??""}`)}),G(F,V)}),u($),u(v);var h=_(v,2);h.__change=[Al,i,c,f,s,r],me(h,F=>o(i,F),()=>e(i));var D=_(h,2);{var p=F=>{var w=Pl(),V=we(w),H=d(V),k=d(H);u(H),u(V);var y=_(V,2);{var q=T=>{var B=Rl();G(T,B)},Y=T=>{var B=Se(),S=we(B);{var A=Q=>{var C=$l();G(Q,C)},K=Q=>{var C=Hl();G(Q,C)};ue(S,Q=>{e(c)>10?Q(A):Q(K,!1)},!0)}G(T,B)};ue(y,T=>{e(c)===0?T(q):T(Y,!1)})}ne(()=>{ta(V,`error-counter text-${(e(c)==0?"success":"failed")??""} mt-2 svelte-4hkz46`),ae(k,`Errores detectados: ${e(c)??""}`)}),G(F,w)};ue(D,F=>{e(f).length>0&&F(p)})}var L=_(D,2);Ze(L,17,()=>e(f),Qe,(F,w)=>{var V=Ml(),H=d(V),k=d(H,!0);u(H);var y=_(H,2);{var q=B=>{var S=Il(),A=d(S),K=_(A);{var Q=C=>{var R=La("Ignorado.");G(C,R)};ue(K,C=>{e(w).subsType==="carteles"&&C(Q)})}u(S),ne(()=>{ta(S,`text-success text-${e(w).subsType??""} svelte-4hkz46`),ae(A,`¡Todo en orden! Detectado como ${e(w).subsType??""}. `)}),G(B,S)},Y=B=>{var S=Nl(),A=d(S);u(S),ne(()=>ae(A,`Detectado como ${e(w).subsType??""}.`)),G(B,S)};ue(y,B=>{e(w).errors.length==0?B(q):B(Y,!1)})}var T=_(y,2);Ze(T,21,()=>e(w).errors,Qe,(B,S)=>{var A=zl(),K=d(A),Q=_(K);{var C=N=>{kl(N,{get text(){return e(S).text},rawMode:!1})};ue(Q,N=>{e(S).text!=""&&N(C)})}var R=_(Q,2);{var j=N=>{var J=Bl(),z=_(d(J)),M=d(z,!0);u(z),aa(),u(J),ne(()=>ae(M,e(S).ignoreRule)),G(N,J)};ue(R,N=>{e(S).ignoreRule!=""&&N(j)})}u(A),ne(()=>ae(K,`${e(S).location??""}: ${e(S).error??""}. `)),G(B,A)}),u(T),u(V),ne(()=>{ta(H,`name text-${(e(w).errors.length==0?"success":"failed")??""} text-${e(w).subsType??""} svelte-4hkz46`),ae(k,e(w).fileName)}),G(F,V)}),u(x),Ht($,()=>e(r),F=>o(r,F)),G(a,x),Ce()}Ae(["change"]);function ql(a,l){Ee(l,!0);let n=g("");Fe(()=>{Ca.subscribe(v=>{v!=null&&o(n,m(v))});const x=new URLSearchParams(location.search).get("pagina")??"",E=Dt(x)?x:"inicio";Ca.set(E)});var r=Se(),s=we(r);{var i=f=>{Xt(f)},c=f=>{var x=Se(),E=we(x);{var v=h=>{Mt(h,{})},$=h=>{var D=Se(),p=we(D);{var L=w=>{sl(w,{})},F=w=>{var V=Se(),H=we(V);{var k=q=>{el(q,{})},y=q=>{var Y=Se(),T=we(Y);{var B=A=>{ll(A,{})},S=A=>{var K=Se(),Q=we(K);{var C=j=>{jl(j,{})},R=j=>{var N=Se(),J=we(N);{var z=X=>{_l(X,{})},M=X=>{var le=Se(),se=we(le);{var de=ee=>{dl(ee,{})},be=ee=>{var Z=Se(),_e=we(Z);{var Le=ke=>{jt(ke,{})};ue(_e,ke=>{e(n)=="acercaDe"&&ke(Le)},!0)}G(ee,Z)};ue(se,ee=>{e(n)=="karaokes.dividirSilabas"?ee(de):ee(be,!1)},!0)}G(X,le)};ue(J,X=>{e(n)=="karaokes.dividirKaraoke"?X(z):X(M,!1)},!0)}G(j,N)};ue(Q,j=>{e(n)=="dialogos.validarDialogos"?j(C):j(R,!1)},!0)}G(A,K)};ue(T,A=>{e(n)=="carteles.aplicarColor"?A(B):A(S,!1)},!0)}G(q,Y)};ue(H,q=>{e(n)=="carteles.aplicarAlpha"?q(k):q(y,!1)},!0)}G(w,V)};ue(p,w=>{e(n)=="carteles.aplicarSecuenciaPosiciones"?w(L):w(F,!1)},!0)}G(h,D)};ue(E,h=>{e(n)=="carteles.copiarMovimiento"?h(v):h($,!1)},!0)}G(f,x)};ue(s,f=>{e(n)=="inicio"?f(i):f(c,!1)})}G(a,r),Ce()}var Xl=te('<section class="svelte-70scd4"><!></section>');function Zl(a){var l=Xl(),n=d(l);ql(n,{}),u(l),G(a,l)}export{Zl as component,Ql as universal};
