import{d as Le,t as ae,e as je,s as oe,a as H,b as ra,c as we}from"../chunks/CwJ6XYGs.js";import"../chunks/BF8XUEzE.js";import{a9 as Ot,aa as It,ab as wa,J as wt,X as pt,Q as $e,ag as Sa,ae as ka,R as Ra,O as Aa,g as a,j as Ta,V as Oa,W as Nt,Y as _t,a0 as it,am as Ia,Z as oa,_ as sa,$ as Na,av as ia,aq as la,N as La,m as Da,H as Lt,aw as mt,a3 as Fa,ax as kt,ay as Ma,az as Rt,aA as Dt,aB as Va,ap as $a,aC as Ha,aD as Ga,aE as ja,ad as Ba,aF as qa,b as ca,a2 as ua,a1 as da,y as Re,a as fa,a7 as y,l as c,a6 as Te,aG as Be,C as b,E as _,D as v,A as le,B as Ae,aH as Ye,z as Ee,a8 as Pa}from"../chunks/CCHRc5u3.js";import{a as Ua,p as x,i as se,b as Se}from"../chunks/CBNot3_l.js";import{f as Ka,p as He,h as fe,i as za,j as tt,r as Ya,T as Ve,k as Xa,l as pe,m as _e,t as de,n as Ge,o as ke,B as Ja,c as Wa,q as Qa,u as Za,b as Je,v as en,w as Et,x as Oe,y as tn,z as an,A as nn,C as rn,D as on,E as Ie,F as sn,G as ln,H as cn,I as un,J as dn,K as fn,L as vn,s as Ke,M as Ft,N as Mt,O as yt,P as ze,Q as Vt,R as hn,S as gn,a as $t,U as bn}from"../chunks/CjP6-8AH.js";import{p as Qe}from"../chunks/C-7UMIG7.js";function pn(e){var t=wa,n=wt;Ot(null),It(null);try{return e()}finally{Ot(t),It(n)}}function At(e,t,n,r=n){e.addEventListener(t,()=>pn(n));const o=e.__on_r;o?e.__on_r=()=>{o(),r(!0)}:e.__on_r=()=>r(!0),Ka()}function at(e,t){return t}function _n(e,t,n,r){for(var o=[],s=t.length,l=0;l<s;l++)Va(t[l].e,o,!0);var u=s>0&&o.length===0&&n!==null;if(u){var f=n.parentNode;$a(f),f.append(n),r.clear(),Pe(e,t[0].prev,t[s-1].next)}Ha(o,()=>{for(var m=0;m<s;m++){var p=t[m];u||(r.delete(p.k),Pe(e,p.prev,p.next)),Ga(p.e,!u)}})}function nt(e,t,n,r,o,s=null){var l=e,u={items:new Map,first:null},f=(t&ia)!==0;if(f){var m=e;l=$e?pt(Sa(m)):m.appendChild(ka())}$e&&Ra();var p=null,w=!1,d=Ta(()=>{var g=n();return La(g)?g:g==null?[]:la(g)});Aa(()=>{var g=a(d),h=g.length;if(w&&h===0)return;w=h===0;let O=!1;if($e){var j=l.data===Oa;j!==(h===0)&&(l=Nt(),pt(l),_t(!1),O=!0)}if($e){for(var S=null,Y,U=0;U<h;U++){if(it.nodeType===8&&it.data===Ia){l=it,O=!0,_t(!1);break}var k=g[U],R=r(k,U);Y=va(it,u,S,null,k,R,U,o,t,n),u.items.set(R,Y),S=Y}h>0&&pt(Nt())}$e||mn(g,u,l,o,t,r,n),s!==null&&(h===0?p?oa(p):p=sa(()=>s(l)):p!==null&&Na(p,()=>{p=null})),O&&_t(!0),a(d)}),$e&&(l=it)}function mn(e,t,n,r,o,s,l){var T,A,P,q;var u=(o&Ma)!==0,f=(o&(Rt|kt))!==0,m=e.length,p=t.items,w=t.first,d=w,g,h=null,O,j=[],S=[],Y,U,k,R;if(u)for(R=0;R<m;R+=1)Y=e[R],U=s(Y,R),k=p.get(U),k!==void 0&&((T=k.a)==null||T.measure(),(O??(O=new Set)).add(k));for(R=0;R<m;R+=1){if(Y=e[R],U=s(Y,R),k=p.get(U),k===void 0){var Q=d?d.e.nodes_start:n;h=va(Q,t,h,h===null?t.first:h.next,Y,U,R,r,o,l),p.set(U,h),j=[],S=[],d=h.next;continue}if(f&&En(k,Y,R,o),k.e.f&mt&&(oa(k.e),u&&((A=k.a)==null||A.unfix(),(O??(O=new Set)).delete(k))),k!==d){if(g!==void 0&&g.has(k)){if(j.length<S.length){var te=S[0],G;h=te.prev;var N=j[0],C=j[j.length-1];for(G=0;G<j.length;G+=1)Ht(j[G],te,n);for(G=0;G<S.length;G+=1)g.delete(S[G]);Pe(t,N.prev,C.next),Pe(t,h,N),Pe(t,C,te),d=te,h=C,R-=1,j=[],S=[]}else g.delete(k),Ht(k,d,n),Pe(t,k.prev,k.next),Pe(t,k,h===null?t.first:h.next),Pe(t,h,k),h=k;continue}for(j=[],S=[];d!==null&&d.k!==U;)d.e.f&mt||(g??(g=new Set)).add(d),S.push(d),d=d.next;if(d===null)continue;k=d}j.push(k),h=k,d=k.next}if(d!==null||g!==void 0){for(var M=g===void 0?[]:la(g);d!==null;)d.e.f&mt||M.push(d),d=d.next;var K=M.length;if(K>0){var re=o&ia&&m===0?n:null;if(u){for(R=0;R<K;R+=1)(P=M[R].a)==null||P.measure();for(R=0;R<K;R+=1)(q=M[R].a)==null||q.fix()}_n(t,M,re,p)}}u&&Fa(()=>{var B;if(O!==void 0)for(k of O)(B=k.a)==null||B.apply()}),wt.first=t.first&&t.first.e,wt.last=h&&h.e}function En(e,t,n,r){r&Rt&&Dt(e.v,t),r&kt?Dt(e.i,n):e.i=n}function va(e,t,n,r,o,s,l,u,f,m){var p=(f&Rt)!==0,w=(f&ja)===0,d=p?w?Da(o):Lt(o):o,g=f&kt?Lt(l):l,h={i:g,v:d,k:s,a:null,e:null,prev:n,next:r};try{return h.e=sa(()=>u(e,d,g,m),$e),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?t.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function Ht(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,o=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==r;){var l=Ba(s);o.before(s),s=l}}function Pe(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ha(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=ha(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function yn(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=ha(e))&&(r&&(r+=" "),r+=t);return r}function xn(e){return typeof e=="object"?yn(e):e??""}function me(e,t,n=t){var r=qa();At(e,"input",o=>{var s=o?e.defaultValue:e.value;if(s=xt(e)?Ct(s):s,n(s),r&&s!==(s=t())){var l=e.selectionStart,u=e.selectionEnd;e.value=s??"",u!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(u,e.value.length))}}),($e&&e.defaultValue!==e.value||ca(t)==null&&e.value)&&n(xt(e)?Ct(e.value):e.value),ua(()=>{var o=t();xt(e)&&o===Ct(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function bt(e,t,n=t){At(e,"change",r=>{var o=r?e.defaultChecked:e.checked;n(o)}),($e&&e.defaultChecked!==e.checked||ca(t)==null)&&n(e.checked),ua(()=>{var r=t();e.checked=!!r})}function xt(e){var t=e.type;return t==="number"||t==="range"}function Ct(e){return e===""?null:+e}function ga(e,t,n){if(e.multiple)return Sn(e,t);for(var r of e.options){var o=ut(r);if(Ua(o,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Cn(e,t){da(()=>{var n=new MutationObserver(()=>{var r=e.__value;ga(e,r)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function wn(e,t,n=t){var r=!0;At(e,"change",o=>{var s=o?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(s),ut);else{var u=e.querySelector(s)??e.querySelector("option:not([disabled])");l=u&&ut(u)}n(l)}),da(()=>{var o=t();if(ga(e,o,r),r&&o===void 0){var s=e.querySelector(":checked");s!==null&&(o=ut(s),n(o))}e.__value=o,r=!1}),Cn(e)}function Sn(e,t){for(var n of e.options)n.selected=~t.indexOf(ut(n))}function ut(e){return"__value"in e?e.__value:e.value}const kn=!0,Do=Object.freeze(Object.defineProperty({__proto__:null,prerender:kn},Symbol.toStringTag,{value:"Module"}));var Rn=(e,t)=>t(),An=()=>{},Tn=ae('<section class="svelte-jzi2e1"><h1></h1> <div class="field"><label class="label" for="">Movimiento base</label> <div class="control"><input class="input" type="text" placeholder="\\move(10,20,30,40)"></div></div> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function On(e,t){Re(t,!0);const n=de.copiarMovimiento;let r=y("Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\move(320,470,320,168,0,4963)}Urusai!"),o=y(""),s=y("");fa(()=>{l(a(r),a(o))});function l(G,N){if(N.length==0)return;const C=N.split(`
`);console.log(C);const M=He(G);if(M==null){console.error("invalid base line",G);return}const K=fe(M.content),re=za(K);if(re==null){console.error("base move not found");return}const T=re.x2-re.x1,A=re.y2-re.y1;let P="";for(let q=0;q<C.length;q++){const B=C[q];if(B.length==0)continue;const L=He(B);if(L==null){console.error(`line ${q+1}: invalid line`);break}const D=fe(L.content),I=tt(D);if(I==null){console.error(`line ${q+1}: pos not found`);break}Ya(D,Ve.pos);const F=I.x,W=I.y,ne=I.x+T,ie=I.y+A;Xa(D,F,W,ne,ie,re.t1,re.t2);const J=pe(D);L.content=J;const z=_e(L);console.log(z),q>0&&(P+=`
`),P+=z}c(s,x(P))}async function u(){await navigator.clipboard.writeText(a(s)),alert("¡Líneas copiadas al portapapeles!")}Te(()=>{for(let G=1;G<=10;G++){const N=182+G*5,C=421+G*7;c(o,a(o)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(${N},${C})}LINEA ${G}
`)}});var f=Tn();je(G=>{Be.title=n});var m=b(f);m.textContent=n;var p=_(m,2),w=_(b(p),2),d=b(w);Ge(d),v(w),v(p);var g=_(p,2),h=b(g),O=b(h,!0);v(h);var j=_(h,2),S=b(j);ke(S),v(j),v(g);var Y=_(g,2),U=b(Y),k=b(U),R=_(k);R.__click=[Rn,u],R.__keydown=[An],v(U);var Q=_(U,2),te=b(Q);ke(te),v(Q),v(Y),v(f),le(()=>{oe(O,de.subtitulos),oe(k,`${de.resultado} `)}),me(d,()=>a(r),G=>c(r,G)),me(S,()=>a(o),G=>c(o,G)),me(te,()=>a(s),G=>c(s,G)),H(e,f),Ae()}Le(["click","keydown"]);var In=ae('<span class="version svelte-1ghhrj6"><a target="_blank"> </a></span>'),Nn=ae(`<div class="text-column"><h1></h1> <!> <div class="kagamin svelte-1ghhrj6"><img src="img/kagamin.gif" alt="Lucky Star" title="Lucky Star" class="svelte-1ghhrj6"></div> <p class="mt-2">Asu es una herramienta para automatizar el procesamiento de subtítulos
        en formato SubStation Alpha Subtitles (SSA/ASS).</p> <hr class="svelte-1ghhrj6"> <p>Asu versión web, de <a href="https://github.com/FS-Frost" target="_blank">[FS] Frost</a> para <a href="http://syncrajo.net/" target="_blank">SyncRajo Fansub</a>.</p> <p class="mt-2">Agradecimientos por su ayuda a:</p> <ul><li>- <b>[EC] DarkAngel</b>: por desarrollar <b>SyncRajoEndline</b> y por
            la idea de separar sílabas en karaokes.</li> <li>- <b>[GX] Gonxas</b>: por el hardcore testing y el script para crear
            archivos AVS.</li> <li>- <b>[Sr] Hell</b>: por proveer un servicio de host.</li></ul> <p class="mt-2"><b>Visítanos en <a href="http://syncrajo.net/" target="_blank">http://syncrajo.net</a></b></p> <hr class="svelte-1ghhrj6"> <p>Versiones de Asu:</p> <ul><li><a href="https://github.com/FS-Frost/Asu.Utilidades" target="_blank">- (2014) Asu para .NET/C#</a></li> <li><a href="https://github.com/FS-Frost/asu-go2js" target="_blank">- (2022) Asu para Go y JavaScript</a></li> <li><a href="https://github.com/FS-Frost/asu-regex-js" target="_blank">- (2024) Asu para TypeScript</a></li></ul></div>`);function Ln(e,t){Re(t,!0);const n=de.acercaDe;let r=y(x(Ja.parse({})));Te(async()=>{Wa.subscribe(f=>{f!=null&&c(r,x(f))})});var o=Nn();je(f=>{Be.title=n});var s=b(o);s.textContent=n;var l=_(s,2);{var u=f=>{var m=In(),p=b(m),w=b(p);v(p),v(m),le((d,g)=>{Je(p,"href",d),oe(w,`Versión ${a(r).ref??""}.${g??""} desplegada
                por
                ${a(r).actor??""}`)},[()=>Qa(a(r).actor,a(r).repo,a(r).sha),()=>Za(a(r).sha)]),H(f,m)};se(l,f=>{a(r).sha!=""&&f(u)})}Ye(20),v(o),H(e,o),Ae()}var Dn=ae('<img class="wallpaper svelte-1ic3zkr" src="img/hyouka.jpg" alt="Hyouka" title="Hyouka">');function Fn(e){var t=Dn();je(n=>{Be.title="Asu"}),H(e,t)}var Mn=(e,t)=>t(),Vn=ae("<b> </b>"),$n=ae('<div class="field alpha-box svelte-9wq0vr"><div class="svelte-9wq0vr"><label class="checkbox"><input type="checkbox"> <!></label></div> <div class="alpha-inputs svelte-9wq0vr"><div class="alpha-value svelte-9wq0vr"><label class="label" for="">Valor inicial</label> <div class="control"><input class="input" type="text"></div></div> <div class="alpha-value svelte-9wq0vr"><label class="label" for="">Valor Final</label> <div class="control"><input class="input" type="text"></div></div></div></div>');function Ne(e,t){Re(t,!0);let n=Qe(t,"label",3,""),r=Qe(t,"disabled",15,!1),o=Qe(t,"startValue",15,""),s=Qe(t,"endValue",15,""),l=Qe(t,"startPlaceholder",3,""),u=Qe(t,"endPlaceholder",3,""),f=y(void 0);function m(){var C;if((C=a(f))!=null&&C.checked){p();return}w()}function p(){r()&&(r(!1),a(f)&&(a(f).checked=!0),t.onEnabled&&t.onEnabled())}function w(){r()||(r(!0),a(f)&&(a(f).checked=!1),t.onDisabled&&t.onDisabled())}Te(()=>{a(f)&&(a(f).checked=!r())});var d=$n(),g=b(d),h=b(g),O=b(h);O.__change=[Mn,m],Se(O,C=>c(f,C),()=>a(f));var j=_(O,2);{var S=C=>{var M=ra();le(()=>oe(M,`${n()??""}
                (deshabilitado)`)),H(C,M)},Y=C=>{var M=Vn(),K=b(M,!0);v(M),le(()=>oe(K,n())),H(C,M)};se(j,C=>{r()?C(S):C(Y,!1)})}v(h),v(g);var U=_(g,2),k=b(U),R=_(b(k),2),Q=b(R);Ge(Q),v(R),v(k);var te=_(k,2),G=_(b(te),2),N=b(G);return Ge(N),v(G),v(te),v(U),v(d),le(()=>{Je(Q,"placeholder",l()),Q.disabled=r(),Je(N,"placeholder",u()),N.disabled=r()}),me(Q,o),me(N,s),H(e,d),Ae({enable:p,disable:w})}Le(["change"]);function lt(e,t){const n=[];for(let r=e;r<=t;r++){const o=en(r);n.push(o)}return n}function ct(e,t,n){const r=Array(n),o=Et(e.blue,t.blue,n);if(o.length!==n)return console.error(`ERROR: blue interpolated values ${o.length} don't match intervals ${n}`),[];const s=Et(e.green,t.green,n);if(s.length!==n)return console.error(`ERROR: green interpolated values ${s.length} don't match intervals ${n}`),[];const l=Et(e.red,t.red,n);if(l.length!==n)return console.error(`ERROR: red interpolated values ${l.length} don't match intervals ${n}`),[];for(var u=0;u<n;u++){const f=Math.floor(o[u]),m=Math.floor(s[u]),p=Math.floor(l[u]);r[u]={blue:f,green:m,red:p}}return r}var Hn=(e,t)=>t(),Gn=()=>{},jn=ae('<i class="fa-solid fa-copy clickable" role="button" tabindex="0"></i>');function ba(e,t){Re(t,!0);async function n(){await navigator.clipboard.writeText(t.rawResultLines),alert(de.lineasCopiadas)}var r=jn();r.__click=[Hn,n],r.__keydown=[Gn],le(()=>Je(r,"title",de.copiar)),H(e,r),Ae()}Le(["click","keydown"]);var Bn=(e,t)=>t(),qn=ae('<section class="svelte-do1mnp"><h1></h1> <label class="label" for="">Configuración alpha</label> <!> <!> <!> <!> <!> <label class="checkbox reverse svelte-do1mnp"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function Pn(e,t){Re(t,!0);const n=de.aplicarAlpha,r="0",o="FF";let s=y(""),l=y(""),u=y("0"),f=y("FF"),m=y("0"),p=y("FF"),w=y("0"),d=y("FF"),g=y("0"),h=y("FF"),O=y("0"),j=y("FF"),S=y(!1),Y=y(!0),U=y(!0),k=y(!0),R=y(!0),Q=y(void 0),te=y(void 0),G=y(void 0),N=y(void 0),C=y(void 0),M=y(!1);function K(){var i,ye,V,$;(i=a(te))==null||i.disable(),(ye=a(G))==null||ye.disable(),(V=a(N))==null||V.disable(),($=a(C))==null||$.disable()}function re(){var i,ye,V,$;a(Y)&&a(U)&&a(k)&&a(R)&&((i=a(te))==null||i.enable(),(ye=a(G))==null||ye.disable(),(V=a(N))==null||V.disable(),($=a(C))==null||$.disable())}function T(){var i;(i=a(Q))==null||i.disable()}function A(){var i;a(Y)&&a(U)&&a(k)&&a(R)&&((i=a(Q))==null||i.enable())}function P(){const i=[],ye=a(s).split(`
`);for(const V of ye){if(V.length==0)continue;const $=He(V);$!=null&&i.push($)}if(!a(S)){const V=Oe(a(u)),$=Oe(a(f));if(V>=$){alert("El inicio de alpha total debe ser menor al fin.");return}if(V<0){alert("El inicio de alpha total debe ser mayor o igual a 00 (0).");return}if($>255){alert("El fin de alpha total debe ser menor o igual a FF (255).");return}const X=lt(V,$);a(M)&&X.reverse();let Z="";for(let E=0;E<i.length;E++){let ee=Math.floor(X.length*E/i.length);ee>=X.length&&(ee=X.length-1);const ge=`&H${X[ee]}&`,xe=fe(i[E].content);tn(xe,ge),i[E].content=pe(xe);const Me=_e(i[E]);E>0&&(Z+=`
`),Z+=Me}c(l,x(Z));return}if(!a(Y)){const V=Oe(a(m)),$=Oe(a(p));if(V>=$){alert("El inicio de alpha 1 debe ser menor al fin.");return}if(V<0){alert("El inicio de alpha 1 debe ser mayor o igual a 00 (0).");return}if($>255){alert("El fin de alpha 1 debe ser menor o igual a FF (255).");return}const X=lt(V,$);a(M)&&X.reverse();let Z="";for(let E=0;E<i.length;E++){let ee=Math.floor(X.length*E/i.length);ee>=X.length&&(ee=X.length-1);const ge=`&H${X[ee]}&`,xe=fe(i[E].content);an(xe,ge),i[E].content=pe(xe);const Me=_e(i[E]);E>0&&(Z+=`
`),Z+=Me}c(l,x(Z))}if(!a(U)){const V=Oe(a(w)),$=Oe(a(d));if(V>=$){alert("El inicio de alpha 2 debe ser menor al fin.");return}if(V<0){alert("El inicio de alpha 2 debe ser mayor o igual a 00 (0).");return}if($>255){alert("El fin de alpha 2 debe ser menor o igual a FF (255).");return}const X=lt(V,$);a(M)&&X.reverse();let Z="";for(let E=0;E<i.length;E++){let ee=Math.floor(X.length*E/i.length);ee>=X.length&&(ee=X.length-1);const ge=`&H${X[ee]}&`,xe=fe(i[E].content);nn(xe,ge),i[E].content=pe(xe);const Me=_e(i[E]);E>0&&(Z+=`
`),Z+=Me}c(l,x(Z))}if(!a(k)){const V=Oe(a(g)),$=Oe(a(h));if(V>=$){alert("El inicio de alpha 3 debe ser menor al fin.");return}if(V<0){alert("El inicio de alpha 3 debe ser mayor o igual a 00 (0).");return}if($>255){alert("El fin de alpha 3 debe ser menor o igual a FF (255).");return}const X=lt(V,$);a(M)&&X.reverse();let Z="";for(let E=0;E<i.length;E++){let ee=Math.floor(X.length*E/i.length);ee>=X.length&&(ee=X.length-1);const ge=`&H${X[ee]}&`,xe=fe(i[E].content);rn(xe,ge),i[E].content=pe(xe);const Me=_e(i[E]);E>0&&(Z+=`
`),Z+=Me}c(l,x(Z))}if(!a(R)){const V=Oe(a(O)),$=Oe(a(j));if(V>=$){alert("El inicio de alpha 4 debe ser menor al fin.");return}if(V<0){alert("El inicio de alpha 4 debe ser mayor o igual a 00 (0).");return}if($>255){alert("El fin de alpha 4 debe ser menor o igual a FF (255).");return}const X=lt(V,$);a(M)&&X.reverse();let Z="";for(let E=0;E<i.length;E++){let ee=Math.floor(X.length*E/i.length);ee>=X.length&&(ee=X.length-1);const ge=`&H${X[ee]}&`,xe=fe(i[E].content);on(xe,ge),i[E].content=pe(xe);const Me=_e(i[E]);E>0&&(Z+=`
`),Z+=Me}c(l,x(Z))}}Te(()=>{for(let i=1;i<=10;i++)c(s,a(s)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(182,421)}LINEA ${i}
`)});var q=qn();je(i=>{Be.title=n});var B=b(q);B.textContent=n;var L=_(B,4);Se(Ne(L,{label:"Alpha total",startPlaceholder:r,endPlaceholder:o,onEnabled:()=>K(),onDisabled:()=>re(),get startValue(){return a(u)},set startValue(i){c(u,x(i))},get endValue(){return a(f)},set endValue(i){c(f,x(i))},get disabled(){return a(S)},set disabled(i){c(S,x(i))}}),i=>c(Q,x(i)),()=>a(Q));var D=_(L,2);Se(Ne(D,{label:"Alpha 1",startPlaceholder:r,endPlaceholder:o,onEnabled:()=>T(),onDisabled:()=>A(),get startValue(){return a(m)},set startValue(i){c(m,x(i))},get endValue(){return a(p)},set endValue(i){c(p,x(i))},get disabled(){return a(Y)},set disabled(i){c(Y,x(i))}}),i=>c(te,x(i)),()=>a(te));var I=_(D,2);Se(Ne(I,{label:"Alpha 2",startPlaceholder:r,endPlaceholder:o,onEnabled:()=>T(),onDisabled:()=>A(),get startValue(){return a(w)},set startValue(i){c(w,x(i))},get endValue(){return a(d)},set endValue(i){c(d,x(i))},get disabled(){return a(U)},set disabled(i){c(U,x(i))}}),i=>c(G,x(i)),()=>a(G));var F=_(I,2);Se(Ne(F,{label:"Alpha 3",startPlaceholder:r,endPlaceholder:o,onEnabled:()=>T(),onDisabled:()=>A(),get startValue(){return a(g)},set startValue(i){c(g,x(i))},get endValue(){return a(h)},set endValue(i){c(h,x(i))},get disabled(){return a(k)},set disabled(i){c(k,x(i))}}),i=>c(N,x(i)),()=>a(N));var W=_(F,2);Se(Ne(W,{label:"Alpha 4",startPlaceholder:r,endPlaceholder:o,onEnabled:()=>T(),onDisabled:()=>A(),get startValue(){return a(O)},set startValue(i){c(O,x(i))},get endValue(){return a(j)},set endValue(i){c(j,x(i))},get disabled(){return a(R)},set disabled(i){c(R,x(i))}}),i=>c(C,x(i)),()=>a(C));var ne=_(W,2),ie=b(ne);Ge(ie),Ye(),v(ne);var J=_(ne,2),z=b(J),ce=b(z,!0);v(z);var ve=_(z,2),be=b(ve);ke(be),v(ve),v(J);var ue=_(J,2);ue.__click=[Bn,P];var qe=b(ue,!0);v(ue);var We=_(ue,2),De=b(We),Fe=b(De),rt=_(Fe);ba(rt,{get rawResultLines(){return a(l)}}),v(De);var ot=_(De,2),st=b(ot);ke(st),v(ot),v(We),v(q),le(()=>{oe(ce,de.subtitulos),oe(qe,de.aplicarAlpha),oe(Fe,`${de.resultado} `)}),bt(ie,()=>a(M),i=>c(M,i)),me(be,()=>a(s),i=>c(s,i)),me(st,()=>a(l),i=>c(l,i)),H(e,q),Ae()}Le(["click"]);var Un=(e,t)=>t(),Kn=ae('<section class="svelte-do1mnp"><h1></h1> <label class="label" for="">Configuración de color</label> <!> <!> <!> <!> <!> <label class="checkbox reverse svelte-do1mnp"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function zn(e,t){Re(t,!0);const n=de.aplicarColor,r="&HFFFFFF&",o="&H000000&";let s=y(""),l=y(""),u=y(r),f=y(o),m=y(r),p=y(o),w=y(r),d=y(o),g=y(r),h=y(o),O=y(r),j=y(o),S=y(!1),Y=y(!0),U=y(!0),k=y(!0),R=y(!0),Q=y(void 0),te=y(void 0),G=y(void 0),N=y(void 0),C=y(void 0),M=y(!1);function K(){var i,ye,V,$;(i=a(te))==null||i.disable(),(ye=a(G))==null||ye.disable(),(V=a(N))==null||V.disable(),($=a(C))==null||$.disable()}function re(){var i,ye,V,$;a(Y)&&a(U)&&a(k)&&a(R)&&((i=a(te))==null||i.enable(),(ye=a(G))==null||ye.disable(),(V=a(N))==null||V.disable(),($=a(C))==null||$.disable())}function T(){var i;(i=a(Q))==null||i.disable()}function A(){var i;a(Y)&&a(U)&&a(k)&&a(R)&&((i=a(Q))==null||i.enable())}function P(){const i=[],ye=a(s).split(`
`);for(const V of ye){if(V.length==0)continue;const $=He(V);$!=null&&i.push($)}if(!a(S)){const V=Ie(a(u));if(V==null){alert(`Color total de inicio inválido: ${a(u)}`);return}const $=Ie(a(f));if($==null){alert(`Color total de fin inválido: ${a(f)}`);return}const X=ct(V,$,i.length);a(M)&&X.reverse();let Z="";for(let E=0;E<i.length;E++){const ee=X[E],he=fe(i[E].content);sn(he,ee.blue,ee.green,ee.red),i[E].content=pe(he);const ge=_e(i[E]);E>0&&(Z+=`
`),Z+=ge}c(l,x(Z));return}if(!a(Y)){const V=Ie(a(m));if(V==null){alert(`Color 1 de inicio inválido: ${a(m)}`);return}const $=Ie(a(p));if($==null){alert(`Color 1 de fin inválido: ${a(p)}`);return}const X=ct(V,$,i.length);a(M)&&X.reverse();let Z="";for(let E=0;E<i.length;E++){const ee=X[E],he=fe(i[E].content);ln(he,ee.blue,ee.green,ee.red),i[E].content=pe(he);const ge=_e(i[E]);E>0&&(Z+=`
`),Z+=ge}c(l,x(Z))}if(!a(U)){const V=Ie(a(w));if(V==null){alert(`Color 2 de inicio inválido: ${a(w)}`);return}const $=Ie(a(d));if($==null){alert(`Color 2 de fin inválido: ${a(d)}`);return}const X=ct(V,$,i.length);a(M)&&X.reverse();let Z="";for(let E=0;E<i.length;E++){const ee=X[E],he=fe(i[E].content);cn(he,ee.blue,ee.green,ee.red),i[E].content=pe(he);const ge=_e(i[E]);E>0&&(Z+=`
`),Z+=ge}c(l,x(Z))}if(!a(k)){const V=Ie(a(g));if(V==null){alert(`Color 3 de inicio inválido: ${a(g)}`);return}const $=Ie(a(h));if($==null){alert(`Color 3 de fin inválido: ${a(h)}`);return}const X=ct(V,$,i.length);a(M)&&X.reverse();let Z="";for(let E=0;E<i.length;E++){const ee=X[E],he=fe(i[E].content);un(he,ee.blue,ee.green,ee.red),i[E].content=pe(he);const ge=_e(i[E]);E>0&&(Z+=`
`),Z+=ge}c(l,x(Z))}if(!a(R)){const V=Ie(a(O));if(V==null){alert(`Color 4 de inicio inválido: ${a(O)}`);return}const $=Ie(a(j));if($==null){alert(`Color 4 de fin inválido: ${a(j)}`);return}const X=ct(V,$,i.length);a(M)&&X.reverse();let Z="";for(let E=0;E<i.length;E++){const ee=X[E],he=fe(i[E].content);dn(he,ee.blue,ee.green,ee.red),i[E].content=pe(he);const ge=_e(i[E]);E>0&&(Z+=`
`),Z+=ge}c(l,x(Z))}}Te(()=>{c(s,a(s)+`Dialogue: 0,0:00:00.00,0:00:00.02,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),c(s,a(s)+`Dialogue: 0,0:00:00.02,0:00:00.06,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),c(s,a(s)+`Dialogue: 0,0:00:00.06,0:00:00.10,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),c(s,a(s)+`Dialogue: 0,0:00:00.10,0:00:00.14,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),c(s,a(s)+`Dialogue: 0,0:00:00.14,0:00:00.18,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),c(s,a(s)+`Dialogue: 0,0:00:00.18,0:00:00.23,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),c(s,a(s)+`Dialogue: 0,0:00:00.23,0:00:00.27,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),c(s,a(s)+`Dialogue: 0,0:00:00.27,0:00:00.31,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),c(s,a(s)+"Dialogue: 0,0:00:00.31,0:00:00.35,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO")});var q=Kn();je(i=>{Be.title=n});var B=b(q);B.textContent=n;var L=_(B,4);Se(Ne(L,{label:"Color total",startPlaceholder:r,endPlaceholder:o,onEnabled:()=>K(),onDisabled:()=>re(),get startValue(){return a(u)},set startValue(i){c(u,x(i))},get endValue(){return a(f)},set endValue(i){c(f,x(i))},get disabled(){return a(S)},set disabled(i){c(S,x(i))}}),i=>c(Q,x(i)),()=>a(Q));var D=_(L,2);Se(Ne(D,{label:"Color 1",startPlaceholder:r,endPlaceholder:o,onEnabled:()=>T(),onDisabled:()=>A(),get startValue(){return a(m)},set startValue(i){c(m,x(i))},get endValue(){return a(p)},set endValue(i){c(p,x(i))},get disabled(){return a(Y)},set disabled(i){c(Y,x(i))}}),i=>c(te,x(i)),()=>a(te));var I=_(D,2);Se(Ne(I,{label:"Color 2",startPlaceholder:r,endPlaceholder:o,onEnabled:()=>T(),onDisabled:()=>A(),get startValue(){return a(w)},set startValue(i){c(w,x(i))},get endValue(){return a(d)},set endValue(i){c(d,x(i))},get disabled(){return a(U)},set disabled(i){c(U,x(i))}}),i=>c(G,x(i)),()=>a(G));var F=_(I,2);Se(Ne(F,{label:"Color 3",startPlaceholder:r,endPlaceholder:o,onEnabled:()=>T(),onDisabled:()=>A(),get startValue(){return a(g)},set startValue(i){c(g,x(i))},get endValue(){return a(h)},set endValue(i){c(h,x(i))},get disabled(){return a(k)},set disabled(i){c(k,x(i))}}),i=>c(N,x(i)),()=>a(N));var W=_(F,2);Se(Ne(W,{label:"Color 4",startPlaceholder:r,endPlaceholder:o,onEnabled:()=>T(),onDisabled:()=>A(),get startValue(){return a(O)},set startValue(i){c(O,x(i))},get endValue(){return a(j)},set endValue(i){c(j,x(i))},get disabled(){return a(R)},set disabled(i){c(R,x(i))}}),i=>c(C,x(i)),()=>a(C));var ne=_(W,2),ie=b(ne);Ge(ie),Ye(),v(ne);var J=_(ne,2),z=b(J),ce=b(z,!0);v(z);var ve=_(z,2),be=b(ve);ke(be),v(ve),v(J);var ue=_(J,2);ue.__click=[Un,P];var qe=b(ue,!0);v(ue);var We=_(ue,2),De=b(We),Fe=b(De),rt=_(Fe);ba(rt,{get rawResultLines(){return a(l)}}),v(De);var ot=_(De,2),st=b(ot);ke(st),v(ot),v(We),v(q),le(()=>{oe(ce,de.subtitulos),oe(qe,de.aplicarColor),oe(Fe,`${de.resultado} `)}),bt(ie,()=>a(M),i=>c(M,i)),me(be,()=>a(s),i=>c(s,i)),me(st,()=>a(l),i=>c(l,i)),H(e,q),Ae()}Le(["click"]);var Yn=(e,t)=>t(),Xn=()=>{},Jn=ae('<section class="svelte-jzi2e1"><h1></h1> <div class="field"><label class="label" for="">Secuencia de posiciones</label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <label class="checkbox reverse"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function Wn(e,t){Re(t,!0);const n=de.aplicarSecuenciaPosiciones;let r=y(""),o=y(""),s=y(""),l=y(!1);fa(()=>{u(a(r),a(o),a(l))});function u(K,re,T){if(re.length==0)return;const A=[];{const B=K.split(`
`);for(const L of B){if(L.length==0)continue;const D=He(L);if(D==null)continue;const I=fe(D.content);if(tt(I)==null){alert(`Línea base sin \\pos copiada: '${L}'`),console.log(L);return}A.push(D)}}const P=[];{const B=re.split(`
`);for(const L of B){if(L.length==0)continue;const D=He(L);if(D==null)continue;const I=fe(D.content);if(tt(I)==null){alert(`Línea objetivo sin \\pos: '${L}'`),console.log(L);return}P.push(D)}}let q="";for(let B=0;B<P.length;B++){const L=P[B],D=fe(L.content),I=tt(D);if(I==null){const J=_e(L);alert(`Línea objetivo sin \\pos: '${J}'`),console.log(J);return}let F=I.x,W=I.y;T&&A.reverse();const ne=f(A),ie=[];for(let J=0;J<A.length;J++){const z=ne[J][0],ce=ne[J][1],ve=F+z,be=W+ce;F=ve,W=be,fn(D,ve,be),L.content=pe(D);const ue=A[J];L.start=ue.start,L.end=ue.end,ie.push(structuredClone(L))}T&&(A.reverse(),ie.reverse());for(const J of ie)q+=_e(J)+`
`}c(s,x(q))}function f(K){const T=[[0,0]];for(let A=0;A<K.length-1;A++){const P=K[A],q=K[A+1],B=fe(P.content),L=tt(B);if(L==null)return alert(`Línea base sin \\pos: '${_e(P)}'`),console.log(P),[];const D=fe(q.content),I=tt(D);if(I==null)return alert(`Línea base sin \\pos: '${_e(q)}'`),console.log(q),[];const F=I.x-L.x,W=I.y-L.y;T.push([F,W])}return T}async function m(){await navigator.clipboard.writeText(a(s)),alert("¡Líneas copiadas al portapapeles!")}Te(()=>{c(r,a(r)+`Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.6,593.8)}Tama:
`),c(r,a(r)+`Dialogue: 1,0:23:58.08,0:23:58.12,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.55,589.69)}Tama:
`),c(r,a(r)+`Dialogue: 1,0:23:58.12,0:23:58.16,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.56,585.4)}Tama:
`),c(r,a(r)+`Dialogue: 1,0:23:58.16,0:23:58.20,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.41,581.09)}Tama:
`),c(r,a(r)+`Dialogue: 1,0:23:58.20,0:23:58.24,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.31,576.78)}Tama:
`),c(r,a(r)+`Dialogue: 1,0:23:58.24,0:23:58.29,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.22,572.39)}Tama:
`),c(r,a(r)+`Dialogue: 1,0:23:58.29,0:23:58.33,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.06,568.18)}Tama:
`),c(r,a(r)+`Dialogue: 1,0:23:58.33,0:23:58.37,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.13,563.34)}Tama:
`),c(r,a(r)+`Dialogue: 1,0:23:58.37,0:23:58.41,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.99,558.77)}Tama:
`),c(r,a(r)+"Dialogue: 1,0:23:58.41,0:23:58.45,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.96,554.13)}Tama:"),c(o,"Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(1039.6,593.8)}LINEA")});var p=Jn();je(K=>{Be.title=n});var w=b(p);w.textContent=n;var d=_(w,2),g=_(b(d),2),h=b(g);ke(h),v(g),v(d);var O=_(d,2),j=b(O);Ge(j),Ye(),v(O);var S=_(O,2),Y=b(S),U=b(Y,!0);v(Y);var k=_(Y,2),R=b(k);ke(R),v(k),v(S);var Q=_(S,2),te=b(Q),G=b(te),N=_(G);N.__click=[Yn,m],N.__keydown=[Xn],v(te);var C=_(te,2),M=b(C);ke(M),v(C),v(Q),v(p),le(()=>{oe(U,de.subtitulos),oe(G,`${de.resultado} `)}),me(h,()=>a(r),K=>c(r,K)),bt(j,()=>a(l),K=>c(l,K)),me(R,()=>a(o),K=>c(o,K)),me(M,()=>a(s),K=>c(s,K)),H(e,p),Ae()}Le(["click","keydown"]);var Qn=(e,t)=>t(),Zn=()=>{},er=ae('<section class="svelte-jzi2e1"><h1></h1> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function tr(e,t){Re(t,!0);const n=de.dividirSilabas;let r=y(""),o=y(""),s=y("");function l(){if(a(o).length==0)return;const R=a(o).split(`
`);let Q="";for(let te=0;te<R.length;te++){const G=R[te];if(G.length==0)continue;const N=He(G);if(N==null){console.error(`line ${te+1}: invalid line`);break}vn(N);const C=_e(N);te>0&&(Q+=`
`),Q+=C}c(s,x(Q))}async function u(){await navigator.clipboard.writeText(a(s)),alert("¡Líneas copiadas al portapapeles!")}Te(()=>{c(r,a(r)+`Comment: 0,0:01:15.11,0:01:17.74,Romaji,,0,0,0,karaoke,dareka wo mamoreru watashi ni natte
`),c(r,a(r)+`Comment: 0,0:01:17.85,0:01:20.44,Romaji,,0,0,0,karaoke,mune wo hatte itsuka omoerun da
`),c(r,a(r)+`Comment: 0,0:01:20.58,0:01:30.42,Romaji,,0,0,0,karaoke,ano hi kimi ni deaete yokatta
`),c(o,x(a(r))),l()});var f=er();je(R=>{Be.title=n});var m=b(f);m.textContent=n;var p=_(m,2),w=b(p),d=b(w);v(w);var g=_(w,2),h=b(g);ke(h),h.__input=l,v(g),v(p);var O=_(p,2),j=b(O),S=b(j),Y=_(S);Y.__click=[Qn,u],Y.__keydown=[Zn],v(j);var U=_(j,2),k=b(U);ke(k),v(U),v(O),v(f),le(()=>{oe(d,`${de.subtitulos} (romaji)`),Je(h,"placeholder",a(r)),oe(S,`${de.resultado} `)}),me(h,()=>a(o),R=>c(o,R)),me(k,()=>a(s),R=>c(s,R)),H(e,f),Ae()}Le(["input","click","keydown"]);var ar=ae('<p class="error svelte-tm085k"> </p>'),nr=ae("<button> </button>"),rr=ae('<p class="preview"> <b> </b></p>'),or=(e,t)=>t(),sr=()=>{},ir=ae('<section class="svelte-tm085k"><h1></h1> <div class="field"><label class="label" for="">Karaoke</label> <div class="control"><input class="input" type="text"></div></div> <!> <div class="mb-2"><label class="label mt-2" for="">Sílaba divisoria</label> <div class="buttons"></div></div> <div class="field"><label class="label" for="">Vista previa</label> <!></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function lr(e,t){Re(t,!0);const n=de.dividirKaraoke,r="Comment: 0,0:02:44.95,0:02:50.57,Romaji C,,0,0,0,karaoke,{\\kf32}ko{\\kf34}no {\\kf32}de{\\kf32}a{\\kf18}i {\\kf49}ga{\\kf31}{\\k0} {\\kf37}mi{\\kf31}n{\\kf34}na {\\kf19}wo {\\kf31}ka{\\kf34}e{\\kf63}ru {\\kf52}ka{\\kf33}na";let o=y(r),s=y(x([])),l=y(""),u=y(x([])),f=y(0),m=y("");function p(){const T=He(a(o));if(T==null)return;const A=fe(T.content);Ft(A);const P=0;let q=a(u)[a(f)].index+1,B=0;for(let z=0;z<=a(f);z++){const ce=a(u)[z];ce.centiseconds!=null&&(B+=ce.centiseconds)}const L=Mt(T.start),D=Mt(T.end),I=A.slice(P,q);T.content=pe(I);const F=B/100;T.end=yt(L+F),c(l,x(_e(T)));let W=!0,ne=0;for(;W;){const z=A[q+1];if((z==null?void 0:z.name)!="text"){W=!1;break}if(W=z.value.replaceAll(" ","").length===0,W&&(q+=2,ne++),ne>a(u).length)break}let ie=0;for(let z=a(f)+1+ne;z<a(u).length;z++){const ce=a(u)[z];ce.centiseconds!=null&&(ie+=ce.centiseconds)}const J=A.slice(q);T.end=yt(D),T.start=yt(D-ie/100),T.content=pe(J),c(l,a(l)+(`
`+_e(T))),c(s,x([pe(I.filter(z=>z.name=="text")),pe(J.filter(z=>z.name=="text"))]))}async function w(){await navigator.clipboard.writeText(a(l)),alert("¡Líneas copiadas al portapapeles!")}function d(){c(s,x([])),c(l,""),c(u,x([])),c(f,0),c(m,"");const T=He(a(o));if(T==null)return c(m,`Línea de karaoke inválida. Se esperaba el formato: <${r}>.`),[];const A=fe(T.content);Ft(A);for(let P=0;P<A.length;P++){const q=A[P];if(q.name!="text")continue;a(u).push({index:P,text:q.value.replaceAll(" ",""),centiseconds:null});const B=P-1;if(B<0)continue;const L=A[B];if(L.name!="effect")continue;const D=L.tags.find(F=>F.name===Ve.kLowerCase||F.name===Ve.kUpperCase||F.name===Ve.kf||F.name===Ve.ko);D==null||!(D.name===Ve.kLowerCase||D.name===Ve.kUpperCase||D.name===Ve.kf||D.name===Ve.ko)||(a(u)[a(u).length-1].centiseconds=D.value)}return c(f,x(Math.floor(a(u).length/2))),p(),a(u)}Te(()=>{d()});var g=ir();je(T=>{Be.title=n});var h=b(g);h.textContent=n;var O=_(h,2),j=_(b(O),2),S=b(j);Ge(S),Je(S,"placeholder",r),S.__input=d,v(j),v(O);var Y=_(O,2);{var U=T=>{var A=ar(),P=b(A,!0);v(A),le(()=>oe(P,a(m))),H(T,A)};se(Y,T=>{a(m)!=""&&T(U)})}var k=_(Y,2),R=_(b(k),2);nt(R,21,()=>a(u),at,(T,A,P)=>{var q=we(),B=Ee(q);{var L=D=>{var I=nr();I.__click=()=>{c(f,x(P)),p()};var F=b(I,!0);v(I),le(()=>{Ke(I,`button ${(P===a(f)?"is-link":"")??""}`),Je(I,"title",`${a(A).text}: ${a(A).centiseconds} centésimas`),oe(F,a(A).text)}),H(D,I)};se(B,D=>{a(A).text.replaceAll(" ","").length>0&&D(L)})}H(T,q)}),v(R),v(k);var Q=_(k,2),te=_(b(Q),2);nt(te,17,()=>a(s),at,(T,A,P)=>{var q=rr(),B=b(q);B.nodeValue=`Línea ${P+1}: `;var L=_(B),D=b(L,!0);v(L),v(q),le(()=>oe(D,a(A))),H(T,q)}),v(Q);var G=_(Q,2),N=b(G),C=b(N),M=_(C);M.__click=[or,w],M.__keydown=[sr],v(N);var K=_(N,2),re=b(K);ke(re),v(K),v(G),v(g),le(()=>oe(C,`${de.resultado} `)),me(S,()=>a(o),T=>c(o,T)),me(re,()=>a(l),T=>c(l,T)),H(e,g),Ae()}Le(["input","click","keydown"]);var Gt;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Gt||(Gt={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(jt||(jt={}));var Bt;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Bt||(Bt={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt=["user","model","function","system"];var Pt;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Pt||(Pt={}));var Ut;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Ut||(Ut={}));var Kt;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Kt||(Kt={}));var zt;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(zt||(zt={}));var dt;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER"})(dt||(dt={}));var Yt;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(Yt||(Yt={}));var Xt;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(Xt||(Xt={}));var Jt;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Jt||(Jt={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class et extends Ce{constructor(t,n){super(t),this.response=n}}class pa extends Ce{constructor(t,n,r,o){super(t),this.status=n,this.statusText=r,this.errorDetails=o}}class Xe extends Ce{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="https://generativelanguage.googleapis.com",ur="v1beta",dr="0.21.0",fr="genai-js";var Ze;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ze||(Ze={}));class vr{constructor(t,n,r,o,s){this.model=t,this.task=n,this.apiKey=r,this.stream=o,this.requestOptions=s}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||ur;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||cr}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function hr(e){const t=[];return e!=null&&e.apiClient&&t.push(e.apiClient),t.push(`${fr}/${dr}`),t.join(" ")}async function gr(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",hr(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(o){throw new Xe(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${o.message}`)}for(const[o,s]of r.entries()){if(o==="x-goog-api-key")throw new Xe(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new Xe(`Header name ${o} can only be set using the apiClient field`);n.append(o,s)}}return n}async function br(e,t,n,r,o,s){const l=new vr(e,t,n,r,s);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},Er(s)),{method:"POST",headers:await gr(l),body:o})}}async function ht(e,t,n,r,o,s={},l=fetch){const{url:u,fetchOptions:f}=await br(e,t,n,r,o,s);return pr(u,f,l)}async function pr(e,t,n=fetch){let r;try{r=await n(e,t)}catch(o){_r(o,e)}return r.ok||await mr(r,e),r}function _r(e,t){let n=e;throw e instanceof pa||e instanceof Xe||(n=new Ce(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function mr(e,t){let n="",r;try{const o=await e.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,r=o.error.details)}catch{}throw new pa(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function Er(e){const t={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const n=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>n.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),gt(e.candidates[0]))throw new et(`${Ue(e)}`,e);return yr(e)}else if(e.promptFeedback)throw new et(`Text not available. ${Ue(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),gt(e.candidates[0]))throw new et(`${Ue(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Wt(e)[0]}else if(e.promptFeedback)throw new et(`Function call not available. ${Ue(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),gt(e.candidates[0]))throw new et(`${Ue(e)}`,e);return Wt(e)}else if(e.promptFeedback)throw new et(`Function call not available. ${Ue(e)}`,e)},e}function yr(e){var t,n,r,o;const s=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const l of(o=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)l.text&&s.push(l.text),l.executableCode&&s.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&s.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return s.length>0?s.join(""):""}function Wt(e){var t,n,r,o;const s=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const l of(o=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)l.functionCall&&s.push(l.functionCall);if(s.length>0)return s}const xr=[dt.RECITATION,dt.SAFETY,dt.LANGUAGE];function gt(e){return!!e.finishReason&&xr.includes(e.finishReason)}function Ue(e){var t,n,r;let o="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)o+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(o+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const s=e.candidates[0];gt(s)&&(o+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(o+=`: ${s.finishMessage}`))}return o}function ft(e){return this instanceof ft?(this.v=e,this):new ft(e)}function Cr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,s=[];return o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o;function l(d){r[d]&&(o[d]=function(g){return new Promise(function(h,O){s.push([d,g,h,O])>1||u(d,g)})})}function u(d,g){try{f(r[d](g))}catch(h){w(s[0][3],h)}}function f(d){d.value instanceof ft?Promise.resolve(d.value.v).then(m,p):w(s[0][2],d)}function m(d){u("next",d)}function p(d){u("throw",d)}function w(d,g){d(g),s.shift(),s.length&&u(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function wr(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Rr(t),[r,o]=n.tee();return{stream:kr(r),response:Sr(o)}}async function Sr(e){const t=[],n=e.getReader();for(;;){const{done:r,value:o}=await n.read();if(r)return Tt(Ar(t));t.push(o)}}function kr(e){return Cr(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:o}=yield ft(n.read());if(o)break;yield yield ft(Tt(r))}})}function Rr(e){const t=e.getReader();return new ReadableStream({start(r){let o="";return s();function s(){return t.read().then(({value:l,done:u})=>{if(u){if(o.trim()){r.error(new Ce("Failed to parse stream"));return}r.close();return}o+=l;let f=o.match(Qt),m;for(;f;){try{m=JSON.parse(f[1])}catch{r.error(new Ce(`Error parsing JSON response: "${f[1]}"`));return}r.enqueue(m),o=o.substring(f[0].length),f=o.match(Qt)}return s()})}}})}function Ar(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e){if(r.candidates)for(const o of r.candidates){const s=o.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:o.index}),n.candidates[s].citationMetadata=o.citationMetadata,n.candidates[s].groundingMetadata=o.groundingMetadata,n.candidates[s].finishReason=o.finishReason,n.candidates[s].finishMessage=o.finishMessage,n.candidates[s].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[s].content||(n.candidates[s].content={role:o.content.role||"user",parts:[]});const l={};for(const u of o.content.parts)u.text&&(l.text=u.text),u.functionCall&&(l.functionCall=u.functionCall),u.executableCode&&(l.executableCode=u.executableCode),u.codeExecutionResult&&(l.codeExecutionResult=u.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),n.candidates[s].content.parts.push(l)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(e,t,n,r){const o=await ht(t,Ze.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return wr(o)}async function ma(e,t,n,r){const s=await(await ht(t,Ze.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:Tt(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function vt(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return Tr(t)}function Tr(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,o=!1;for(const s of e)"functionResponse"in s?(n.parts.push(s),o=!0):(t.parts.push(s),r=!0);if(r&&o)throw new Ce("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new Ce("No content is provided for sending chat message.");return r?t:n}function Or(e,t){var n;let r={model:t==null?void 0:t.model,generationConfig:t==null?void 0:t.generationConfig,safetySettings:t==null?void 0:t.safetySettings,tools:t==null?void 0:t.tools,toolConfig:t==null?void 0:t.toolConfig,systemInstruction:t==null?void 0:t.systemInstruction,cachedContent:(n=t==null?void 0:t.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=e.generateContentRequest!=null;if(e.contents){if(o)throw new Xe("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(o)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const s=vt(e);r.contents=[s]}return{generateContentRequest:r}}function Zt(e){let t;return e.contents?t=e:t={contents:[vt(e)]},e.systemInstruction&&(t.systemInstruction=Ea(e.systemInstruction)),t}function Ir(e){return typeof e=="string"||Array.isArray(e)?{content:vt(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Nr={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Lr(e){let t=!1;for(const n of e){const{role:r,parts:o}=n;if(!t&&r!=="user")throw new Ce(`First content should be with role 'user', got ${r}`);if(!qt.includes(r))throw new Ce(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(qt)}`);if(!Array.isArray(o))throw new Ce("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new Ce("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of o)for(const f of ea)f in u&&(s[f]+=1);const l=Nr[r];for(const u of ea)if(!l.includes(u)&&s[u]>0)throw new Ce(`Content with role '${r}' can't contain '${u}' part`);t=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="SILENT_ERROR";class Dr{constructor(t,n,r,o={}){this.model=n,this.params=r,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(Lr(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,o,s,l,u,f;await this._sendPromise;const m=vt(t),p={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(f=this.params)===null||f===void 0?void 0:f.cachedContent,contents:[...this._history,m]},w=Object.assign(Object.assign({},this._requestOptions),n);let d;return this._sendPromise=this._sendPromise.then(()=>ma(this._apiKey,this.model,p,w)).then(g=>{var h;if(g.response.candidates&&g.response.candidates.length>0){this._history.push(m);const O=Object.assign({parts:[],role:"model"},(h=g.response.candidates)===null||h===void 0?void 0:h[0].content);this._history.push(O)}else{const O=Ue(g.response);O&&console.warn(`sendMessage() was unsuccessful. ${O}. Inspect response object for details.`)}d=g}),await this._sendPromise,d}async sendMessageStream(t,n={}){var r,o,s,l,u,f;await this._sendPromise;const m=vt(t),p={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(f=this.params)===null||f===void 0?void 0:f.cachedContent,contents:[...this._history,m]},w=Object.assign(Object.assign({},this._requestOptions),n),d=_a(this._apiKey,this.model,p,w);return this._sendPromise=this._sendPromise.then(()=>d).catch(g=>{throw new Error(ta)}).then(g=>g.response).then(g=>{if(g.candidates&&g.candidates.length>0){this._history.push(m);const h=Object.assign({},g.candidates[0].content);h.role||(h.role="model"),this._history.push(h)}else{const h=Ue(g);h&&console.warn(`sendMessageStream() was unsuccessful. ${h}. Inspect response object for details.`)}}).catch(g=>{g.message!==ta&&console.error(g)}),d}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fr(e,t,n,r){return(await ht(t,Ze.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mr(e,t,n,r){return(await ht(t,Ze.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function Vr(e,t,n,r){const o=n.requests.map(l=>Object.assign(Object.assign({},l),{model:t}));return(await ht(t,Ze.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:o}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Ea(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const o=Zt(t),s=Object.assign(Object.assign({},this._requestOptions),n);return ma(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),s)}async generateContentStream(t,n={}){var r;const o=Zt(t),s=Object.assign(Object.assign({},this._requestOptions),n);return _a(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),s)}startChat(t){var n;return new Dr(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=Or(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return Fr(this.apiKey,this.model,r,o)}async embedContent(t,n={}){const r=Ir(t),o=Object.assign(Object.assign({},this._requestOptions),n);return Mr(this.apiKey,this.model,r,o)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return Vr(this.apiKey,this.model,t,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Ce("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new aa(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new Xe("Cached content must contain a `name` field.");if(!t.model)throw new Xe("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const l of o)if(n!=null&&n[l]&&t[l]&&(n==null?void 0:n[l])!==t[l]){if(l==="model"){const u=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,f=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(u===f)continue}throw new Xe(`Different value for "${l}" specified in modelParams (${n[l]}) and cachedContent (${t[l]})`)}const s=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new aa(this.apiKey,s,r)}}function Hr(e,t){for(;e.endsWith(t);)e=e.substring(0,e.length-t.length);return e}const ya=["automático","carteles","diálogos","karaokes"],Gr=ze.enum(ya);async function jr(e,t,n){const r={errors:[],warnings:[]};if(e==="carteles")return r;const o=t.scriptInfo.properties.get("WrapStyle")??"",s="0";o!==s&&r.errors.push({location:"Script info, wrap style",error:`Se esperaba "${s}", pero se encontró "${o}"`,text:o,ignoreRule:""});const l=t.scriptInfo.properties.get("ScaledBorderAndShadow")??"",u="yes";l!==u&&r.errors.push({location:"Script info, scaled border and shadow",error:`Se esperaba "${u}", pero se encontró "${l}"`,text:l,ignoreRule:""});let f=0;const m="Español";let p="";for(let w=0;w<t.events.lines.length;w++){const d=t.events.lines[w],g=w+1;if(e!=="karaokes"&&d.effect.includes("template syl")){console.info(`template syl detectado en línea ${g}, pasando a modo karaokes`),e="karaokes";continue}if(e=="diálogos"&&d.type==Vt||d.content===""||e==="karaokes"&&d.style!==m||e==="karaokes"&&d.type!==Vt||e==="karaokes"&&d.effect!=="karaoke")continue;if(e==="karaokes"&&d.effect==="fx")break;const h=d.effect.split(" ").filter(S=>S.startsWith("ignorar-"));if(h.includes("ignorar-linea"))continue;Ur(t,d.style)||r.errors.push({location:`Línea ${g}`,error:"Estilo no encontrado",text:d.style,ignoreRule:"ignorar-estilo"});const O=fe(d.content);let j=pe(O.filter(S=>S.name==="text"));if(n!=null&&n.geminiEnabled&&e==="diálogos"){const S=Jr(j);p+=`
Línea ${g}: ${S}`}if(!h.includes("ignorar-inicio")){const S=Br(j);S!=null&&r.errors.push({location:`Línea ${g}`,error:S,text:d.content,ignoreRule:"ignorar-inicio"})}if(!h.includes("ignorar-espacios")){const S=Kr(j);S!=null&&r.errors.push({location:`Línea ${g}`,error:S,text:d.content,ignoreRule:"ignorar-espacios"})}if(!h.includes("ignorar-fin")){const S=qr(j);S!=null&&r.errors.push({location:`Línea ${g}`,error:S,text:d.content,ignoreRule:"ignorar-fin"})}if(!h.includes("ignorar-puntuacion")){const S=Pr(j);S!=null&&r.errors.push({location:`Línea ${g}`,error:S,text:d.content,ignoreRule:"ignorar-puntuacion"})}e==="karaokes"&&f++}if(n!=null&&n.geminiEnabled&&(n==null?void 0:n.geminiApiKey)!==""&&e==="diálogos"){const w=n.geminiApiKey??"",d=await Xr(p,w);if(d!=null)for(const g of d.errores){const h=t.events.lines[g.numeroLinea-1];let O=g.mensajeError;O.endsWith(".")&&O.substring(0,O.length-2),r.warnings.push({location:`Línea ${g.numeroLinea}`,error:O,text:h.content,ignoreRule:"ignorar-llm"})}}return e==="karaokes"&&f===0&&r.errors.push({location:`Línea ${t.events.lines.length}`,error:`No se encontraron líneas de karaoke con estilo "${m}"`,text:"",ignoreRule:""}),r}function Br(e){return e.startsWith("... ")?"los tres puntos van pegados":(e.startsWith("...")&&(e=e.substring(3)),/^(-\s|¡|¿|"|“)*[A-zÁÉÍÓÚáéíóú0-9ñÑ]/gm.test(e)?null:"inicio inválido")}function qr(e){e=Hr(e," ");const t=[".",",",";","...","!","?",":","~","-..."];return t.some(n=>e.endsWith(n))?null:`No tiene un fin de línea válido: ${t.map(n=>`"${n}"`).join(", ")}`}function Pr(e){for(let t=0;t<e.length;t++){const n=[",",";","."],r=e[t];if(!n.includes(r))continue;if(t+1>=e.length)break;let o=e[t+1];if(o==="\\"&&e[t+2]==="N"&&(o="\\N"),r==="."&&o=="."||r==="."&&e[t-1]==="."&&e[t-2]==="."||(r==="."||r===",")&&!Number.isNaN(Number(e[t-1]))&&!Number.isNaN(Number(e[t+1])))continue;if(![" ","\\N"].includes(o))return"La coma (,) y el punto y coma (;) deben ser seguidos de un espacio o salto de línea"}return null}function Ur(e,t){return e.styles.styles.some(n=>t===n.name)}function Kr(e){return e.includes("  ")?"hay dos espacios seguidos":null}function zr(e,t){return t!=="automático"?t:(e=e.toLocaleLowerCase(),e.includes("carteles")?"carteles":e.includes("subs")?"diálogos":e.includes("karaoke")?"karaokes":"diálogos")}const Yr=ze.object({errores:ze.object({numeroLinea:ze.number().default(0),mensajeError:ze.string().default("")}).array()});async function Xr(e,t){try{const s=new $r(t).getGenerativeModel({model:"gemini-2.0-flash",systemInstruction:`
            Valida todos los textos que recibas y retorna un JSON con la estructura:
            {
                "errores": [
                    "numeroLinea": 1,
                    "mensajeError": "descripción del error"
                ]
            }
            Considera 'N' como un espacio ' '.
            Ignora los espacios consecutivos, son son errores.
            Retorna sólo el JSON como texto plano.
        `}),l={temperature:1,topP:.95,topK:40,maxOutputTokens:8192,responseMimeType:"text/plain"};let m=(await s.startChat({generationConfig:l,history:[]}).sendMessage(e)).response.text();return m=m.replaceAll("```json",""),m=m.replaceAll("```",""),Yr.parse(JSON.parse(m))}catch(n){return console.error("error al validar subs con gemini",n),null}}function Jr(e){let t="";for(let n=0;n<e.length;n++){const r=e[n],o=e[n+1]??"",s=e[n+2]??"",l=e[n-1]??"";if(r==="\\"&&o==="N"){if(n++,s===" "||l===" ")continue;t+=" ";continue}t+=r}return t}const St=ze.object({userSubsMode:Gr.default("automático"),geminiEnabled:ze.boolean().default(!1),geminiApiKey:ze.string().default("")}),xa="asu.validarDialogos.options";function Ca(e){localStorage.setItem(xa,JSON.stringify(e))}function Wr(){try{const e=localStorage.getItem(xa)??"";return St.parse(JSON.parse(e))}catch(e){return console.error("error al cargar opciones de validar diálogos",e),St.parse({})}}async function Qr(e,t,n){t(!t()),await n()}var Zr=ae('<div class="area svelte-on5caf"><textarea readonly=""></textarea> <button class="button" aria-label="alternar"> </button></div>');function eo(e,t){Re(t,!0);let n=Qe(t,"rawMode",7),r=y(x(t.text)),o=y(1),s=y(void 0);async function l(){u(),await Pa(),f()}function u(){if(n()){c(r,x(t.text));return}const h=fe(t.text).filter(j=>j.name==="text");let O=pe(h);O=O.replaceAll("\\N",""),c(r,x(O))}function f(){c(o,x(m()))}function m(){return a(s)==null?1:Math.ceil(a(s).scrollHeight/a(s).clientHeight)}Te(async()=>{await l()});var p=Zr(),w=b(p);ke(w),Se(w,h=>c(s,h),()=>a(s));var d=_(w,2);d.__click=[Qr,n,l];var g=b(d,!0);v(d),v(p),le(()=>{Ke(w,`textarea ${(t.kind==="error"?"is-danger":"is-warning")??""} svelte-on5caf`),hn(w,a(r)),Je(w,"rows",a(o)),oe(g,n()?"Ocultar etiquetas":"Ver etiquetas")}),H(e,p),Ae()}Le(["click"]);var to=ae('<span class="ignore-rule">Para ignorar, colocar <b> </b> en campo de efecto.</span>'),ao=ae("<span> <!> <!></span>");function na(e,t){Re(t,!0);var n=ao(),r=b(n),o=_(r);{var s=f=>{eo(f,{get kind(){return t.kind},get text(){return t.subtitleError.text},rawMode:!1})};se(o,f=>{t.subtitleError.text!=""&&f(s)})}var l=_(o,2);{var u=f=>{var m=to(),p=_(b(m)),w=b(p,!0);v(p),Ye(),v(m),le(()=>oe(w,t.subtitleError.ignoreRule)),H(f,m)};se(l,f=>{t.subtitleError.ignoreRule!=""&&f(u)})}v(n),le(f=>{Ke(n,`file-error ${(t.kind==="error"?"has-text-danger":"has-text-warning")??""}`),oe(r,`${(t.kind==="error"?"Error":"Advertencia")??""}:
    ${t.subtitleError.location??""}:
    ${f??""} `)},[()=>t.subtitleError.error+(t.subtitleError.error.endsWith(".")?"":".")]),H(e,n),Ae()}async function no(e,t,n,r,o,s,l,u,f){var m;try{if(a(t).geminiEnabled&&a(t).geminiApiKey===""){alert("Ingrese el API KEY de Google Gemini."),c(n,!0);return}Ca(a(t));const p=[...((m=a(r))==null?void 0:m.files)??[]];c(o,0),c(s,x([])),c(l,!0);for(const w of p){const d=await w.text(),g=gn(d);if(g==null){console.error("archivo inválido",w.name);continue}c(u,x(zr(w.name,a(t).userSubsMode)));const h=await jr(a(u),g,{geminiEnabled:a(t).geminiEnabled,geminiApiKey:a(t).geminiApiKey});c(o,a(o)+h.errors.length),c(f,a(f)+h.warnings.length),a(s).push({subsType:a(u),fileName:w.name,errors:h.errors,warnings:h.warnings,errorsVisible:!1,warningsVisible:!1})}}catch(p){console.error("error al procesar archivos",p)}finally{a(r)!=null&&(a(r).value=""),c(l,!1)}}function ro(e,t,n){c(t,!a(t)),Ca(a(n))}var oo=ae("<option> </option>"),so=ae(`<div class="field"><label class="label" for="">API KEY</label> <div class="control"><input class="input" type="password" placeholder="Ingresa tu API KEY"></div></div> <p><a href="https://aistudio.google.com/apikey" target="_blank">Clic aquí para obtener una API KEY.</a></p> <p>Las validaciones de Google Gemini serán siempre advertencias
                    debido a su tendencia a tener falsos positivos.</p>`,1),io=ae('<div class="select is-fullwidth mb-2"><select></select></div> <div class="field"><label class="checkbox"><input type="checkbox"> Habilitar validación con Google Gemini (lento)</label> <!></div>',1),lo=ae('<div>Procesando...</div> <img class="result-image svelte-5mzqzm" src="img/mai-sakurajima.gif" alt="Seishun Buta Yarou wa Bunny Girl Senpai no Yume wo Minai" title="Seishun Buta Yarou wa Bunny Girl Senpai no Yume wo Minai">',1),co=ae('<img class="result-image svelte-5mzqzm" src="img/lucky-star-yay.gif" alt="Lucky Star" title="Lucky Star">'),uo=ae('<img class="result-image svelte-5mzqzm" src="img/nichijou.webp" alt="Nichijou" title="Nichijou">'),fo=ae(`<img class="result-image svelte-5mzqzm" src="img/under-arrest.gif" alt="You're Under Arrest" title="You're Under Arrest">`),vo=ae('<img class="result-image svelte-5mzqzm" src="img/new-game.gif" alt="New Game!" title="New Game!">'),ho=ae('<div class="counters mb-2"><div><b> </b></div> <div><b> </b></div></div> <!>',1),go=ae("<div> <!></div>"),bo=ae("<div> </div>"),po=(e,t)=>a(t).errorsVisible=!a(t).errorsVisible,_o=ae('<div class="file-errors svelte-5mzqzm"></div>'),mo=ae('<div class="errors-list svelte-5mzqzm"><button class="button has-text-danger svelte-5mzqzm"> </button> <!></div>'),Eo=(e,t)=>a(t).warningsVisible=!a(t).warningsVisible,yo=ae('<div class="file-errors svelte-5mzqzm"></div>'),xo=ae('<div class="warnings-list svelte-5mzqzm"><button class="button has-text-warning svelte-5mzqzm"> </button> <!></div>'),Co=ae('<div class="result svelte-5mzqzm"><span> </span> <!> <!> <!></div>'),wo=ae('<section class="svelte-5mzqzm"><h1></h1> <button class="button is-link is-fullwidth mb-2"> </button> <!> <div class="field mt-2"><input type="file" accept=".ass" multiple></div> <!> <!> <!></section>');function So(e,t){Re(t,!0);const n=de.validarDialogos;let r=y("diálogos"),o=y(void 0),s=y(0),l=y(0),u=y(x([])),f=y(!1),m=y(!1),p=y(x(St.parse({})));function w(N){return N.errors.length>0?"has-text-danger":N.warnings.length>0?"has-text-warning":"has-text-success"}Te(()=>{c(p,x(Wr()))});var d=wo();je(N=>{Be.title=n});var g=b(d);g.textContent=n;var h=_(g,2);h.__click=[ro,m,p];var O=b(h,!0);v(h);var j=_(h,2);{var S=N=>{var C=io(),M=Ee(C),K=b(M);nt(K,21,()=>ya,at,(B,L)=>{var D=oo(),I={},F=b(D);v(D),le(()=>{I!==(I=a(L))&&(D.value=(D.__value=a(L))==null?"":a(L)),oe(F,`Modo ${a(L)??""}`)}),H(B,D)}),v(K),v(M);var re=_(M,2),T=b(re),A=b(T);Ge(A),Ye(),v(T);var P=_(T,2);{var q=B=>{var L=so(),D=Ee(L),I=_(b(D),2),F=b(I);Ge(F),v(I),v(D),Ye(4),le(()=>F.disabled=a(f)),me(F,()=>a(p).geminiApiKey,W=>a(p).geminiApiKey=W),H(B,L)};se(P,B=>{a(p).geminiEnabled&&B(q)})}v(re),wn(K,()=>a(p).userSubsMode,B=>a(p).userSubsMode=B),bt(A,()=>a(p).geminiEnabled,B=>a(p).geminiEnabled=B),H(N,C)};se(j,N=>{a(m)&&N(S)})}var Y=_(j,2),U=b(Y);U.__change=[no,p,m,o,s,u,f,r,l],Se(U,N=>c(o,N),()=>a(o)),v(Y);var k=_(Y,2);{var R=N=>{var C=lo();Ye(2),H(N,C)};se(k,N=>{a(f)&&N(R)})}var Q=_(k,2);{var te=N=>{var C=ho(),M=Ee(C),K=b(M),re=b(K),T=b(re);v(re),v(K);var A=_(K,2),P=b(A),q=b(P);v(P),v(A),v(M);var B=_(M,2);{var L=I=>{var F=co();H(I,F)},D=I=>{var F=we(),W=Ee(F);{var ne=J=>{var z=uo();H(J,z)},ie=J=>{var z=we(),ce=Ee(z);{var ve=ue=>{var qe=fo();H(ue,qe)},be=ue=>{var qe=we(),We=Ee(qe);{var De=Fe=>{var rt=vo();H(Fe,rt)};se(We,Fe=>{a(l)>0&&Fe(De)},!0)}H(ue,qe)};se(ce,ue=>{a(s)>0?ue(ve):ue(be,!1)},!0)}H(J,z)};se(W,J=>{a(s)>10?J(ne):J(ie,!1)},!0)}H(I,F)};se(B,I=>{a(s)===0&&a(l)===0?I(L):I(D,!1)})}le(()=>{Ke(K,`counter ${(a(s)==0?"has-text-success":"has-text-danger")??""} mt-2 svelte-5mzqzm`),oe(T,`Errores: ${a(s)??""}`),Ke(A,`counter ${(a(l)==0?"has-text-success":"has-text-warning")??""} svelte-5mzqzm`),oe(q,`Advertencias: ${a(l)??""}`)}),H(N,C)};se(Q,N=>{a(u).length>0&&N(te)})}var G=_(Q,2);nt(G,17,()=>a(u),at,(N,C,M)=>{var K=Co(),re=b(K),T=b(re,!0);v(re);var A=_(re,2);{var P=F=>{var W=go(),ne=b(W),ie=_(ne);{var J=z=>{var ce=ra("Ignorado.");H(z,ce)};se(ie,z=>{a(C).subsType==="carteles"&&z(J)})}v(W),le(()=>{Ke(W,`has-text-success text-${a(C).subsType??""} svelte-5mzqzm`),oe(ne,`¡Todo en orden! Detectado como ${a(C).subsType??""}. `)}),H(F,W)},q=F=>{var W=bo(),ne=b(W);v(W),le(ie=>{Ke(W,xn(ie),"svelte-5mzqzm"),oe(ne,`Detectado como ${a(C).subsType??""}.`)},[()=>w(a(C))]),H(F,W)};se(A,F=>{a(C).errors.length==0&&a(C).warnings.length==0?F(P):F(q,!1)})}var B=_(A,2);{var L=F=>{var W=mo(),ne=b(W);ne.__click=[po,C];var ie=b(ne);v(ne);var J=_(ne,2);{var z=ce=>{var ve=_o();nt(ve,21,()=>a(C).errors,at,(be,ue)=>{na(be,{kind:"error",get subtitleError(){return a(ue)}})}),v(ve),H(ce,ve)};se(J,ce=>{a(C).errorsVisible&&ce(z)})}v(W),le(()=>oe(ie,`${(a(C).errorsVisible?"Ocultar errores":"Ver errores")??""}: ${a(C).errors.length??""}`)),H(F,W)};se(B,F=>{a(C).errors.length>0&&F(L)})}var D=_(B,2);{var I=F=>{var W=xo(),ne=b(W);ne.__click=[Eo,C];var ie=b(ne);v(ne);var J=_(ne,2);{var z=ce=>{var ve=yo();nt(ve,21,()=>a(C).warnings,at,(be,ue)=>{na(be,{kind:"warning",get subtitleError(){return a(ue)}})}),v(ve),H(ce,ve)};se(J,ce=>{a(C).warningsVisible&&ce(z)})}v(W),le(()=>oe(ie,`${(a(C).warningsVisible?"Ocultar advertencias":"Ver advertencias")??""}: ${a(C).warnings.length??""}`)),H(F,W)};se(D,F=>{a(C).warnings.length>0&&F(I)})}v(K),le(F=>{Ke(re,`name ${F??""} text-${a(C).subsType??""} svelte-5mzqzm`),oe(T,a(C).fileName)},[()=>w(a(C))]),H(N,K)}),v(d),le(()=>{oe(O,a(m)?"Ocultar opciones":"Ver opciones"),U.disabled=a(f)}),H(e,d),Ae()}Le(["click","change"]);function ko(e,t){Re(t,!0);let n=y("");Te(()=>{$t.subscribe(p=>{p!=null&&c(n,x(p))});const f=new URLSearchParams(location.search).get("pagina")??"",m=bn(f)?f:"inicio";$t.set(m)});var r=we(),o=Ee(r);{var s=u=>{Fn(u)},l=u=>{var f=we(),m=Ee(f);{var p=d=>{On(d,{})},w=d=>{var g=we(),h=Ee(g);{var O=S=>{Wn(S,{})},j=S=>{var Y=we(),U=Ee(Y);{var k=Q=>{Pn(Q,{})},R=Q=>{var te=we(),G=Ee(te);{var N=M=>{zn(M,{})},C=M=>{var K=we(),re=Ee(K);{var T=P=>{So(P,{})},A=P=>{var q=we(),B=Ee(q);{var L=I=>{lr(I,{})},D=I=>{var F=we(),W=Ee(F);{var ne=J=>{tr(J,{})},ie=J=>{var z=we(),ce=Ee(z);{var ve=be=>{Ln(be,{})};se(ce,be=>{a(n)=="acercaDe"&&be(ve)},!0)}H(J,z)};se(W,J=>{a(n)=="karaokes.dividirSilabas"?J(ne):J(ie,!1)},!0)}H(I,F)};se(B,I=>{a(n)=="karaokes.dividirKaraoke"?I(L):I(D,!1)},!0)}H(P,q)};se(re,P=>{a(n)=="dialogos.validarDialogos"?P(T):P(A,!1)},!0)}H(M,K)};se(G,M=>{a(n)=="carteles.aplicarColor"?M(N):M(C,!1)},!0)}H(Q,te)};se(U,Q=>{a(n)=="carteles.aplicarAlpha"?Q(k):Q(R,!1)},!0)}H(S,Y)};se(h,S=>{a(n)=="carteles.aplicarSecuenciaPosiciones"?S(O):S(j,!1)},!0)}H(d,g)};se(m,d=>{a(n)=="carteles.copiarMovimiento"?d(p):d(w,!1)},!0)}H(u,f)};se(o,u=>{a(n)=="inicio"?u(s):u(l,!1)})}H(e,r),Ae()}var Ro=ae('<section class="svelte-70scd4"><!></section>');function Fo(e){var t=Ro(),n=b(t);ko(n,{}),v(t),H(e,t)}export{Fo as component,Do as universal};
