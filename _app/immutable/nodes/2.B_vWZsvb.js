import{d as Ue,e as Ke,a as se,t as ye,s as pe,b as on,c as Be}from"../chunks/i1fDI1vN.js";import"../chunks/CViyrnNl.js";import{ah as Da,_ as Ta,ai as Ua,p as $a,H as je,I as sn,G as un,g as o,K as cn,L as Ia,M as xa,N as ya,R as oa,ar as dn,aw as da,O as Ka,P as Xa,Q as fn,au as Ya,ax as Va,ay as vn,a8 as pn,az as gn,aA as bn,a7 as hn,al as _n,a4 as mn,v as xn,y as yn,aB as wa,aC as Fa,a5 as kn,j as Pa,aD as qa,aE as An,aF as Nn,ak as En,aG as $n,b as Wa,x as Ja,z as Ve,ae as Qe,l as p,aH as Xe,D as y,F as A,E as m,B as Ee,C as Pe,ag as N,aI as ha,A as Oe}from"../chunks/jcKnBvlU.js";import{p as ra,i as Te}from"../chunks/DcOs7tl3.js";import{p as E,b as Fe}from"../chunks/BTtvfW3g.js";import{c as Cn,z as Za,r as aa,d as Le,t as ue,b as ua,s as Qa,a as Ha,i as Sn}from"../chunks/d02g59NA.js";import{i as wn}from"../chunks/iLu68Rik.js";function Fn(e){var t=Ua,n=$a;Da(null),Ta(null);try{return e()}finally{Da(t),Ta(n)}}function et(e,t,n,r=n){e.addEventListener(t,()=>Fn(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Cn()}function va(e,t){return t}function Ln(e,t,n,r){for(var i=[],l=t.length,c=0;c<l;c++)vn(t[c].e,i,!0);var a=l>0&&i.length===0&&n!==null;if(a){var v=n.parentNode;pn(v),v.append(n),r.clear(),Ze(e,t[0].prev,t[l-1].next)}gn(i,()=>{for(var b=0;b<l;b++){var h=t[b];a||(r.delete(h.k),Ze(e,h.prev,h.next)),bn(h.e,!a)}})}function pa(e,t,n,r,i,l=null){var c=e,a={flags:t,items:new Map,first:null},v=(t&qa)!==0;if(v){var b=e;c=je?xa(hn(b)):b.appendChild(_n())}je&&sn();var h=null,S=!1,w=mn(()=>{var _=n();return xn(_)?_:_==null?[]:Ya(_)});un(()=>{var _=o(w),x=_.length;if(S&&x===0)return;S=x===0;let $=!1;if(je){var Q=c.data===cn;Q!==(x===0)&&(c=Ia(),xa(c),ya(!1),$=!0)}if(je){for(var H=null,P,z=0;z<x;z++){if(oa.nodeType===8&&oa.data===dn){c=oa,$=!0,ya(!1);break}var G=_[z],C=r(G,z);P=at(oa,a,H,null,G,C,z,i,t),a.items.set(C,P),H=P}x>0&&xa(Ia())}if(!je){var k=Ua;Rn(_,a,c,i,t,(k.f&da)!==0,r)}l!==null&&(x===0?h?Ka(h):h=Xa(()=>l(c)):h!==null&&fn(h,()=>{h=null})),$&&ya(!0),o(w)}),je&&(c=oa)}function Rn(e,t,n,r,i,l,c,a){var Z,ae,j,T;var v=(i&An)!==0,b=(i&(wa|Fa))!==0,h=e.length,S=t.items,w=t.first,_=w,x,$=null,Q,H=[],P=[],z,G,C,k;if(v)for(k=0;k<h;k+=1)z=e[k],G=c(z,k),C=S.get(G),C!==void 0&&((Z=C.a)==null||Z.measure(),(Q??(Q=new Set)).add(C));for(k=0;k<h;k+=1){if(z=e[k],G=c(z,k),C=S.get(G),C===void 0){var re=_?_.e.nodes_start:n;$=at(re,t,$,$===null?t.first:$.next,z,G,k,r,i),S.set(G,$),H=[],P=[],_=$.next;continue}if(b&&Dn(C,z,k,i),C.e.f&da&&(Ka(C.e),v&&((ae=C.a)==null||ae.unfix(),(Q??(Q=new Set)).delete(C))),C!==_){if(x!==void 0&&x.has(C)){if(H.length<P.length){var ee=P[0],q;$=ee.prev;var F=H[0],M=H[H.length-1];for(q=0;q<H.length;q+=1)Ma(H[q],ee,n);for(q=0;q<P.length;q+=1)x.delete(P[q]);Ze(t,F.prev,M.next),Ze(t,$,F),Ze(t,M,ee),_=ee,$=M,k-=1,H=[],P=[]}else x.delete(C),Ma(C,_,n),Ze(t,C.prev,C.next),Ze(t,C,$===null?t.first:$.next),Ze(t,$,C),$=C;continue}for(H=[],P=[];_!==null&&_.k!==G;)(l||!(_.e.f&da))&&(x??(x=new Set)).add(_),P.push(_),_=_.next;if(_===null)continue;C=_}H.push(C),$=C,_=C.next}if(_!==null||x!==void 0){for(var B=x===void 0?[]:Ya(x);_!==null;)(l||!(_.e.f&da))&&B.push(_),_=_.next;var J=B.length;if(J>0){var V=i&qa&&h===0?n:null;if(v){for(k=0;k<J;k+=1)(j=B[k].a)==null||j.measure();for(k=0;k<J;k+=1)(T=B[k].a)==null||T.fix()}Ln(t,B,V,S)}}v&&yn(()=>{var U;if(Q!==void 0)for(C of Q)(U=C.a)==null||U.apply()}),$a.first=t.first&&t.first.e,$a.last=$&&$.e}function Dn(e,t,n,r){r&wa&&Va(e.v,t),r&Fa?Va(e.i,n):e.i=n}function at(e,t,n,r,i,l,c,a,v,b){var h=(v&wa)!==0,S=(v&Nn)===0,w=h?S?kn(i):Pa(i):i,_=v&Fa?Pa(c):c,x={i:_,v:w,k:l,a:null,e:null,prev:n,next:r};try{return x.e=Xa(()=>a(e,w,_),je),x.e.prev=n&&n.e,x.e.next=r&&r.e,n===null?t.first=x:(n.next=x,n.e.next=x.e),r!==null&&(r.prev=x,r.e.prev=x.e),x}finally{}}function Ma(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,l=e.e.nodes_start;l!==r;){var c=En(l);i.before(l),l=c}}function Ze(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function ke(e,t,n=t){var r=$n();et(e,"input",i=>{var l=i?e.defaultValue:e.value;if(l=ka(e)?Aa(l):l,n(l),r&&l!==(l=t())){var c=e.selectionStart,a=e.selectionEnd;e.value=l??"",a!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(a,e.value.length))}}),(je&&e.defaultValue!==e.value||Wa(t)==null&&e.value)&&n(ka(e)?Aa(e.value):e.value),Ja(()=>{var i=t();ka(e)&&i===Aa(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function La(e,t,n=t){et(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),(je&&e.defaultChecked!==e.checked||Wa(t)==null)&&n(e.checked),Ja(()=>{var r=t();e.checked=!!r})}function ka(e){var t=e.type;return t==="number"||t==="range"}function Aa(e){return e===""?null:+e}const Tn=!0,Po=Object.freeze(Object.defineProperty({__proto__:null,prerender:Tn},Symbol.toStringTag,{value:"Module"}));function oe(e){return parseInt(e,16)}function fa(e){return Math.floor(e).toString(16).padStart(2,"0").toUpperCase()}function Na(e,t,n){const r=e>t;let i=t,l=e;r&&(i=e,l=t);const a=(i-l)/n;let v=l;const b=[l];for(let h=1;h<n;h++)v+=a,b.push(v);return b[n-1]=i,r&&b.reverse(),b}const In=/^(\(.*\)|\\?.)$/,ea=e=>{const t=e.toString();return In.test(t)?t:`(?:${t})`},Vn=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,Pn=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,K=e=>{const t=n=>K(`(?<${n}>${`${e}`.replace(Vn,"$1$2")})`);return{toString:()=>e.toString(),and:Object.assign((...n)=>K(`${e}${f(...n)}`),{referenceTo:n=>K(`${e}\\k<${n}>`)}),or:(...n)=>K(`(?:${e}|${f(...n)})`),after:(...n)=>K(`(?<=${f(...n)})${e}`),before:(...n)=>K(`${e}(?=${f(...n)})`),notAfter:(...n)=>K(`(?<!${f(...n)})${e}`),notBefore:(...n)=>K(`${e}(?!${f(...n)})`),times:Object.assign(n=>K(`${ea(e)}{${n}}`),{any:()=>K(`${ea(e)}*`),atLeast:n=>K(`${ea(e)}{${n},}`),atMost:n=>K(`${ea(e)}{0,${n}}`),between:(n,r)=>K(`${ea(e)}{${n},${r}}`)}),optionally:()=>K(`${ea(e)}?`),as:t,groupedAs:t,grouped:()=>K(`${e}`.replace(Pn,"($1$3)$2")),at:{lineStart:()=>K(`^${e}`),lineEnd:()=>K(`${e}$`)}}},Hn=/[.*+?^${}()|[\]\\/]/g,Se=e=>K(`[^${e.replace(/[-\\^\]]/g,"\\$&")}]`),Mn=(...e)=>K(`(?:${e.map(t=>f(t)).join("|")})`),Bn=K(".");K("\\b\\w+\\b");K("\\w");K("\\b");const Ie=K("\\d");K("\\s");const On=Object.assign(K("[a-zA-Z]"),{lowercase:K("[a-z]"),uppercase:K("[A-Z]")});K("\\t");K("\\n");K("\\r");K("\\W+"),K("\\W"),K("\\B"),K("\\D"),K("\\S"),Object.assign(K("[^a-zA-Z]"),{lowercase:K("[^a-z]"),uppercase:K("[^A-Z]")}),K("[^\\t]"),K("[^\\n]"),K("[^\\r]");const f=(...e)=>K(e.map(t=>typeof t=="string"?t.replace(Hn,"\\$&"):t).join("")),ve=(...e)=>K(`${ea(f(...e))}+`),D=(...e)=>{const t=e.length>1&&(Array.isArray(e[e.length-1])||e[e.length-1]instanceof Set)?e.pop():void 0;return new RegExp(f(...e).toString(),[...t||""].join(""))},zn=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,Gn=/^[^\\]+/g,tt=/(?<sil>(?:sha|shi|shu|she|sho|cha|chi|chu|che|cho|tsu|kya|kyi|kyu|kye|kyo|gya|gyi|gyu|gye|gyo|sya|syu|syi|sye|syo|zya|zyu|zyi|zye|zyo|jya|jyu|jyi|jye|jyo|tya|tyi|tyu|tye|tyo|dya|dyi|dyu|dye|dyo|nya|nyi|nyu|nye|nyo|hya|hyi|hyu|hye|hyo|fya|fyi|fyu|fye|fyo|bya|byi|byu|bye|byo|pya|pyi|pyu|pye|pyo|mya|myi|myu|mye|myo|rya|ryi|ryu|rye|ryo|vya|vyi|vyu|vye|vyo|ka|ki|ku|ke|ko|ga|gi|gu|ge|go|sa|su|si|se|so|za|zu|zi|ze|zo|ja|ju|ji|je|jo|ta|ti|tu|te|to|da|di|du|de|do|na|ni|nu|ne|no|ha|hi|hu|he|ho|fa|fi|fu|fe|fo|ba|bi|bu|be|bo|pa|pi|pu|pe|po|ma|mi|mu|me|mo|ya|yi|yu|ye|yo|ra|ri|ru|re|ro|wa|wo|va|vi|vu|ve|vo|a|i|u|e|o|n|t)[^a-zA-Z\d\s:]*\s?)/g,Ba=ve(Ie).and(f(":")).and(Ie.times(2)).and(f(":")).and(Ie.times(2)).and(f(".")).and(Ie.times(2)),jn=Mn("Dialogue","Comment").groupedAs("type").and(f(": ")).and(ve(Ie).optionally().groupedAs("layer")).and(f(",")).and(Ba.optionally().groupedAs("start")).and(f(",")).and(Ba.optionally().groupedAs("end")).and(f(",")).and(ve(Se(",").optionally()).groupedAs("style")).and(f(",")).and(ve(Se(",")).optionally().groupedAs("actor")).and(f(",")).and(ve(Ie).optionally().groupedAs("marginLeft")).and(f(",")).and(ve(Ie).optionally().groupedAs("marginRight")).and(f(",")).and(ve(Ie).optionally().groupedAs("marginVertical")).and(f(",")).and(ve(Se(",")).optionally().groupedAs("effect")).and(f(",")).and(ve(Bn).optionally().groupedAs("content")),Un=D(jn),Kn=f("-").optionally().and(ve(Ie)),I=Kn.and(f(".").and(ve(Ie)).optionally()),nt=f("\\").and("a").and(I.groupedAs("a_value")),Xn=D(nt),Ne=On.or(Ie).times(2),rt=f("&H").and(Ne.groupedAs("color_bgr_blue")).and(Ne.groupedAs("color_bgr_green")).and(Ne.groupedAs("color_bgr_red")).and(f("&")),lt=f("\\c").and(rt),ot=f("\\1c").and(f("&H")).and(Ne.groupedAs("color1_bgr_blue")).and(Ne.groupedAs("color1_bgr_green")).and(Ne.groupedAs("color1_bgr_red")).and(f("&")),st=f("\\2c").and(f("&H")).and(Ne.groupedAs("color2_bgr_blue")).and(Ne.groupedAs("color2_bgr_green")).and(Ne.groupedAs("color2_bgr_red")).and(f("&")),it=f("\\3c").and(f("&H")).and(Ne.groupedAs("color3_bgr_blue")).and(Ne.groupedAs("color3_bgr_green")).and(Ne.groupedAs("color3_bgr_red")).and(f("&")),ut=f("\\4c").and(f("&H")).and(Ne.groupedAs("color4_bgr_blue")).and(Ne.groupedAs("color4_bgr_green")).and(Ne.groupedAs("color4_bgr_red")).and(f("&")),Yn=D(rt),qn=D(lt),Wn=D(ot),Jn=D(st),Zn=D(it),Qn=D(ut),ct=f("\\").and("alpha").and(ve(Se("\\")).groupedAs("alpha_value")),er=D(ct),dt=f("\\").and("1a").and(ve(Se("\\")).groupedAs("alpha1_value")),ar=D(dt),ft=f("\\").and("2a").and(ve(Se("\\")).groupedAs("alpha2_value")),tr=D(ft),vt=f("\\").and("3a").and(ve(Se("\\")).groupedAs("alpha3_value")),nr=D(vt),pt=f("\\").and("4a").and(ve(Se("\\")).groupedAs("alpha4_value")),rr=D(pt),gt=f("\\").and("k").and(I.groupedAs("k_lower_case_value")),lr=D(gt),bt=f("\\").and("K").and(I.groupedAs("k_upper_case_value")),or=D(bt),ht=f("\\").and("kf").and(I.groupedAs("kf_value")),sr=D(ht),_t=f("\\").and("ko").and(I.groupedAs("ko_value")),ir=D(_t),mt=f("\\").and("q").and(I.groupedAs("q_value")),ur=D(mt),xt=f("\\").and("s").and(I.groupedAs("s_value")),cr=D(xt),yt=f("\\").and("u").and(I.groupedAs("u_value")),dr=D(yt),kt=f("\\").and("r").and(ve(Se("\\")).groupedAs("r_value")),fr=D(kt),At=f("\\").and("fe").and(I.groupedAs("fe_value")),vr=D(At),Nt=f("\\").and("fn").and(ve(Se("\\")).groupedAs("fn_value")),pr=D(Nt),Et=f("\\").and("p").and(I.groupedAs("p_value")),gr=D(Et),$t=f("\\").and("pbo").and(I.groupedAs("pbo_value")),br=D($t),Ct=f("\\").and("an").and(I.groupedAs("an_value")),hr=D(Ct),St=f("\\").and("b").and(I.groupedAs("b_value")),_r=D(St),wt=f("\\").and("be").and(I.groupedAs("be_value")),mr=D(wt),Ft=f("\\").and("blur").and(I.groupedAs("blur_value")),xr=D(Ft),Lt=f("\\").and("bord").and(I.groupedAs("bord_value")),yr=D(Lt),Rt=f("\\").and("xbord").and(I.groupedAs("xbord_value")),kr=D(Rt),Dt=f("\\").and("ybord").and(I.groupedAs("ybord_value")),Ar=D(Dt),Tt=f("\\").and("shad").and(I.groupedAs("shad_value")),Nr=D(Tt),It=f("\\").and("xshad").and(I.groupedAs("xshad_value")),Er=D(It),Vt=f("\\").and("yshad").and(I.groupedAs("yshad_value")),$r=D(Vt),Pt=f("\\").and("fax").and(I.groupedAs("fax_value")),Cr=D(Pt),Ht=f("\\").and("fay").and(I.groupedAs("fay_value")),Sr=D(Ht),Mt=f("\\").and("fscx").and(I.groupedAs("fscx_value")),wr=D(Mt),Bt=f("\\").and("fscy").and(I.groupedAs("fscy_value")),Fr=D(Bt),Ot=f("\\").and("fsp").and(I.groupedAs("fsp_value")),Lr=D(Ot),zt=f("\\").and("fr").and(I.groupedAs("fr_value")),Rr=D(zt),Gt=f("\\").and("frx").and(I.groupedAs("frx_value")),Dr=D(Gt),jt=f("\\").and("fry").and(I.groupedAs("fry_value")),Tr=D(jt),Ut=f("\\").and("frz").and(I.groupedAs("frz_value")),Ir=D(Ut),Kt=f("\\").and("i").and(f("1").or("0").groupedAs("i_value")),Vr=D(Kt),Xt=f("\\").and("fs").and(I.groupedAs("fs_value")),Pr=D(Xt),Yt=f("\\").and("pos").and(f("(")).and(I.groupedAs("pos_x")).and(f(",")).and(I.groupedAs("pos_y")).and(f(")")),Hr=D(Yt),qt=f("\\").and("org").and(f("(")).and(I.groupedAs("org_x")).and(f(",")).and(I.groupedAs("org_y")).and(f(")")),Mr=D(qt),Wt=f("\\").and("fad").and(f("(")).and(I.groupedAs("in")).and(f(",")).and(I.groupedAs("out")).and(f(")")),Br=D(Wt),Jt=f("\\").and("fade").and(f("(")).and(I.groupedAs("fade_alpha1")).and(f(",")).and(I.groupedAs("fade_alpha2")).and(f(",")).and(I.groupedAs("fade_alpha3")).and(f(",")).and(I.groupedAs("fade_t1")).and(f(",")).and(I.groupedAs("fade_t2")).and(f(",")).and(I.groupedAs("fade_t3")).and(f(",")).and(I.groupedAs("fade_t4")).and(f(")")),Or=D(Jt),zr=f(",").and(I.groupedAs("move_t1")).and(f(",")).and(I.groupedAs("move_t2")).optionally(),Zt=f("\\").and("move").and(f("(")).and(I.groupedAs("move_x1")).and(f(",")).and(I.groupedAs("move_y1")).and(f(",")).and(I.groupedAs("move_x2")).and(f(",")).and(I.groupedAs("move_y2")).and(zr).and(f(")")),Gr=D(Zt),Qt=f("\\").and("clip").and(f("(")).and(ve(Se(")")).groupedAs("clip_args")).and(f(")")),jr=D(Qt),en=f("\\").and("iclip").and(f("(")).and(ve(Se(")")).groupedAs("iclip_args")).and(f(")")),Ur=D(en),Kr=f("\\").and(ve(Se("\\")).groupedAs("unknown_value")),an=wt.or(ct).or(Rt).or(Dt).or(It).or(Vt).or(en).or(Zt).or(Ft).or(Lt).or(Tt).or(Mt).or(Bt).or(Jt).or(Qt).or(Ot).or(Yt).or(qt).or(Wt).or($t).or(Gt).or(jt).or(Ut).or(Pt).or(Ht).or(_t).or(ht).or(zt).or(Xt).or(At).or(Nt).or(Ct).or(ot).or(st).or(it).or(ut).or(dt).or(ft).or(vt).or(pt).or(lt).or(mt).or(yt).or(xt).or(Et).or(kt).or(Kt).or(St).or(nt).or(gt).or(bt).or(Kr),Xr=f("\\").at.lineStart().and("t").and(f("(")).and(I.groupedAs("arg1").and(f(",")).optionally()).and(I.groupedAs("arg2").and(f(",")).optionally()).and(I.groupedAs("arg3").and(f(",")).optionally()).and(ve(an).groupedAs("tags")).and(f(")")),Yr=D(an),tn=D(Xr);function Ea(e){const t=Math.floor(e/3600),n=Math.floor((e/3600-t)*60);return e=e-t*3600-n*60,{hours:t,minutes:n,seconds:e}}function Oa(e){var a,v,b;const t=/(?<h>\d+):(?<m>[0-9]{1,2}?):(?<s>[0-9]{1,2}(?:\.[0-9]{1,2})?)/,n=e.match(t);if(!n||n.length===0)return null;const r=Math.floor(Number(((a=n.groups)==null?void 0:a.h)??"0")),i=Math.floor(Number(((v=n.groups)==null?void 0:v.m)??"0")),l=Number(((b=n.groups)==null?void 0:b.s)??"0"),c={hours:r,minutes:i,seconds:l};return Ra(c),c}function Ra(e){e.seconds>=60&&(e.seconds-=60,e.minutes++),e.minutes>=60&&(e.minutes-=60,e.hours++),e.hours>=9&&(e.hours=9,e.minutes=59,e.seconds=59.99)}function za(e){Ra(e);const t=e.hours.toFixed(0),n=e.minutes.toFixed(0).padStart(2,"0"),r=e.seconds.toFixed(2).padStart(5,"0");return`${t}:${n}:${r}`}function ga(e){return Ra(e),e.hours*3600+e.minutes*60+e.seconds}var Ca;(function(e){e[e.DOWN_LEFT=1]="DOWN_LEFT",e[e.DOWN_CENTER=2]="DOWN_CENTER",e[e.DOWN_RIGHT=3]="DOWN_RIGHT",e[e.CENTER_LEFT=4]="CENTER_LEFT",e[e.CENTER_CENTER=5]="CENTER_CENTER",e[e.CENTER_RIGHT=6]="CENTER_RIGHT",e[e.UP_LEFT=7]="UP_LEFT",e[e.UP_CENTER=8]="UP_CENTER",e[e.UP_RIGHT=9]="UP_RIGHT"})(Ca||(Ca={}));const qr=Za.nativeEnum(Ca);var Sa;(function(e){e[e.ANSI=0]="ANSI",e[e.DEFAULT=1]="DEFAULT",e[e.SYMBOL=2]="SYMBOL",e[e.MAC=77]="MAC",e[e.SHIFT_JIS=128]="SHIFT_JIS",e[e.HANGEUL=129]="HANGEUL",e[e.JOHAB=130]="JOHAB",e[e.GB2312=134]="GB2312",e[e.CHINESE_BIG5=136]="CHINESE_BIG5",e[e.GREEK=161]="GREEK",e[e.TURKISH=162]="TURKISH",e[e.VIETNAMESE=163]="VIETNAMESE",e[e.HEBREW=177]="HEBREW",e[e.ARAB=178]="ARAB",e[e.BALTIC=186]="BALTIC",e[e.RUSSIAN=204]="RUSSIAN",e[e.THAI=222]="THAI",e[e.EASTERN_EUROPE=238]="EASTERN_EUROPE",e[e.OEM=255]="OEM"})(Sa||(Sa={}));const Wr=Za.nativeEnum(Sa);function Jr(){return{format:"Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text",lines:[]}}function Zr(){return{data:[]}}function Qr(){return{files:[]}}function el(){return{files:[]}}function al(){return{comments:[],properties:new Map}}function tl(){return{comments:[],properties:new Map}}function nl(){return{format:"Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding",styles:[]}}const rl="[Script Info]",ll="[Aegisub Project Garbage]",ol="[V4+ Styles]",sl="[Graphics]",il="[Fonts]",ul="[Events]",cl="[Aegisub Extradata]",ba="; ",Ga="Data: ";function dl(e){const t={scriptInfo:tl(),aegisubProjectGarbage:al(),styles:nl(),fonts:Qr(),graphics:el(),events:Jr(),extraData:Zr()},n="scriptInfo",r="projectGarbage",i="styles",l="fonts",c="graphics",a="events",v="extraData";let b="",h="";const S=e.split(`
`);for(let w=0;w<S.length;w++){const _=w+1,x=fl(S[w]);if(x.length===0)continue;switch(x){case rl:b=n;continue;case ll:b=r;continue;case ol:b=i;continue;case il:b=l;continue;case sl:b=c;continue;case ul:b=a;continue;case cl:b=v;continue}let $="";switch(b){case n:$=vl(t,x);break;case r:$=pl(t,x);break;case i:$=gl(t,x);break;case l:h=bl(t,x,h);break;case c:h=hl(t,x,h);break;case a:$=_l(t,x);break;case v:ml(t,x);break;default:console.error(`failed to parse line ${_}`);break}if($.length>0)return console.error(`failed to parse ass file at line ${_}: ${$}
Line:
${x}`),null}return t}function fl(e){return e=e.replaceAll("\\uFEFF",""),e=e.replaceAll("\r",""),e}function _a(e){var i,l;const t=/(?<key>.+):\s+(?<value>.*)\s*/,n={key:"",value:""},r=e.match(t);return!r||r.length===0?[n,`not a key-value pair: ${e}`]:(n.key=((i=r.groups)==null?void 0:i.key)??"",n.value=((l=r.groups)==null?void 0:l.value)??"",[n,""])}function vl(e,t){if(t.startsWith(ba)){const i=t.substring(ba.length);return e.scriptInfo.comments.push(i),""}const[n,r]=_a(t);return r.length>0?`failed to parse script info line: ${r}`:(e.scriptInfo.properties.set(n.key,n.value),"")}function pl(e,t){if(t.startsWith(ba)){const i=t.substring(ba.length);return e.aegisubProjectGarbage.comments.push(i),""}const[n,r]=_a(t);return r.length>0?`failed to parse script info line: ${r}`:(e.aegisubProjectGarbage.properties.set(n.key,n.value),"")}function gl(e,t){const n=/(?<name>.*)\s*,\s*(?<fontName>.*)\s*,\s*(?<fontSize>\d+(?:\.\d+)?)\s*,\s*&H(?<alpha1>[A-Fa-f0-9]{2})(?<color1>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha2>[A-Fa-f0-9]{2})(?<color2>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha3>[A-Fa-f0-9]{2})(?<color3>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha4>[A-Fa-f0-9]{2})(?<color4>[A-Fa-f0-9]{6})\s*,\s*(?<bold>0|-1)\s*,\s*(?<italic>0|-1)\s*,\s*(?<underline>0|-1)\s*,\s*(?<strikeout>0|-1)\s*,\s*(?<scaleX>\d+(?:\.\d+)?)\s*,\s*(?<scaleY>\d+(?:\.\d+)?)\s*,\s*(?<spacing>\d+(?:\.\d+)?)\s*,\s*(?<angle>-?\d+(?:\.\d+)?)\s*,\s*(?<borderStyle>\d+)\s*,\s*(?<outline>\d+(?:\.\d+)?)\s*,\s*(?<shadow>\d+(?:\.\d+)?)\s*,\s*(?<alignment>[1-9])\s*,\s*(?<marginLeft>\d+)\s*,\s*(?<marginRight>\d+)\s*,\s*(?<marginVertical>\d+)\s*,\s*(?<encoding>\d+)/;if(!t.startsWith("Style: "))return"";const r=t.match(n);if(!r||r.length===0||!r.groups)return`failed to parse style: not a style: ${t}`;const i=qr.safeParse(Number(r.groups.alignment));if(!i.success)return`failed to parse style: invalid alignment: ${t}`;const l=i.data,c=Wr.safeParse(Number(r.groups.encoding));if(!c.success)return`failed to parse style: invalid encoding: ${r.groups.encoding}`;const a=c.data,v={name:r.groups.name??"",fontName:r.groups.fontName??"",fontSize:Number(r.groups.fontSize??"0"),primaryAlpha:r.groups.alpha1,primaryColor:r.groups.color1,secondaryAlpha:r.groups.alpha2,secondaryColor:r.groups.color2,outlineAlpha:r.groups.alpha3,outlineColor:r.groups.color3,backAlpha:r.groups.alpha4,backColor:r.groups.color4,bold:Number(r.groups.bold),italic:Number(r.groups.italic),underline:Number(r.groups.underline),strikeOut:Number(r.groups.strikeout),scaleX:Number(r.groups.scaleX),scaleY:Number(r.groups.scaleY),spacing:Number(r.groups.spacing),angle:Number(r.groups.angle),borderStyle:Number(r.groups.borderStyle),outline:Number(r.groups.outline),shadow:Number(r.groups.shadow),alignment:l,marginLeft:Number(r.groups.marginLeft),marginRight:Number(r.groups.marginRight),marginVertical:Number(r.groups.marginVertical),encoding:a};return e.styles.styles.push(v),""}function bl(e,t,n){const[r,i]=_a(t);if(i.length===0&&r.key=="fontname"){const a=r.value;let v={name:"",data:[]},b=e.fonts.files.findIndex(h=>h.name===a);return e.fonts.files.push(v),b=e.fonts.files.length-1,v=e.fonts.files[b],v.name=a,n=a,a}const l=e.fonts.files.findLastIndex(a=>a.name==n);return l<0?"":(e.fonts.files[l].data.push(t),n)}function hl(e,t,n){const[r,i]=_a(t);if(i.length===0&&r.key=="filename"){const a=r.value;let v={name:"",data:[]},b=e.graphics.files.findIndex(h=>h.name===a);return e.graphics.files.push(v),b=e.graphics.files.length-1,v=e.graphics.files[b],v.name=a,n=a,a}const l=e.graphics.files.findLastIndex(a=>a.name==n);return l<0?"":(e.graphics.files[l].data.push(t),n)}function _l(e,t){if(t.startsWith("Format:"))return e.events.format=t,"";const n=Ge(t);return n==null?`not a event (dialogue / comment): ${n}`:(e.events.lines.push(n),"")}function ml(e,t){if(!t.startsWith(Ga))return;const n=t.substring(Ga.length);e.extraData.data.push(n)}function xl(e){const t=[],n=e.content.split(" ");for(let v=0;v<n.length;v++){const b=n[v];if(yl(b)){const h=b.matchAll(tt);for(const S of h)t.push({text:S[1],durationInMs:0})}else t.push({text:b,durationInMs:0});v!=n.length-1&&(t[t.length-1].text+=" ")}const r=Pl(e),i=Math.floor(Math.round(r*100/t.length)),l=t.length*i;for(const v of t)v.durationInMs=i;if(!(l===r*100)){const b=r*100-l;t[t.length-1].durationInMs+=b}const a=[];for(const v of t)a.push({name:"effect",tags:[{name:g.kf,value:v.durationInMs}]},{name:"text",value:v.text});e.content=xe(a)}function yl(e){for(;e.length>0;){const t=e.match(tt);if(!t||t.length===0)return!1;e=e.substring(t[0].length)}return!0}var g;(function(e){e.a="a",e.alpha="alpha",e.alpha1="1a",e.alpha2="2a",e.alpha3="3a",e.alpha4="4a",e.an="an",e.b="b",e.be="be",e.blur="blur",e.bord="bord",e.clip="clip",e.color="c",e.color1="1c",e.color2="2c",e.color3="3c",e.color4="4c",e.fad="fad",e.fade="fade",e.fax="fax",e.fay="fay",e.fe="fe",e.fn="fn",e.fr="fr",e.frx="frx",e.fry="fry",e.frz="frz",e.fs="fs",e.fscx="fscx",e.fscy="fscy",e.fsp="fsp",e.i="i",e.iclip="iclip",e.kLowerCase="k",e.kUpperCase="K",e.kf="kf",e.ko="ko",e.move="move",e.org="org",e.p="p",e.pbo="pbo",e.pos="pos",e.q="q",e.r="r",e.s="s",e.shad="shad",e.t="t",e.text="text",e.u="u",e.unknown="unknown",e.xbord="xbord",e.xshad="xshad",e.ybord="ybord",e.yshad="yshad"})(g||(g={}));function ca(e,t){var h,S,w,_,x,$,Q,H,P,z,G,C,k,re,ee,q,F,M,B,J,V,Z,ae,j,T,U,ne,te,de,fe,ce,X,ie,be,De,$e,Ae,we,ta,Ye,He,qe,na,We,Je,u,he,L,R,O,Y;const n=e.substring(1),r=e.match(tn);if(r&&r.length>0)return kl(e,t,n,r);const i=e.match(Gn);if(i&&i.length>0){const s=i[0];return t.push({name:g.text,value:s}),e=e.substring(s.length),e.length>0&&ca(e,t),t}const l=e.match(Yr);if(!l||l.length==0)return t;function c(s,d,W){return s.push(d),e=e.substring(W),e.length>0&&ca(e,s),s}let a=(h=l[0].match(Gr))==null?void 0:h.groups;if(a!=null){const s=Number((a==null?void 0:a.move_x1)??"0"),d=Number((a==null?void 0:a.move_y1)??"0"),W=Number((a==null?void 0:a.move_x2)??"0"),le=Number((a==null?void 0:a.move_y2)??"0"),_e=a!=null&&a.move_t1?Number(a.move_t1):null,Ce=a!=null&&a.move_t2?Number(a.move_t2):null,ma={name:g.move,x1:s,y1:d,x2:W,y2:le,t1:_e,t2:Ce};return c(t,ma,l[0].length)}if(a=(S=l[0].match(er))==null?void 0:S.groups,a!=null){const s=(a==null?void 0:a.alpha_value)??"",d={name:g.alpha,value:s};return c(t,d,l[0].length)}if(a=(w=l[0].match(kr))==null?void 0:w.groups,a!=null){const s=Number((a==null?void 0:a.xbord_value)??"0"),d={name:g.xbord,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(_=l[0].match(Ar))==null?void 0:_.groups,a!=null){const s=Number((a==null?void 0:a.ybord_value)??"0"),d={name:g.ybord,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(x=l[0].match(Er))==null?void 0:x.groups,a!=null){const s=Number((a==null?void 0:a.xshad_value)??"0"),d={name:g.xshad,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=($=l[0].match($r))==null?void 0:$.groups,a!=null){const s=Number((a==null?void 0:a.yshad_value)??"0"),d={name:g.yshad,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(Q=l[0].match(Ur))==null?void 0:Q.groups,a!=null){const s=(a==null?void 0:a.iclip_args)??"",d={name:g.iclip,drawCommands:s};return c(t,d,l[0].length)}if(a=(H=l[0].match(xr))==null?void 0:H.groups,a!=null){const s=Number((a==null?void 0:a.blur_value)??"0"),d={name:g.blur,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(P=l[0].match(yr))==null?void 0:P.groups,a!=null){const s=Number((a==null?void 0:a.bord_value)??"0"),d={name:g.bord,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(z=l[0].match(Nr))==null?void 0:z.groups,a!=null){const s=Number((a==null?void 0:a.shad_value)??"0"),d={name:g.shad,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(G=l[0].match(wr))==null?void 0:G.groups,a!=null){const s=Number((a==null?void 0:a.fscx_value)??"0"),d={name:g.fscx,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(C=l[0].match(Fr))==null?void 0:C.groups,a!=null){const s=Number((a==null?void 0:a.fscy_value)??"0"),d={name:g.fscy,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(k=l[0].match(Or))==null?void 0:k.groups,a!=null){const s=Number((a==null?void 0:a.fade_alpha1)??"0"),d=Number((a==null?void 0:a.fade_alpha2)??"0"),W=Number((a==null?void 0:a.fade_alpha3)??"0"),le=Number((a==null?void 0:a.fade_t1)??"0"),_e=Number((a==null?void 0:a.fade_t2)??"0"),Ce=Number((a==null?void 0:a.fade_t3)??"0"),ma=Number((a==null?void 0:a.fade_t4)??"0"),ln={name:g.fade,alpha1:s,alpha2:d,alpha3:W,t1:le,t2:_e,t3:Ce,t4:ma};return c(t,ln,l[0].length)}if(a=(re=l[0].match(jr))==null?void 0:re.groups,a!=null){const s=(a==null?void 0:a.clip_args)??"",d={name:g.clip,drawCommands:s};return c(t,d,l[0].length)}if(a=(ee=l[0].match(Lr))==null?void 0:ee.groups,a!=null){const s=Number((a==null?void 0:a.fsp_value)??"0"),d={name:g.fsp,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(q=l[0].match(Hr))==null?void 0:q.groups,a!=null){const s=Number((a==null?void 0:a.pos_x)??"0"),d=Number((a==null?void 0:a.pos_y)??"0"),W={name:g.pos,x:s,y:d};return c(t,W,l[0].length)}if(a=(F=l[0].match(Mr))==null?void 0:F.groups,a!=null){const s=Number((a==null?void 0:a.org_x)??"0"),d=Number((a==null?void 0:a.org_y)??"0"),W={name:g.org,x:s,y:d};return c(t,W,l[0].length)}if(a=(M=l[0].match(Br))==null?void 0:M.groups,a!=null){const s=Number((a==null?void 0:a.in)??"0"),d=Number((a==null?void 0:a.out)??"0"),W={name:g.fad,in:s,out:d};return c(t,W,l[0].length)}if(a=(B=l[0].match(Dr))==null?void 0:B.groups,a!=null){const s=Number((a==null?void 0:a.frx_value)??"0"),d={name:g.frx,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(J=l[0].match(Tr))==null?void 0:J.groups,a!=null){const s=Number((a==null?void 0:a.fry_value)??"0"),d={name:g.fry,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(V=l[0].match(Ir))==null?void 0:V.groups,a!=null){const s=Number((a==null?void 0:a.frz_value)??"0"),d={name:g.frz,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(Z=l[0].match(Cr))==null?void 0:Z.groups,a!=null){const s=Number((a==null?void 0:a.fax_value)??"0"),d={name:g.fax,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(ae=l[0].match(Sr))==null?void 0:ae.groups,a!=null){const s=Number((a==null?void 0:a.fay_value)??"0"),d={name:g.fay,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(j=l[0].match(br))==null?void 0:j.groups,a!=null){const s=Number((a==null?void 0:a.pbo_value)??"0"),d={name:g.pbo,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(T=l[0].match(vr))==null?void 0:T.groups,a!=null){const s=Number((a==null?void 0:a.fe_value)??"0"),d={name:g.fe,encodingId:Number(s)};return c(t,d,l[0].length)}if(a=(U=l[0].match(pr))==null?void 0:U.groups,a!=null){const s=(a==null?void 0:a.fn_value)??"",d={name:g.fn,font:s};return c(t,d,l[0].length)}if(a=(ne=l[0].match(hr))==null?void 0:ne.groups,a!=null){const s=Number((a==null?void 0:a.an_value)??"0"),d={name:g.an,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(te=l[0].match(mr))==null?void 0:te.groups,a!=null){const s=Number((a==null?void 0:a.be_value)??"0"),d={name:g.be,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(de=l[0].match(Rr))==null?void 0:de.groups,a!=null){const s=Number((a==null?void 0:a.fr_value)??"0"),d={name:g.fr,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(fe=l[0].match(Pr))==null?void 0:fe.groups,a!=null){const s=Number((a==null?void 0:a.fs_value)??"0"),d={name:g.fs,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(ce=l[0].match(ir))==null?void 0:ce.groups,a!=null){const s=Number((a==null?void 0:a.ko_value)??"0"),d={name:g.ko,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(X=l[0].match(sr))==null?void 0:X.groups,a!=null){const s=Number((a==null?void 0:a.kf_value)??"0"),d={name:g.kf,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(ie=l[0].match(Wn))==null?void 0:ie.groups,a!=null){const s=Number(oe((a==null?void 0:a.color1_bgr_blue)??"0")),d=Number(oe((a==null?void 0:a.color1_bgr_green)??"0")),W=Number(oe((a==null?void 0:a.color1_bgr_red)??"0")),le={name:g.color1,blue:s,green:d,red:W};return c(t,le,l[0].length)}if(a=(be=l[0].match(Jn))==null?void 0:be.groups,a!=null){const s=Number(oe((a==null?void 0:a.color2_bgr_blue)??"0")),d=Number(oe((a==null?void 0:a.color2_bgr_green)??"0")),W=Number(oe((a==null?void 0:a.color2_bgr_red)??"0")),le={name:g.color2,blue:s,green:d,red:W};return c(t,le,l[0].length)}if(a=(De=l[0].match(Zn))==null?void 0:De.groups,a!=null){const s=Number(oe((a==null?void 0:a.color3_bgr_blue)??"0")),d=Number(oe((a==null?void 0:a.color3_bgr_green)??"0")),W=Number(oe((a==null?void 0:a.color3_bgr_red)??"0")),le={name:g.color3,blue:s,green:d,red:W};return c(t,le,l[0].length)}if(a=($e=l[0].match(Qn))==null?void 0:$e.groups,a!=null){const s=Number(oe((a==null?void 0:a.color4_bgr_blue)??"0")),d=Number(oe((a==null?void 0:a.color4_bgr_green)??"0")),W=Number(oe((a==null?void 0:a.color4_bgr_red)??"0")),le={name:g.color4,blue:s,green:d,red:W};return c(t,le,l[0].length)}if(a=(Ae=l[0].match(ar))==null?void 0:Ae.groups,a!=null){const s=a.alpha1_value??"",d={name:g.alpha1,value:s};return c(t,d,l[0].length)}if(a=(we=l[0].match(tr))==null?void 0:we.groups,a!=null){const s=a.alpha2_value??"",d={name:g.alpha2,value:s};return c(t,d,l[0].length)}if(a=(ta=l[0].match(nr))==null?void 0:ta.groups,a!=null){const s=a.alpha3_value??"",d={name:g.alpha3,value:s};return c(t,d,l[0].length)}if(a=(Ye=l[0].match(rr))==null?void 0:Ye.groups,a!=null){const s=a.alpha4_value??"",d={name:g.alpha4,value:s};return c(t,d,l[0].length)}if(a=(He=l[0].match(lr))==null?void 0:He.groups,a!=null){const s=Number((a==null?void 0:a.k_lower_case_value)??"0"),d={name:g.kLowerCase,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(qe=l[0].match(or))==null?void 0:qe.groups,a!=null){const s=Number((a==null?void 0:a.k_upper_case_value)??"0"),d={name:g.kUpperCase,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(na=l[0].match(ur))==null?void 0:na.groups,a!=null){const s=Number((a==null?void 0:a.q_value)??"0"),d={name:g.q,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(We=l[0].match(cr))==null?void 0:We.groups,a!=null){const s=Number((a==null?void 0:a.s_value)??"0"),d={name:g.s,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(Je=l[0].match(dr))==null?void 0:Je.groups,a!=null){const s=Number((a==null?void 0:a.u_value)??"0"),d={name:g.u,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(u=l[0].match(fr))==null?void 0:u.groups,a!=null){const s=(a==null?void 0:a.r_value)??"",d={name:g.r,style:s};return c(t,d,l[0].length)}if(a=(he=l[0].match(gr))==null?void 0:he.groups,a!=null){const s=Number((a==null?void 0:a.p_value)??"0"),d={name:g.p,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(L=l[0].match(Vr))==null?void 0:L.groups,a!=null){const s=Number((a==null?void 0:a.i_value)??"0"),d={name:g.i,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(R=l[0].match(qn))==null?void 0:R.groups,a!=null){const s=Number(oe((a==null?void 0:a.color_bgr_blue)??"0")),d=Number(oe((a==null?void 0:a.color_bgr_green)??"0")),W=Number(oe((a==null?void 0:a.color_bgr_red)??"0")),le={name:g.color,blue:s,green:d,red:W};return c(t,le,l[0].length)}if(a=(O=l[0].match(_r))==null?void 0:O.groups,a!=null){const s=Number((a==null?void 0:a.b_value)??"0"),d={name:g.b,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}if(a=(Y=l[0].match(Xn))==null?void 0:Y.groups,a!=null){const s=Number((a==null?void 0:a.a_value)??"0"),d={name:g.a,value:Number.isNaN(s)?0:s};return c(t,d,l[0].length)}const v=l[0],b={name:g.unknown,value:v};return c(t,b,l[0].length)}function kl(e,t,n,r){var i;if(n.startsWith(g.t)){const l=(i=r[0].match(tn))==null?void 0:i.groups,c=(l==null?void 0:l.tags)??"",a=[];ca(c,a);const v=l!=null&&l.arg1?Number(l.arg1):null,b=l!=null&&l.arg2?Number(l.arg2):null,h=l!=null&&l.arg3?Number(l.arg3):null,S={name:g.t,accel:null,t1:null,t2:null,tags:a};v!==null&&b!==null&&h!==null?(S.t1=v,S.t2=b,S.accel=h):v!==null&&b!==null&&h===null?(S.t1=v,S.t2=b,S.accel=null):v!==null&&(S.accel=v),t.push(S)}return e=e.substring(r[0].length),e.length>0&&ca(e,t),t}function ge(e){var r,i,l;const t=[],n=e.matchAll(zn);for(const c of n){if((r=c.groups)!=null&&r.fx){const a=c.groups.fx.substring(1,c.groups.fx.length-1),v=[];ca(a,v),t.push({name:"effect",tags:v});continue}if((i=c.groups)!=null&&i.txt){t.push({name:"text",value:(l=c.groups)==null?void 0:l.txt});continue}}return t}function nn(e){let t="";for(const n of e.tags)switch(n.name){case g.t:{const r={name:"effect",tags:n.tags},i=nn(r);n.t1!==null&&n.t2!==null&&n.accel!==null?t+=`\\t(${n.t1},${n.t2},${n.accel},${i})`:n.t1!==null&&n.t2!==null&&n.accel===null?t+=`\\t(${n.t1},${n.t2},${i})`:n.accel!==null?t+=`\\t(${n.accel},${i})`:t+=`\\t(${i})`;break}case g.pos:case g.org:t+=`\\${n.name}(${n.x},${n.y})`;break;case g.move:t+=`\\move(${n.x1},${n.y1},${n.x2},${n.y2}`,n.t1!=null&&n.t2!=null&&(t+=`,${n.t1},${n.t2}`),t+=")";break;case g.clip:case g.iclip:t+=`\\${n.name}(${n.drawCommands})`;break;case g.fad:t+=`\\fad(${n.in},${n.out})`;break;case g.fade:t+=`\\fade(${n.alpha1},${n.alpha2},${n.alpha3},${n.t1},${n.t2},${n.t3},${n.t4})`;break;case g.fe:t+=`\\fe${n.encodingId}`;break;case g.fn:t+=`\\fn${n.font}`;break;case g.r:t+=`\\r${n.style}`;break;case g.color:case g.color1:case g.color2:case g.color3:case g.color4:{const r=fa(n.blue),i=fa(n.green),l=fa(n.red);t+=`\\${n.name}&H${r}${i}${l}&`;break}case g.text:case g.unknown:t+=n.value;break;default:t+=`\\${n.name}${n.value}`;break}return t}function xe(e){let t="";for(const n of e){if(n.name=="text"){t+=n.value;continue}t+="{"+nn(n)+"}"}return t}function ja(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(r.name!="effect")continue;const i=e[n+1];if(i.name!="effect"){n++;continue}if(i==null)break;r.tags.push(...i.tags),t.push(n+1)}for(const n of t)e.splice(n,1)}function la(e){const t=e.find(i=>i.name=="effect");if((t==null?void 0:t.name)!="effect")return null;const n=g.pos,r=t.tags.find(i=>i.name==n);return(r==null?void 0:r.name)!=n?null:r}function Al(e){const t=e.find(i=>i.name=="effect");if((t==null?void 0:t.name)!="effect")return null;const n=g.move,r=t.tags.find(i=>i.name==n);return(r==null?void 0:r.name)!=n?null:r}function Nl(e,t,n,r){const i={name:g.color,blue:t,green:n,red:r},[l,c]=Re(e,i.name,i);return l||(c.blue=t,c.green=n,c.red=r),c}function El(e,t,n,r){const i={name:g.color1,blue:t,green:n,red:r},[l,c]=Re(e,i.name,i);return l||(c.blue=t,c.green=n,c.red=r),c}function $l(e,t,n,r){const i={name:g.color2,blue:t,green:n,red:r},[l,c]=Re(e,i.name,i);return l||(c.blue=t,c.green=n,c.red=r),c}function Cl(e,t,n,r){const i={name:g.color3,blue:t,green:n,red:r},[l,c]=Re(e,i.name,i);return l||(c.blue=t,c.green=n,c.red=r),c}function Sl(e,t,n,r){const i={name:g.color4,blue:t,green:n,red:r},[l,c]=Re(e,i.name,i);return l||(c.blue=t,c.green=n,c.red=r),c}function wl(e,t){const n={name:g.alpha,value:t},[r,i]=Re(e,n.name,n);return r||(i.value=t),i}function Fl(e,t){const n={name:g.alpha1,value:t},[r,i]=Re(e,n.name,n);return r||(i.value=t),i}function Ll(e,t){const n={name:g.alpha2,value:t},[r,i]=Re(e,n.name,n);return r||(i.value=t),i}function Rl(e,t){const n={name:g.alpha3,value:t},[r,i]=Re(e,n.name,n);return r||(i.value=t),i}function Dl(e,t){const n={name:g.alpha4,value:t},[r,i]=Re(e,n.name,n);return r||(i.value=t),i}function Tl(e,t,n){const r={name:g.pos,x:t,y:n},[i,l]=Re(e,r.name,r);return i||(l.x=t,l.y=n),l}function Il(e,t,n,r,i,l=null,c=null){const a={name:g.move,x1:t,y1:n,x2:r,y2:i,t1:l,t2:c},[v,b]=Re(e,a.name,a);return v||(b.x1=t,b.y1=n,b.x2=r,b.y2=i,b.t1=l,b.t2=c),b}function Re(e,t,n){const r=e.find(l=>l.name=="effect");if((r==null?void 0:r.name)!="effect")return e.unshift({name:"effect",tags:[n]}),[!0,n];const i=r.tags.find(l=>l.name==t);return(i==null?void 0:i.name)!=t?(r.tags.push(n),[!0,n]):[!1,i]}function Vl(e,t){const n=e.find(i=>i.name=="effect");if((n==null?void 0:n.name)!="effect")return;const r=n.tags.findIndex(i=>i.name===t);r<0||n.tags.splice(r,1)}function Ge(e){const t=e.match(Un);if(t==null)return null;const n=t.groups,r=Oa((n==null?void 0:n.start)??"");if(r==null)return null;const i=Oa((n==null?void 0:n.end)??"");return i==null?null:{type:(n==null?void 0:n.type)??"",layer:Number((n==null?void 0:n.layer)??"0"),start:r,end:i,style:(n==null?void 0:n.style)??"",actor:(n==null?void 0:n.actor)??"",marginLeft:Number((n==null?void 0:n.marginLeft)??"0"),marginRight:Number((n==null?void 0:n.marginRight)??"0"),marginVertical:Number((n==null?void 0:n.marginVertical)??"0"),effect:(n==null?void 0:n.effect)??"",content:(n==null?void 0:n.content)??""}}function me(e){let t=e.type;return t+=": ",t+=Math.floor(e.layer),t+=",",t+=za(e.start),t+=",",t+=za(e.end),t+=",",t+=e.style,t+=",",t+=e.actor,t+=",",t+=Math.floor(e.marginLeft),t+=",",t+=Math.floor(e.marginRight),t+=",",t+=Math.floor(e.marginVertical),t+=",",t+=e.effect,t+=",",t+=e.content,t}function Pl(e){return ga(e.end)-ga(e.start)}function Me(e){const t=e.match(Yn);if(t==null)return null;const n=t.groups;return{blue:oe((n==null?void 0:n.color_bgr_blue)??""),green:oe((n==null?void 0:n.color_bgr_green)??""),red:oe((n==null?void 0:n.color_bgr_red)??"")}}var Hl=(e,t)=>t(),Ml=(e,t)=>t(),Bl=()=>{},Ol=ye('<section class="svelte-jzi2e1"><h1 class="title is-5"></h1> <div class="field"><label class="label" for="">Movimiento base</label> <div class="control"><input class="input" type="text" placeholder="\\move(10,20,30,40)"></div></div> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function zl(e,t){Ve(t,!0);const n=ue.copiarMovimiento;let r=N("Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\move(320,470,320,168,0,4963)}Urusai!"),i=N(""),l=N("");function c(){if(o(i).length==0){alert("Pega las líneas desde Aegisub para continuar.");return}const F=o(i).split(`
`);console.log(F);const M=Ge(o(r));if(M==null){console.error("invalid base line",o(r));return}const B=ge(M.content),J=Al(B);if(J==null){console.error("base move not found");return}const V=J.x2-J.x1,Z=J.y2-J.y1;let ae="";for(let j=0;j<F.length;j++){const T=F[j];if(T.length==0)continue;const U=Ge(T);if(U==null){console.error(`line ${j+1}: invalid line`);break}const ne=ge(U.content),te=la(ne);if(te==null){console.error(`line ${j+1}: pos not found`);break}Vl(ne,g.pos);const de=te.x,fe=te.y,ce=te.x+V,X=te.y+Z;Il(ne,de,fe,ce,X,J.t1,J.t2);const ie=xe(ne);U.content=ie;const be=me(U);console.log(be),j>0&&(ae+=`
`),ae+=be}p(l,E(ae))}async function a(){await navigator.clipboard.writeText(o(l)),alert("¡Líneas copiadas al portapapeles!")}Qe(()=>{for(let F=1;F<=10;F++){const M=182+F*5,B=421+F*7;p(i,o(i)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(${M},${B})}LINEA ${F}
`)}});var v=Ol();Ke(F=>{Xe.title=n});var b=y(v);b.textContent=n;var h=A(b,2),S=A(y(h),2),w=y(S);aa(w),m(S),m(h);var _=A(h,2),x=y(_),$=y(x,!0);m(x);var Q=A(x,2),H=y(Q);Le(H),m(Q),m(_);var P=A(_,2);P.__click=[Hl,c];var z=y(P,!0);m(P);var G=A(P,2),C=y(G),k=y(C),re=A(k);re.__click=[Ml,a],re.__keydown=[Bl],m(C);var ee=A(C,2),q=y(ee);Le(q),m(ee),m(G),m(v),Ee(()=>{pe($,ue.subtitulos),pe(z,ue.copiarMovimiento),pe(k,`${ue.resultado} `)}),ke(w,()=>o(r),F=>p(r,F)),ke(H,()=>o(i),F=>p(i,F)),ke(q,()=>o(l),F=>p(l,F)),se(e,v),Pe()}Ue(["click","keydown"]);var Gl=ye(`<div class="text-column"><h1></h1> <div class="kagamin svelte-i9q0t3"><img src="img/kagamin.gif" alt="Lucky Star" title="Lucky Star" class="svelte-i9q0t3"></div> <p class="mt-2">Asu versión web, de <a href="https://github.com/FS-Frost" target="_blank">[FS] Frost</a> para <a href="http://syncrajo.net/" target="_blank">SyncRajo Fansub</a>.</p> <p class="mt-2">Agradecimientos por su ayuda a:</p> <ul><li>- [GX] Gonxas: hardcore testing y script para crear AVS.</li> <li>- [Sr] Hell: servicio de host.</li> <li>- [EC] DarkAngel: idea para separar sílabas en karaokes.</li></ul> <p class="mt-2">Asu es una herramienta para automatizar el procesamiento de subtítulos
        en formato SubStation Alpha Subtitles (SSA/ASS).</p> <p class="mt-2"><b>Visítanos en <a href="http://syncrajo.net/" target="_blank">http://syncrajo.net</a></b></p> <p class="mt-2">Versiones de Asu:</p> <ul><li><a href="https://github.com/FS-Frost/Asu.Utilidades" target="_blank">- (2014) Asu para .NET/C#</a></li> <li><a href="https://github.com/FS-Frost/asu-go2js" target="_blank">- (2022) Asu para Go y JavaScript</a></li> <li><a href="https://github.com/FS-Frost/asu-regex-js" target="_blank">- (2024) Asu para TypeScript</a></li></ul></div>`);function jl(e,t){Ve(t,!1);const n=ue.acercaDe;wn();var r=Gl();Ke(l=>{Xe.title=n});var i=y(r);i.textContent=n,ha(16),m(r),se(e,r),Pe()}var Ul=ye('<img class="wallpaper svelte-1ic3zkr" src="img/hyouka.jpg" alt="Hyouka" title="Hyouka">');function Kl(e){var t=Ul();Ke(n=>{Xe.title="Asu"}),se(e,t)}var Xl=(e,t)=>t(),Yl=ye("<b> </b>"),ql=ye('<div class="field alpha-box svelte-9wq0vr"><div class="svelte-9wq0vr"><label class="checkbox"><input type="checkbox"> <!></label></div> <div class="alpha-inputs svelte-9wq0vr"><div class="alpha-value svelte-9wq0vr"><label class="label" for="">Valor inicial</label> <div class="control"><input class="input" type="text"></div></div> <div class="alpha-value svelte-9wq0vr"><label class="label" for="">Valor Final</label> <div class="control"><input class="input" type="text"></div></div></div></div>');function ze(e,t){Ve(t,!0);let n=ra(t,"label",3,""),r=ra(t,"disabled",15,!1),i=ra(t,"startValue",15,""),l=ra(t,"endValue",15,""),c=ra(t,"startPlaceholder",3,""),a=ra(t,"endPlaceholder",3,""),v=N(void 0);function b(){var F;if((F=o(v))!=null&&F.checked){h();return}S()}function h(){r()&&(r(!1),o(v)&&(o(v).checked=!0),t.onEnabled&&t.onEnabled())}function S(){r()||(r(!0),o(v)&&(o(v).checked=!1),t.onDisabled&&t.onDisabled())}Qe(()=>{o(v)&&(o(v).checked=!r())});var w=ql(),_=y(w),x=y(_),$=y(x);$.__change=[Xl,b],Fe($,F=>p(v,F),()=>o(v));var Q=A($,2);{var H=F=>{var M=on();Ee(()=>pe(M,`${n()??""}
                (deshabilitado)`)),se(F,M)},P=F=>{var M=Yl(),B=y(M,!0);m(M),Ee(()=>pe(B,n())),se(F,M)};Te(Q,F=>{r()?F(H):F(P,!1)})}m(x),m(_);var z=A(_,2),G=y(z),C=A(y(G),2),k=y(C);aa(k),m(C),m(G);var re=A(G,2),ee=A(y(re),2),q=y(ee);return aa(q),m(ee),m(re),m(z),m(w),Ee(()=>{ua(k,"placeholder",c()),k.disabled=r(),ua(q,"placeholder",a()),q.disabled=r()}),ke(k,i),ke(q,l),se(e,w),Pe({enable:h,disable:S})}Ue(["change"]);function sa(e,t){const n=[];for(let r=e;r<=t;r++){const i=fa(r);n.push(i)}return n}function ia(e,t,n){const r=Array(n),i=Na(e.blue,t.blue,n);if(i.length!==n)return console.error(`ERROR: blue interpolated values ${i.length} don't match intervals ${n}`),[];const l=Na(e.green,t.green,n);if(l.length!==n)return console.error(`ERROR: green interpolated values ${l.length} don't match intervals ${n}`),[];const c=Na(e.red,t.red,n);if(c.length!==n)return console.error(`ERROR: red interpolated values ${c.length} don't match intervals ${n}`),[];for(var a=0;a<n;a++){const v=Math.floor(i[a]),b=Math.floor(l[a]),h=Math.floor(c[a]);r[a]={blue:v,green:b,red:h}}return r}var Wl=(e,t)=>t(),Jl=()=>{},Zl=ye('<i class="fa-solid fa-copy clickable" role="button" tabindex="0"></i>');function rn(e,t){Ve(t,!0);async function n(){await navigator.clipboard.writeText(t.rawResultLines),alert(ue.lineasCopiadas)}var r=Zl();r.__click=[Wl,n],r.__keydown=[Jl],Ee(()=>ua(r,"title",ue.copiar)),se(e,r),Pe()}Ue(["click","keydown"]);var Ql=(e,t)=>t(),eo=ye('<section class="svelte-do1mnp"><h1 class="title is-5"></h1> <label class="label" for="">Configuración alpha</label> <!> <!> <!> <!> <!> <label class="checkbox reverse svelte-do1mnp"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function ao(e,t){Ve(t,!0);const n=ue.aplicarAlpha,r="0",i="FF";let l=N(""),c=N(""),a=N("0"),v=N("FF"),b=N("0"),h=N("FF"),S=N("0"),w=N("FF"),_=N("0"),x=N("FF"),$=N("0"),Q=N("FF"),H=N(!1),P=N(!0),z=N(!0),G=N(!0),C=N(!0),k=N(void 0),re=N(void 0),ee=N(void 0),q=N(void 0),F=N(void 0),M=N(!1);function B(){var u,he,L,R;(u=o(re))==null||u.disable(),(he=o(ee))==null||he.disable(),(L=o(q))==null||L.disable(),(R=o(F))==null||R.disable()}function J(){var u,he,L,R;o(P)&&o(z)&&o(G)&&o(C)&&((u=o(re))==null||u.enable(),(he=o(ee))==null||he.disable(),(L=o(q))==null||L.disable(),(R=o(F))==null||R.disable())}function V(){var u;(u=o(k))==null||u.disable()}function Z(){var u;o(P)&&o(z)&&o(G)&&o(C)&&((u=o(k))==null||u.enable())}function ae(){const u=[],he=o(l).split(`
`);for(const L of he){if(L.length==0)continue;const R=Ge(L);R!=null&&u.push(R)}if(!o(H)){const L=oe(o(a)),R=oe(o(v));if(L>=R){alert("El inicio de alpha total debe ser menor al fin.");return}if(L<0){alert("El inicio de alpha total debe ser mayor o igual a 00 (0).");return}if(R>255){alert("El fin de alpha total debe ser menor o igual a FF (255).");return}const O=sa(L,R);o(M)&&O.reverse();let Y="";for(let s=0;s<u.length;s++){let d=Math.floor(O.length*s/u.length);d>=O.length&&(d=O.length-1);const le=`&H${O[d]}&`,_e=ge(u[s].content);wl(_e,le),u[s].content=xe(_e);const Ce=me(u[s]);s>0&&(Y+=`
`),Y+=Ce}p(c,E(Y));return}if(!o(P)){const L=oe(o(b)),R=oe(o(h));if(L>=R){alert("El inicio de alpha 1 debe ser menor al fin.");return}if(L<0){alert("El inicio de alpha 1 debe ser mayor o igual a 00 (0).");return}if(R>255){alert("El fin de alpha 1 debe ser menor o igual a FF (255).");return}const O=sa(L,R);o(M)&&O.reverse();let Y="";for(let s=0;s<u.length;s++){let d=Math.floor(O.length*s/u.length);d>=O.length&&(d=O.length-1);const le=`&H${O[d]}&`,_e=ge(u[s].content);Fl(_e,le),u[s].content=xe(_e);const Ce=me(u[s]);s>0&&(Y+=`
`),Y+=Ce}p(c,E(Y))}if(!o(z)){const L=oe(o(S)),R=oe(o(w));if(L>=R){alert("El inicio de alpha 2 debe ser menor al fin.");return}if(L<0){alert("El inicio de alpha 2 debe ser mayor o igual a 00 (0).");return}if(R>255){alert("El fin de alpha 2 debe ser menor o igual a FF (255).");return}const O=sa(L,R);o(M)&&O.reverse();let Y="";for(let s=0;s<u.length;s++){let d=Math.floor(O.length*s/u.length);d>=O.length&&(d=O.length-1);const le=`&H${O[d]}&`,_e=ge(u[s].content);Ll(_e,le),u[s].content=xe(_e);const Ce=me(u[s]);s>0&&(Y+=`
`),Y+=Ce}p(c,E(Y))}if(!o(G)){const L=oe(o(_)),R=oe(o(x));if(L>=R){alert("El inicio de alpha 3 debe ser menor al fin.");return}if(L<0){alert("El inicio de alpha 3 debe ser mayor o igual a 00 (0).");return}if(R>255){alert("El fin de alpha 3 debe ser menor o igual a FF (255).");return}const O=sa(L,R);o(M)&&O.reverse();let Y="";for(let s=0;s<u.length;s++){let d=Math.floor(O.length*s/u.length);d>=O.length&&(d=O.length-1);const le=`&H${O[d]}&`,_e=ge(u[s].content);Rl(_e,le),u[s].content=xe(_e);const Ce=me(u[s]);s>0&&(Y+=`
`),Y+=Ce}p(c,E(Y))}if(!o(C)){const L=oe(o($)),R=oe(o(Q));if(L>=R){alert("El inicio de alpha 4 debe ser menor al fin.");return}if(L<0){alert("El inicio de alpha 4 debe ser mayor o igual a 00 (0).");return}if(R>255){alert("El fin de alpha 4 debe ser menor o igual a FF (255).");return}const O=sa(L,R);o(M)&&O.reverse();let Y="";for(let s=0;s<u.length;s++){let d=Math.floor(O.length*s/u.length);d>=O.length&&(d=O.length-1);const le=`&H${O[d]}&`,_e=ge(u[s].content);Dl(_e,le),u[s].content=xe(_e);const Ce=me(u[s]);s>0&&(Y+=`
`),Y+=Ce}p(c,E(Y))}}Qe(()=>{for(let u=1;u<=10;u++)p(l,o(l)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(182,421)}LINEA ${u}
`)});var j=eo();Ke(u=>{Xe.title=n});var T=y(j);T.textContent=n;var U=A(T,4);Fe(ze(U,{label:"Alpha total",startPlaceholder:r,endPlaceholder:i,onEnabled:()=>B(),onDisabled:()=>J(),get startValue(){return o(a)},set startValue(u){p(a,E(u))},get endValue(){return o(v)},set endValue(u){p(v,E(u))},get disabled(){return o(H)},set disabled(u){p(H,E(u))}}),u=>p(k,E(u)),()=>o(k));var ne=A(U,2);Fe(ze(ne,{label:"Alpha 1",startPlaceholder:r,endPlaceholder:i,onEnabled:()=>V(),onDisabled:()=>Z(),get startValue(){return o(b)},set startValue(u){p(b,E(u))},get endValue(){return o(h)},set endValue(u){p(h,E(u))},get disabled(){return o(P)},set disabled(u){p(P,E(u))}}),u=>p(re,E(u)),()=>o(re));var te=A(ne,2);Fe(ze(te,{label:"Alpha 2",startPlaceholder:r,endPlaceholder:i,onEnabled:()=>V(),onDisabled:()=>Z(),get startValue(){return o(S)},set startValue(u){p(S,E(u))},get endValue(){return o(w)},set endValue(u){p(w,E(u))},get disabled(){return o(z)},set disabled(u){p(z,E(u))}}),u=>p(ee,E(u)),()=>o(ee));var de=A(te,2);Fe(ze(de,{label:"Alpha 3",startPlaceholder:r,endPlaceholder:i,onEnabled:()=>V(),onDisabled:()=>Z(),get startValue(){return o(_)},set startValue(u){p(_,E(u))},get endValue(){return o(x)},set endValue(u){p(x,E(u))},get disabled(){return o(G)},set disabled(u){p(G,E(u))}}),u=>p(q,E(u)),()=>o(q));var fe=A(de,2);Fe(ze(fe,{label:"Alpha 4",startPlaceholder:r,endPlaceholder:i,onEnabled:()=>V(),onDisabled:()=>Z(),get startValue(){return o($)},set startValue(u){p($,E(u))},get endValue(){return o(Q)},set endValue(u){p(Q,E(u))},get disabled(){return o(C)},set disabled(u){p(C,E(u))}}),u=>p(F,E(u)),()=>o(F));var ce=A(fe,2),X=y(ce);aa(X),ha(),m(ce);var ie=A(ce,2),be=y(ie),De=y(be,!0);m(be);var $e=A(be,2),Ae=y($e);Le(Ae),m($e),m(ie);var we=A(ie,2);we.__click=[Ql,ae];var ta=y(we,!0);m(we);var Ye=A(we,2),He=y(Ye),qe=y(He),na=A(qe);rn(na,{get rawResultLines(){return o(c)}}),m(He);var We=A(He,2),Je=y(We);Le(Je),m(We),m(Ye),m(j),Ee(()=>{pe(De,ue.subtitulos),pe(ta,ue.aplicarAlpha),pe(qe,`${ue.resultado} `)}),La(X,()=>o(M),u=>p(M,u)),ke(Ae,()=>o(l),u=>p(l,u)),ke(Je,()=>o(c),u=>p(c,u)),se(e,j),Pe()}Ue(["click"]);var to=(e,t)=>t(),no=ye('<section class="svelte-do1mnp"><h1 class="title is-5"></h1> <label class="label" for="">Configuración de color</label> <!> <!> <!> <!> <!> <label class="checkbox reverse svelte-do1mnp"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function ro(e,t){Ve(t,!0);const n=ue.aplicarColor,r="&HFFFFFF&",i="&H000000&";let l=N(""),c=N(""),a=N(r),v=N(i),b=N(r),h=N(i),S=N(r),w=N(i),_=N(r),x=N(i),$=N(r),Q=N(i),H=N(!1),P=N(!0),z=N(!0),G=N(!0),C=N(!0),k=N(void 0),re=N(void 0),ee=N(void 0),q=N(void 0),F=N(void 0),M=N(!1);function B(){var u,he,L,R;(u=o(re))==null||u.disable(),(he=o(ee))==null||he.disable(),(L=o(q))==null||L.disable(),(R=o(F))==null||R.disable()}function J(){var u,he,L,R;o(P)&&o(z)&&o(G)&&o(C)&&((u=o(re))==null||u.enable(),(he=o(ee))==null||he.disable(),(L=o(q))==null||L.disable(),(R=o(F))==null||R.disable())}function V(){var u;(u=o(k))==null||u.disable()}function Z(){var u;o(P)&&o(z)&&o(G)&&o(C)&&((u=o(k))==null||u.enable())}function ae(){const u=[],he=o(l).split(`
`);for(const L of he){if(L.length==0)continue;const R=Ge(L);R!=null&&u.push(R)}if(!o(H)){const L=Me(o(a));if(L==null){alert(`Color total de inicio inválido: ${o(a)}`);return}const R=Me(o(v));if(R==null){alert(`Color total de fin inválido: ${o(v)}`);return}const O=ia(L,R,u.length);o(M)&&O.reverse();let Y="";for(let s=0;s<u.length;s++){const d=O[s],W=ge(u[s].content);Nl(W,d.blue,d.green,d.red),u[s].content=xe(W);const le=me(u[s]);s>0&&(Y+=`
`),Y+=le}p(c,E(Y));return}if(!o(P)){const L=Me(o(b));if(L==null){alert(`Color 1 de inicio inválido: ${o(b)}`);return}const R=Me(o(h));if(R==null){alert(`Color 1 de fin inválido: ${o(h)}`);return}const O=ia(L,R,u.length);o(M)&&O.reverse();let Y="";for(let s=0;s<u.length;s++){const d=O[s],W=ge(u[s].content);El(W,d.blue,d.green,d.red),u[s].content=xe(W);const le=me(u[s]);s>0&&(Y+=`
`),Y+=le}p(c,E(Y))}if(!o(z)){const L=Me(o(S));if(L==null){alert(`Color 2 de inicio inválido: ${o(S)}`);return}const R=Me(o(w));if(R==null){alert(`Color 2 de fin inválido: ${o(w)}`);return}const O=ia(L,R,u.length);o(M)&&O.reverse();let Y="";for(let s=0;s<u.length;s++){const d=O[s],W=ge(u[s].content);$l(W,d.blue,d.green,d.red),u[s].content=xe(W);const le=me(u[s]);s>0&&(Y+=`
`),Y+=le}p(c,E(Y))}if(!o(G)){const L=Me(o(_));if(L==null){alert(`Color 3 de inicio inválido: ${o(_)}`);return}const R=Me(o(x));if(R==null){alert(`Color 3 de fin inválido: ${o(x)}`);return}const O=ia(L,R,u.length);o(M)&&O.reverse();let Y="";for(let s=0;s<u.length;s++){const d=O[s],W=ge(u[s].content);Cl(W,d.blue,d.green,d.red),u[s].content=xe(W);const le=me(u[s]);s>0&&(Y+=`
`),Y+=le}p(c,E(Y))}if(!o(C)){const L=Me(o($));if(L==null){alert(`Color 4 de inicio inválido: ${o($)}`);return}const R=Me(o(Q));if(R==null){alert(`Color 4 de fin inválido: ${o(Q)}`);return}const O=ia(L,R,u.length);o(M)&&O.reverse();let Y="";for(let s=0;s<u.length;s++){const d=O[s],W=ge(u[s].content);Sl(W,d.blue,d.green,d.red),u[s].content=xe(W);const le=me(u[s]);s>0&&(Y+=`
`),Y+=le}p(c,E(Y))}}Qe(()=>{p(l,o(l)+`Dialogue: 0,0:00:00.00,0:00:00.02,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),p(l,o(l)+`Dialogue: 0,0:00:00.02,0:00:00.06,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),p(l,o(l)+`Dialogue: 0,0:00:00.06,0:00:00.10,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),p(l,o(l)+`Dialogue: 0,0:00:00.10,0:00:00.14,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),p(l,o(l)+`Dialogue: 0,0:00:00.14,0:00:00.18,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),p(l,o(l)+`Dialogue: 0,0:00:00.18,0:00:00.23,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),p(l,o(l)+`Dialogue: 0,0:00:00.23,0:00:00.27,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),p(l,o(l)+`Dialogue: 0,0:00:00.27,0:00:00.31,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),p(l,o(l)+"Dialogue: 0,0:00:00.31,0:00:00.35,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO")});var j=no();Ke(u=>{Xe.title=n});var T=y(j);T.textContent=n;var U=A(T,4);Fe(ze(U,{label:"Color total",startPlaceholder:r,endPlaceholder:i,onEnabled:()=>B(),onDisabled:()=>J(),get startValue(){return o(a)},set startValue(u){p(a,E(u))},get endValue(){return o(v)},set endValue(u){p(v,E(u))},get disabled(){return o(H)},set disabled(u){p(H,E(u))}}),u=>p(k,E(u)),()=>o(k));var ne=A(U,2);Fe(ze(ne,{label:"Color 1",startPlaceholder:r,endPlaceholder:i,onEnabled:()=>V(),onDisabled:()=>Z(),get startValue(){return o(b)},set startValue(u){p(b,E(u))},get endValue(){return o(h)},set endValue(u){p(h,E(u))},get disabled(){return o(P)},set disabled(u){p(P,E(u))}}),u=>p(re,E(u)),()=>o(re));var te=A(ne,2);Fe(ze(te,{label:"Color 2",startPlaceholder:r,endPlaceholder:i,onEnabled:()=>V(),onDisabled:()=>Z(),get startValue(){return o(S)},set startValue(u){p(S,E(u))},get endValue(){return o(w)},set endValue(u){p(w,E(u))},get disabled(){return o(z)},set disabled(u){p(z,E(u))}}),u=>p(ee,E(u)),()=>o(ee));var de=A(te,2);Fe(ze(de,{label:"Color 3",startPlaceholder:r,endPlaceholder:i,onEnabled:()=>V(),onDisabled:()=>Z(),get startValue(){return o(_)},set startValue(u){p(_,E(u))},get endValue(){return o(x)},set endValue(u){p(x,E(u))},get disabled(){return o(G)},set disabled(u){p(G,E(u))}}),u=>p(q,E(u)),()=>o(q));var fe=A(de,2);Fe(ze(fe,{label:"Color 4",startPlaceholder:r,endPlaceholder:i,onEnabled:()=>V(),onDisabled:()=>Z(),get startValue(){return o($)},set startValue(u){p($,E(u))},get endValue(){return o(Q)},set endValue(u){p(Q,E(u))},get disabled(){return o(C)},set disabled(u){p(C,E(u))}}),u=>p(F,E(u)),()=>o(F));var ce=A(fe,2),X=y(ce);aa(X),ha(),m(ce);var ie=A(ce,2),be=y(ie),De=y(be,!0);m(be);var $e=A(be,2),Ae=y($e);Le(Ae),m($e),m(ie);var we=A(ie,2);we.__click=[to,ae];var ta=y(we,!0);m(we);var Ye=A(we,2),He=y(Ye),qe=y(He),na=A(qe);rn(na,{get rawResultLines(){return o(c)}}),m(He);var We=A(He,2),Je=y(We);Le(Je),m(We),m(Ye),m(j),Ee(()=>{pe(De,ue.subtitulos),pe(ta,ue.aplicarColor),pe(qe,`${ue.resultado} `)}),La(X,()=>o(M),u=>p(M,u)),ke(Ae,()=>o(l),u=>p(l,u)),ke(Je,()=>o(c),u=>p(c,u)),se(e,j),Pe()}Ue(["click"]);var lo=(e,t)=>t(),oo=(e,t)=>t(),so=()=>{},io=ye('<section class="svelte-jzi2e1"><h1 class="title is-5"></h1> <div class="field"><label class="label" for="">Secuencia de posiciones</label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <label class="checkbox reverse"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function uo(e,t){Ve(t,!0);const n=ue.aplicarSecuenciaPosiciones;let r=N(""),i=N(""),l=N(""),c=N(!1);function a(){if(o(i).length==0){alert("Pega las líneas desde Aegisub para continuar.");return}const V=[];{const j=o(r).split(`
`);for(const T of j){if(T.length==0)continue;const U=Ge(T);if(U==null)continue;const ne=ge(U.content);if(la(ne)==null){alert(`Línea base sin \\pos copiada: '${T}'`),console.log(T);return}V.push(U)}}const Z=[];{const j=o(i).split(`
`);for(const T of j){if(T.length==0)continue;const U=Ge(T);if(U==null)continue;const ne=ge(U.content);if(la(ne)==null){alert(`Línea objetivo sin \\pos: '${T}'`),console.log(T);return}Z.push(U)}}let ae="";for(let j=0;j<Z.length;j++){const T=Z[j],U=ge(T.content),ne=la(U);if(ne==null){const X=me(T);alert(`Línea objetivo sin \\pos: '${X}'`),console.log(X);return}let te=ne.x,de=ne.y;o(c)&&V.reverse();const fe=v(V),ce=[];for(let X=0;X<V.length;X++){const ie=fe[X][0],be=fe[X][1],De=te+ie,$e=de+be;te=De,de=$e,Tl(U,De,$e),T.content=xe(U);const Ae=V[X];T.start=Ae.start,T.end=Ae.end,ce.push(structuredClone(T))}o(c)&&(V.reverse(),ce.reverse());for(const X of ce)ae+=me(X)+`
`}p(l,E(ae))}function v(V){const ae=[[0,0]];for(let j=0;j<V.length-1;j++){const T=V[j],U=V[j+1],ne=ge(T.content),te=la(ne);if(te==null)return alert(`Línea base sin \\pos: '${me(T)}'`),console.log(T),[];const de=ge(U.content),fe=la(de);if(fe==null)return alert(`Línea base sin \\pos: '${me(U)}'`),console.log(U),[];const ce=fe.x-te.x,X=fe.y-te.y;ae.push([ce,X])}return ae}async function b(){await navigator.clipboard.writeText(o(l)),alert("¡Líneas copiadas al portapapeles!")}Qe(()=>{p(r,o(r)+`Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.6,593.8)}Tama:
`),p(r,o(r)+`Dialogue: 1,0:23:58.08,0:23:58.12,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.55,589.69)}Tama:
`),p(r,o(r)+`Dialogue: 1,0:23:58.12,0:23:58.16,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.56,585.4)}Tama:
`),p(r,o(r)+`Dialogue: 1,0:23:58.16,0:23:58.20,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.41,581.09)}Tama:
`),p(r,o(r)+`Dialogue: 1,0:23:58.20,0:23:58.24,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.31,576.78)}Tama:
`),p(r,o(r)+`Dialogue: 1,0:23:58.24,0:23:58.29,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.22,572.39)}Tama:
`),p(r,o(r)+`Dialogue: 1,0:23:58.29,0:23:58.33,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.06,568.18)}Tama:
`),p(r,o(r)+`Dialogue: 1,0:23:58.33,0:23:58.37,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.13,563.34)}Tama:
`),p(r,o(r)+`Dialogue: 1,0:23:58.37,0:23:58.41,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.99,558.77)}Tama:
`),p(r,o(r)+"Dialogue: 1,0:23:58.41,0:23:58.45,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.96,554.13)}Tama:"),p(i,"Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(1039.6,593.8)}LINEA")});var h=io();Ke(V=>{Xe.title=n});var S=y(h);S.textContent=n;var w=A(S,2),_=A(y(w),2),x=y(_);Le(x),m(_),m(w);var $=A(w,2),Q=y($);aa(Q),ha(),m($);var H=A($,2),P=y(H),z=y(P,!0);m(P);var G=A(P,2),C=y(G);Le(C),m(G),m(H);var k=A(H,2);k.__click=[lo,a];var re=y(k,!0);m(k);var ee=A(k,2),q=y(ee),F=y(q),M=A(F);M.__click=[oo,b],M.__keydown=[so],m(q);var B=A(q,2),J=y(B);Le(J),m(B),m(ee),m(h),Ee(()=>{pe(z,ue.subtitulos),pe(re,ue.aplicarSecuenciaPosiciones),pe(F,`${ue.resultado} `)}),ke(x,()=>o(r),V=>p(r,V)),La(Q,()=>o(c),V=>p(c,V)),ke(C,()=>o(i),V=>p(i,V)),ke(J,()=>o(l),V=>p(l,V)),se(e,h),Pe()}Ue(["click","keydown"]);var co=(e,t)=>t(),fo=(e,t)=>t(),vo=()=>{},po=ye('<section class="svelte-jzi2e1"><h1 class="title is-5"></h1> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function go(e,t){Ve(t,!0);const n=ue.dividirSilabas;let r=N(""),i=N("");function l(){if(o(r).length==0){alert("Pega las líneas desde Aegisub para continuar.");return}const k=o(r).split(`
`);let re="";for(let ee=0;ee<k.length;ee++){const q=k[ee];if(q.length==0)continue;const F=Ge(q);if(F==null){console.error(`line ${ee+1}: invalid line`);break}xl(F);const M=me(F);ee>0&&(re+=`
`),re+=M}p(i,E(re))}async function c(){await navigator.clipboard.writeText(o(i)),alert("¡Líneas copiadas al portapapeles!")}Qe(()=>{p(r,o(r)+`Comment: 0,0:01:15.11,0:01:17.74,Romaji,,0,0,0,karaoke,dareka wo mamoreru watashi ni natte
`),p(r,o(r)+`Comment: 0,0:01:17.85,0:01:20.44,Romaji,,0,0,0,karaoke,mune wo hatte itsuka omoerun da
`),p(r,o(r)+`Comment: 0,0:01:20.58,0:01:30.42,Romaji,,0,0,0,karaoke,ano hi kimi ni deaete yokatta
`)});var a=po();Ke(k=>{Xe.title=n});var v=y(a);v.textContent=n;var b=A(v,2),h=y(b),S=y(h);m(h);var w=A(h,2),_=y(w);Le(_),m(w),m(b);var x=A(b,2);x.__click=[co,l];var $=y(x,!0);m(x);var Q=A(x,2),H=y(Q),P=y(H),z=A(P);z.__click=[fo,c],z.__keydown=[vo],m(H);var G=A(H,2),C=y(G);Le(C),m(G),m(Q),m(a),Ee(()=>{pe(S,`${ue.subtitulos} (romaji)`),pe($,ue.dividirSilabas),pe(P,`${ue.resultado} `)}),ke(_,()=>o(r),k=>p(r,k)),ke(C,()=>o(i),k=>p(i,k)),se(e,a),Pe()}Ue(["click","keydown"]);var bo=(e,t)=>t(),ho=ye("<button> </button>"),_o=ye('<p class="preview"> <b> </b></p>'),mo=(e,t)=>t(),xo=()=>{},yo=ye('<section class="svelte-jzi2e1"><h1 class="title is-5"></h1> <div class="field"><label class="label" for="">Karaoke</label> <div class="control"><input class="input" type="text"></div></div> <button class="button is-link is-fullwidth">Actualizar karaoke</button> <div class="mb-2"><label class="label" for="">Sílaba divisoria</label> <div class="buttons"></div></div> <div class="field"><label class="label" for="">Vista previa</label> <!></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function ko(e,t){Ve(t,!0);const n=ue.dividirKaraoke,r="Comment: 0,0:02:44.95,0:02:50.57,Romaji C,,0,0,0,karaoke,{\\kf32}ko{\\kf34}no {\\kf32}de{\\kf32}a{\\kf18}i {\\kf49}ga{\\kf31}{\\k0} {\\kf37}mi{\\kf31}n{\\kf34}na {\\kf19}wo {\\kf31}ka{\\kf34}e{\\kf63}ru {\\kf52}ka{\\kf33}na";let i=N(r),l=N(E([])),c=N(""),a=N(E([])),v=N(0);function b(){const B=Ge(o(i));if(B==null)return;const J=ge(B.content);ja(J);const V=0;let Z=o(a)[o(v)].index+1,ae=0;for(let X=0;X<=o(v);X++){const ie=o(a)[X];ie.centiseconds!=null&&(ae+=ie.centiseconds)}const j=ga(B.start),T=ga(B.end),U=J.slice(V,Z);B.content=xe(U);const ne=ae/100;B.end=Ea(j+ne),p(c,E(me(B)));let te=!0,de=0;for(;te;){const X=J[Z+1];if((X==null?void 0:X.name)!="text"){te=!1;break}if(te=X.value.replaceAll(" ","").length===0,te&&(Z+=2,de++),de>o(a).length)break}let fe=0;for(let X=o(v)+1+de;X<o(a).length;X++){const ie=o(a)[X];ie.centiseconds!=null&&(fe+=ie.centiseconds)}const ce=J.slice(Z);B.end=Ea(T),B.start=Ea(T-fe/100),B.content=xe(ce),p(c,o(c)+(`
`+me(B))),p(l,E([xe(U.filter(X=>X.name=="text")),xe(ce.filter(X=>X.name=="text"))]))}async function h(){await navigator.clipboard.writeText(o(c)),alert("¡Líneas copiadas al portapapeles!")}function S(){p(a,E([]));const B=Ge(o(i));if(B==null)return[];const J=ge(B.content);ja(J);for(let V=0;V<J.length;V++){const Z=J[V];if(Z.name!="text")continue;o(a).push({index:V,text:Z.value.replaceAll(" ",""),centiseconds:null});const ae=V-1;if(ae<0)continue;const j=J[ae];if(j.name!="effect")continue;const T=j.tags.find(ne=>ne.name===g.kLowerCase||ne.name===g.kUpperCase||ne.name===g.kf||ne.name===g.ko);T==null||!(T.name===g.kLowerCase||T.name===g.kUpperCase||T.name===g.kf||T.name===g.ko)||(o(a)[o(a).length-1].centiseconds=T.value)}return p(v,E(Math.floor(o(a).length/2))),o(a)}Qe(()=>{S(),b()});var w=yo();Ke(B=>{Xe.title=n});var _=y(w);_.textContent=n;var x=A(_,2),$=A(y(x),2),Q=y($);aa(Q),ua(Q,"placeholder",r),m($),m(x);var H=A(x,2);H.__click=[bo,S];var P=A(H,2),z=A(y(P),2);pa(z,21,()=>o(a),va,(B,J,V)=>{var Z=Be(),ae=Oe(Z);{var j=T=>{var U=ho();U.__click=()=>{p(v,E(V)),b()};var ne=y(U,!0);m(U),Ee(()=>{Qa(U,`button ${(V===o(v)?"is-link":"")??""}`),ua(U,"title",`${o(J).text}: ${o(J).centiseconds} centésimas`),pe(ne,o(J).text)}),se(T,U)};Te(ae,T=>{o(J).text.replaceAll(" ","").length>0&&T(j)})}se(B,Z)}),m(z),m(P);var G=A(P,2),C=A(y(G),2);pa(C,17,()=>o(l),va,(B,J,V)=>{var Z=_o(),ae=y(Z);ae.nodeValue=`Línea ${V+1}: `;var j=A(ae),T=y(j,!0);m(j),m(Z),Ee(()=>pe(T,o(J))),se(B,Z)}),m(G);var k=A(G,2),re=y(k),ee=y(re),q=A(ee);q.__click=[mo,h],q.__keydown=[xo],m(re);var F=A(re,2),M=y(F);Le(M),m(F),m(k),m(w),Ee(()=>pe(ee,`${ue.resultado} `)),ke(Q,()=>o(i),B=>p(i,B)),ke(M,()=>o(c),B=>p(c,B)),se(e,w),Pe()}Ue(["click","keydown"]);async function Ao(e,t,n,r){var l;const i=[...((l=o(t))==null?void 0:l.files)??[]];p(n,E([]));for(const c of i){const a=await c.text(),v=dl(a);if(v==null){console.error("archivo inválido",c.name);continue}const b=r(v);o(n).push({fileName:c.name,errors:b})}o(t)!=null&&(o(t).value="")}var No=ye('<span class="file-error svelte-me3wsp"> </span>'),Eo=ye('<div class="result svelte-me3wsp"><span> </span> <div class="file-errors svelte-me3wsp"></div></div>'),$o=ye('<section class="svelte-me3wsp"><h1 class="title is-5"></h1> <input type="file" accept=".ass" multiple> <!></section>');function Co(e,t){Ve(t,!0);const n=ue.validarDialogos;let r=N(void 0),i=N(E([]));function l(h){const S=[],w=h.scriptInfo.properties.get("WrapStyle")??"",_="0";w!==_&&S.push(`script info, wrap style: se esperaba "${_}", pero se encontró "${w}"`);const x=h.scriptInfo.properties.get("ScaledBorderAndShadow")??"",$="yes";return x!==$&&S.push(`script info, scaled border and shadow: se esperaba "${$}", pero se encontró "${x}"`),S}var c=$o();Ke(h=>{Xe.title=n});var a=y(c);a.textContent=n;var v=A(a,2);v.__change=[Ao,r,i,l],Fe(v,h=>p(r,h),()=>o(r));var b=A(v,2);pa(b,17,()=>o(i),va,(h,S)=>{var w=Eo(),_=y(w),x=y(_,!0);m(_);var $=A(_,2);pa($,21,()=>o(S).errors,va,(Q,H,P)=>{var z=No(),G=y(z);m(z),Ee(()=>pe(G,`${P+1}. ${o(H)??""}`)),se(Q,z)}),m($),m(w),Ee(()=>{Qa(_,`name ${(o(S).errors.length==0?"success":"failed")??""} svelte-me3wsp`),pe(x,o(S).fileName)}),se(h,w)}),m(c),se(e,c),Pe()}Ue(["change"]);function So(e,t){Ve(t,!0);let n=N("");Qe(()=>{Ha.subscribe(h=>{h!=null&&p(n,E(h))});const v=new URLSearchParams(location.search).get("pagina")??"",b=Sn(v)?v:"inicio";Ha.set(b)});var r=Be(),i=Oe(r);{var l=a=>{Kl(a)},c=a=>{var v=Be(),b=Oe(v);{var h=w=>{zl(w,{})},S=w=>{var _=Be(),x=Oe(_);{var $=H=>{uo(H,{})},Q=H=>{var P=Be(),z=Oe(P);{var G=k=>{ao(k,{})},C=k=>{var re=Be(),ee=Oe(re);{var q=M=>{ro(M,{})},F=M=>{var B=Be(),J=Oe(B);{var V=ae=>{Co(ae,{})},Z=ae=>{var j=Be(),T=Oe(j);{var U=te=>{ko(te,{})},ne=te=>{var de=Be(),fe=Oe(de);{var ce=ie=>{go(ie,{})},X=ie=>{var be=Be(),De=Oe(be);{var $e=Ae=>{jl(Ae,{})};Te(De,Ae=>{o(n)=="acercaDe"&&Ae($e)},!0)}se(ie,be)};Te(fe,ie=>{o(n)=="karaokes.dividirSilabas"?ie(ce):ie(X,!1)},!0)}se(te,de)};Te(T,te=>{o(n)=="karaokes.dividirKaraoke"?te(U):te(ne,!1)},!0)}se(ae,j)};Te(J,ae=>{o(n)=="dialogos.validarDialogos"?ae(V):ae(Z,!1)},!0)}se(M,B)};Te(ee,M=>{o(n)=="carteles.aplicarColor"?M(q):M(F,!1)},!0)}se(k,re)};Te(z,k=>{o(n)=="carteles.aplicarAlpha"?k(G):k(C,!1)},!0)}se(H,P)};Te(x,H=>{o(n)=="carteles.aplicarSecuenciaPosiciones"?H($):H(Q,!1)},!0)}se(w,_)};Te(b,w=>{o(n)=="carteles.copiarMovimiento"?w(h):w(S,!1)},!0)}se(a,v)};Te(i,a=>{o(n)=="inicio"?a(l):a(c,!1)})}se(e,r),Pe()}var wo=ye('<section class="svelte-70scd4"><!></section>');function Ho(e){var t=wo(),n=y(t);So(n,{}),m(t),se(e,t)}export{Ho as component,Po as universal};
