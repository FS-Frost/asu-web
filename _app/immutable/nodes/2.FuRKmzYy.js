import{d as Ae,t as ae,e as Ne,s as te,a as G,b as La,c as Se}from"../chunks/CwJ6XYGs.js";import"../chunks/BF8XUEzE.js";import{a9 as ga,aa as _a,ab as Ba,J as fa,X as na,Q as He,ag as za,ae as Ma,R as Oa,O as ja,g as e,j as Xa,V as qa,W as ma,Y as oa,a0 as Ue,am as Ga,Z as Ta,_ as Da,$ as Ya,av as Va,aq as Aa,N as Ka,m as Ua,H as xa,aw as sa,a3 as Wa,ax as va,ay as Ja,az as ha,aA as ka,aB as Qa,ap as Za,aC as et,aD as at,aE as tt,ad as lt,aF as rt,b as Fa,a2 as Ra,a1 as $a,y as Ee,a as Ha,a7 as _,l as o,a6 as Fe,aG as Ie,C as f,E as m,D as c,A as ne,B as Ce,aH as aa,z as we,a8 as nt}from"../chunks/CCHRc5u3.js";import{a as ot,p as x,i as se,b as me}from"../chunks/CBNot3_l.js";import{f as st,p as Pe,h as oe,i as it,j as Xe,r as ct,T as $e,k as ut,l as fe,m as ve,t as re,n as je,o as xe,B as dt,c as ft,g as vt,q as ht,b as ze,u as bt,v as ia,w as Te,x as pt,y as gt,z as _t,A as mt,C as xt,D as De,E as kt,F as yt,G as wt,H as Et,I as Ct,J as St,K as Lt,s as ta,L as ya,M as wa,N as ca,O as Tt,P as Ea,Q as Dt,a as Ca,R as Vt}from"../chunks/D_9slS4N.js";import{p as Oe}from"../chunks/C-7UMIG7.js";function At(a){var l=Ba,n=fa;ga(null),_a(null);try{return a()}finally{ga(l),_a(n)}}function ba(a,l,n,r=n){a.addEventListener(l,()=>At(n));const s=a.__on_r;s?a.__on_r=()=>{s(),r(!0)}:a.__on_r=()=>r(!0),st()}function Qe(a,l){return l}function Ft(a,l,n,r){for(var s=[],i=l.length,u=0;u<i;u++)Qa(l[u].e,s,!0);var v=i>0&&s.length===0&&n!==null;if(v){var b=n.parentNode;Za(b),b.append(n),r.clear(),Be(a,l[0].prev,l[i-1].next)}et(s,()=>{for(var L=0;L<i;L++){var d=l[L];v||(r.delete(d.k),Be(a,d.prev,d.next)),at(d.e,!v)}})}function Ze(a,l,n,r,s,i=null){var u=a,v={items:new Map,first:null},b=(l&Va)!==0;if(b){var L=a;u=He?na(za(L)):L.appendChild(Ma())}He&&Oa();var d=null,F=!1,p=Xa(()=>{var C=n();return Ka(C)?C:C==null?[]:Aa(C)});ja(()=>{var C=e(p),g=C.length;if(F&&g===0)return;F=g===0;let T=!1;if(He){var R=u.data===qa;R!==(g===0)&&(u=ma(),na(u),oa(!1),T=!0)}if(He){for(var w=null,V,H=0;H<g;H++){if(Ue.nodeType===8&&Ue.data===Ga){u=Ue,T=!0,oa(!1);break}var k=C[H],y=r(k,H);V=Pa(Ue,v,w,null,k,y,H,s,l,n),v.items.set(y,V),w=V}g>0&&na(ma())}He||Rt(C,v,u,s,l,r,n),i!==null&&(g===0?d?Ta(d):d=Da(()=>i(u)):d!==null&&Ya(d,()=>{d=null})),T&&oa(!0),e(p)}),He&&(u=Ue)}function Rt(a,l,n,r,s,i,u){var E,$,j,I;var v=(s&Ja)!==0,b=(s&(ha|va))!==0,L=a.length,d=l.items,F=l.first,p=F,C,g=null,T,R=[],w=[],V,H,k,y;if(v)for(y=0;y<L;y+=1)V=a[y],H=i(V,y),k=d.get(H),k!==void 0&&((E=k.a)==null||E.measure(),(T??(T=new Set)).add(k));for(y=0;y<L;y+=1){if(V=a[y],H=i(V,y),k=d.get(H),k===void 0){var X=p?p.e.nodes_start:n;g=Pa(X,l,g,g===null?l.first:g.next,V,H,y,r,s,u),d.set(H,g),R=[],w=[],p=g.next;continue}if(b&&$t(k,V,y,s),k.e.f&sa&&(Ta(k.e),v&&(($=k.a)==null||$.unfix(),(T??(T=new Set)).delete(k))),k!==p){if(C!==void 0&&C.has(k)){if(R.length<w.length){var Y=w[0],D;g=Y.prev;var B=R[0],S=R[R.length-1];for(D=0;D<R.length;D+=1)Sa(R[D],Y,n);for(D=0;D<w.length;D+=1)C.delete(w[D]);Be(l,B.prev,S.next),Be(l,g,B),Be(l,S,Y),p=Y,g=S,y-=1,R=[],w=[]}else C.delete(k),Sa(k,p,n),Be(l,k.prev,k.next),Be(l,k,g===null?l.first:g.next),Be(l,g,k),g=k;continue}for(R=[],w=[];p!==null&&p.k!==H;)p.e.f&sa||(C??(C=new Set)).add(p),w.push(p),p=p.next;if(p===null)continue;k=p}R.push(k),g=k,p=k.next}if(p!==null||C!==void 0){for(var A=C===void 0?[]:Aa(C);p!==null;)p.e.f&sa||A.push(p),p=p.next;var K=A.length;if(K>0){var Q=s&Va&&L===0?n:null;if(v){for(y=0;y<K;y+=1)(j=A[y].a)==null||j.measure();for(y=0;y<K;y+=1)(I=A[y].a)==null||I.fix()}Ft(l,A,Q,d)}}v&&Wa(()=>{var J;if(T!==void 0)for(k of T)(J=k.a)==null||J.apply()}),fa.first=l.first&&l.first.e,fa.last=g&&g.e}function $t(a,l,n,r){r&ha&&ka(a.v,l),r&va?ka(a.i,n):a.i=n}function Pa(a,l,n,r,s,i,u,v,b,L){var d=(b&ha)!==0,F=(b&tt)===0,p=d?F?Ua(s):xa(s):s,C=b&va?xa(u):u,g={i:C,v:p,k:i,a:null,e:null,prev:n,next:r};try{return g.e=Da(()=>v(a,p,C,L),He),g.e.prev=n&&n.e,g.e.next=r&&r.e,n===null?l.first=g:(n.next=g,n.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Sa(a,l,n){for(var r=a.next?a.next.e.nodes_start:n,s=l?l.e.nodes_start:n,i=a.e.nodes_start;i!==r;){var u=lt(i);s.before(i),i=u}}function Be(a,l,n){l===null?a.first=n:(l.next=n,l.e.next=n&&n.e),n!==null&&(n.prev=l,n.e.prev=l&&l.e)}function be(a,l,n=l){var r=rt();ba(a,"input",s=>{var i=s?a.defaultValue:a.value;if(i=ua(a)?da(i):i,n(i),r&&i!==(i=l())){var u=a.selectionStart,v=a.selectionEnd;a.value=i??"",v!==null&&(a.selectionStart=u,a.selectionEnd=Math.min(v,a.value.length))}}),(He&&a.defaultValue!==a.value||Fa(l)==null&&a.value)&&n(ua(a)?da(a.value):a.value),Ra(()=>{var s=l();ua(a)&&s===da(a.value)||a.type==="date"&&!s&&!a.value||s!==a.value&&(a.value=s??"")})}function pa(a,l,n=l){ba(a,"change",r=>{var s=r?a.defaultChecked:a.checked;n(s)}),(He&&a.defaultChecked!==a.checked||Fa(l)==null)&&n(a.checked),Ra(()=>{var r=l();a.checked=!!r})}function ua(a){var l=a.type;return l==="number"||l==="range"}function da(a){return a===""?null:+a}function Na(a,l,n){if(a.multiple)return Nt(a,l);for(var r of a.options){var s=ea(r);if(ot(s,l)){r.selected=!0;return}}(!n||l!==void 0)&&(a.selectedIndex=-1)}function Ht(a,l){$a(()=>{var n=new MutationObserver(()=>{var r=a.__value;Na(a,r)});return n.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function Pt(a,l,n=l){var r=!0;ba(a,"change",s=>{var i=s?"[selected]":":checked",u;if(a.multiple)u=[].map.call(a.querySelectorAll(i),ea);else{var v=a.querySelector(i)??a.querySelector("option:not([disabled])");u=v&&ea(v)}n(u)}),$a(()=>{var s=l();if(Na(a,s,r),r&&s===void 0){var i=a.querySelector(":checked");i!==null&&(s=ea(i),n(s))}a.__value=s,r=!1}),Ht(a)}function Nt(a,l){for(var n of a.options)n.selected=~l.indexOf(ea(n))}function ea(a){return"__value"in a?a.__value:a.value}const It=!0,er=Object.freeze(Object.defineProperty({__proto__:null,prerender:It},Symbol.toStringTag,{value:"Module"}));var Bt=(a,l)=>l(),zt=()=>{},Mt=ae('<section class="svelte-jzi2e1"><h1></h1> <div class="field"><label class="label" for="">Movimiento base</label> <div class="control"><input class="input" type="text" placeholder="\\move(10,20,30,40)"></div></div> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function Ot(a,l){Ee(l,!0);const n=re.copiarMovimiento;let r=_("Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\move(320,470,320,168,0,4963)}Urusai!"),s=_(""),i=_("");Ha(()=>{u(e(r),e(s))});function u(D,B){if(B.length==0)return;const S=B.split(`
`);console.log(S);const A=Pe(D);if(A==null){console.error("invalid base line",D);return}const K=oe(A.content),Q=it(K);if(Q==null){console.error("base move not found");return}const E=Q.x2-Q.x1,$=Q.y2-Q.y1;let j="";for(let I=0;I<S.length;I++){const J=S[I];if(J.length==0)continue;const z=Pe(J);if(z==null){console.error(`line ${I+1}: invalid line`);break}const M=oe(z.content),q=Xe(M);if(q==null){console.error(`line ${I+1}: pos not found`);break}ct(M,$e.pos);const le=q.x,ie=q.y,de=q.x+E,he=q.y+$;ut(M,le,ie,de,he,Q.t1,Q.t2);const ee=fe(M);z.content=ee;const Z=ve(z);console.log(Z),I>0&&(j+=`
`),j+=Z}o(i,x(j))}async function v(){await navigator.clipboard.writeText(e(i)),alert("¡Líneas copiadas al portapapeles!")}Fe(()=>{for(let D=1;D<=10;D++){const B=182+D*5,S=421+D*7;o(s,e(s)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(${B},${S})}LINEA ${D}
`)}});var b=Mt();Ne(D=>{Ie.title=n});var L=f(b);L.textContent=n;var d=m(L,2),F=m(f(d),2),p=f(F);je(p),c(F),c(d);var C=m(d,2),g=f(C),T=f(g,!0);c(g);var R=m(g,2),w=f(R);xe(w),c(R),c(C);var V=m(C,2),H=f(V),k=f(H),y=m(k);y.__click=[Bt,v],y.__keydown=[zt],c(H);var X=m(H,2),Y=f(X);xe(Y),c(X),c(V),c(b),ne(()=>{te(T,re.subtitulos),te(k,`${re.resultado} `)}),be(p,()=>e(r),D=>o(r,D)),be(w,()=>e(s),D=>o(s,D)),be(Y,()=>e(i),D=>o(i,D)),G(a,b),Ce()}Ae(["click","keydown"]);var jt=ae('<span class="version svelte-1ghhrj6"><a target="_blank"> </a></span>'),Xt=ae(`<div class="text-column"><h1></h1> <!> <div class="kagamin svelte-1ghhrj6"><img src="img/kagamin.gif" alt="Lucky Star" title="Lucky Star" class="svelte-1ghhrj6"></div> <p class="mt-2">Asu es una herramienta para automatizar el procesamiento de subtítulos
        en formato SubStation Alpha Subtitles (SSA/ASS).</p> <hr class="svelte-1ghhrj6"> <p>Asu versión web, de <a href="https://github.com/FS-Frost" target="_blank">[FS] Frost</a> para <a href="http://syncrajo.net/" target="_blank">SyncRajo Fansub</a>.</p> <p class="mt-2">Agradecimientos por su ayuda a:</p> <ul><li>- <b>[EC] DarkAngel</b>: por desarrollar <b>SyncRajoEndline</b> y por
            la idea de separar sílabas en karaokes.</li> <li>- <b>[GX] Gonxas</b>: por el hardcore testing y el script para crear
            archivos AVS.</li> <li>- <b>[Sr] Hell</b>: por proveer un servicio de host.</li></ul> <p class="mt-2"><b>Visítanos en <a href="http://syncrajo.net/" target="_blank">http://syncrajo.net</a></b></p> <hr class="svelte-1ghhrj6"> <p>Versiones de Asu:</p> <ul><li><a href="https://github.com/FS-Frost/Asu.Utilidades" target="_blank">- (2014) Asu para .NET/C#</a></li> <li><a href="https://github.com/FS-Frost/asu-go2js" target="_blank">- (2022) Asu para Go y JavaScript</a></li> <li><a href="https://github.com/FS-Frost/asu-regex-js" target="_blank">- (2024) Asu para TypeScript</a></li></ul></div>`);function qt(a,l){Ee(l,!0);const n=re.acercaDe;let r=_(x(dt.parse({})));Fe(async()=>{ft.subscribe(b=>{b!=null&&o(r,x(b))})});var s=Xt();Ne(b=>{Ie.title=n});var i=f(s);i.textContent=n;var u=m(i,2);{var v=b=>{var L=jt(),d=f(L),F=f(d);c(d),c(L),ne((p,C)=>{ze(d,"href",p),te(F,`Versión ${e(r).ref??""}.${C??""} desplegada
                por
                ${e(r).actor??""}`)},[()=>vt(e(r).actor,e(r).repo,e(r).sha),()=>ht(e(r).sha)]),G(b,L)};se(u,b=>{e(r).sha!=""&&b(v)})}aa(20),c(s),G(a,s),Ce()}var Gt=ae('<img class="wallpaper svelte-1ic3zkr" src="img/hyouka.jpg" alt="Hyouka" title="Hyouka">');function Yt(a){var l=Gt();Ne(n=>{Ie.title="Asu"}),G(a,l)}var Kt=(a,l)=>l(),Ut=ae("<b> </b>"),Wt=ae('<div class="field alpha-box svelte-9wq0vr"><div class="svelte-9wq0vr"><label class="checkbox"><input type="checkbox"> <!></label></div> <div class="alpha-inputs svelte-9wq0vr"><div class="alpha-value svelte-9wq0vr"><label class="label" for="">Valor inicial</label> <div class="control"><input class="input" type="text"></div></div> <div class="alpha-value svelte-9wq0vr"><label class="label" for="">Valor Final</label> <div class="control"><input class="input" type="text"></div></div></div></div>');function Ve(a,l){Ee(l,!0);let n=Oe(l,"label",3,""),r=Oe(l,"disabled",15,!1),s=Oe(l,"startValue",15,""),i=Oe(l,"endValue",15,""),u=Oe(l,"startPlaceholder",3,""),v=Oe(l,"endPlaceholder",3,""),b=_(void 0);function L(){var S;if((S=e(b))!=null&&S.checked){d();return}F()}function d(){r()&&(r(!1),e(b)&&(e(b).checked=!0),l.onEnabled&&l.onEnabled())}function F(){r()||(r(!0),e(b)&&(e(b).checked=!1),l.onDisabled&&l.onDisabled())}Fe(()=>{e(b)&&(e(b).checked=!r())});var p=Wt(),C=f(p),g=f(C),T=f(g);T.__change=[Kt,L],me(T,S=>o(b,S),()=>e(b));var R=m(T,2);{var w=S=>{var A=La();ne(()=>te(A,`${n()??""}
                (deshabilitado)`)),G(S,A)},V=S=>{var A=Ut(),K=f(A,!0);c(A),ne(()=>te(K,n())),G(S,A)};se(R,S=>{r()?S(w):S(V,!1)})}c(g),c(C);var H=m(C,2),k=f(H),y=m(f(k),2),X=f(y);je(X),c(y),c(k);var Y=m(k,2),D=m(f(Y),2),B=f(D);return je(B),c(D),c(Y),c(H),c(p),ne(()=>{ze(X,"placeholder",u()),X.disabled=r(),ze(B,"placeholder",v()),B.disabled=r()}),be(X,s),be(B,i),G(a,p),Ce({enable:d,disable:F})}Ae(["change"]);function We(a,l){const n=[];for(let r=a;r<=l;r++){const s=bt(r);n.push(s)}return n}function Je(a,l,n){const r=Array(n),s=ia(a.blue,l.blue,n);if(s.length!==n)return console.error(`ERROR: blue interpolated values ${s.length} don't match intervals ${n}`),[];const i=ia(a.green,l.green,n);if(i.length!==n)return console.error(`ERROR: green interpolated values ${i.length} don't match intervals ${n}`),[];const u=ia(a.red,l.red,n);if(u.length!==n)return console.error(`ERROR: red interpolated values ${u.length} don't match intervals ${n}`),[];for(var v=0;v<n;v++){const b=Math.floor(s[v]),L=Math.floor(i[v]),d=Math.floor(u[v]);r[v]={blue:b,green:L,red:d}}return r}var Jt=(a,l)=>l(),Qt=()=>{},Zt=ae('<i class="fa-solid fa-copy clickable" role="button" tabindex="0"></i>');function Ia(a,l){Ee(l,!0);async function n(){await navigator.clipboard.writeText(l.rawResultLines),alert(re.lineasCopiadas)}var r=Zt();r.__click=[Jt,n],r.__keydown=[Qt],ne(()=>ze(r,"title",re.copiar)),G(a,r),Ce()}Ae(["click","keydown"]);var el=(a,l)=>l(),al=ae('<section class="svelte-do1mnp"><h1></h1> <label class="label" for="">Configuración alpha</label> <!> <!> <!> <!> <!> <label class="checkbox reverse svelte-do1mnp"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function tl(a,l){Ee(l,!0);const n=re.aplicarAlpha,r="0",s="FF";let i=_(""),u=_(""),v=_("0"),b=_("FF"),L=_("0"),d=_("FF"),F=_("0"),p=_("FF"),C=_("0"),g=_("FF"),T=_("0"),R=_("FF"),w=_(!1),V=_(!0),H=_(!0),k=_(!0),y=_(!0),X=_(void 0),Y=_(void 0),D=_(void 0),B=_(void 0),S=_(void 0),A=_(!1);function K(){var t,pe,P,N;(t=e(Y))==null||t.disable(),(pe=e(D))==null||pe.disable(),(P=e(B))==null||P.disable(),(N=e(S))==null||N.disable()}function Q(){var t,pe,P,N;e(V)&&e(H)&&e(k)&&e(y)&&((t=e(Y))==null||t.enable(),(pe=e(D))==null||pe.disable(),(P=e(B))==null||P.disable(),(N=e(S))==null||N.disable())}function E(){var t;(t=e(X))==null||t.disable()}function $(){var t;e(V)&&e(H)&&e(k)&&e(y)&&((t=e(X))==null||t.enable())}function j(){const t=[],pe=e(i).split(`
`);for(const P of pe){if(P.length==0)continue;const N=Pe(P);N!=null&&t.push(N)}if(!e(w)){const P=Te(e(v)),N=Te(e(b));if(P>=N){alert("El inicio de alpha total debe ser menor al fin.");return}if(P<0){alert("El inicio de alpha total debe ser mayor o igual a 00 (0).");return}if(N>255){alert("El fin de alpha total debe ser menor o igual a FF (255).");return}const O=We(P,N);e(A)&&O.reverse();let U="";for(let h=0;h<t.length;h++){let W=Math.floor(O.length*h/t.length);W>=O.length&&(W=O.length-1);const ue=`&H${O[W]}&`,ge=oe(t[h].content);pt(ge,ue),t[h].content=fe(ge);const Re=ve(t[h]);h>0&&(U+=`
`),U+=Re}o(u,x(U));return}if(!e(V)){const P=Te(e(L)),N=Te(e(d));if(P>=N){alert("El inicio de alpha 1 debe ser menor al fin.");return}if(P<0){alert("El inicio de alpha 1 debe ser mayor o igual a 00 (0).");return}if(N>255){alert("El fin de alpha 1 debe ser menor o igual a FF (255).");return}const O=We(P,N);e(A)&&O.reverse();let U="";for(let h=0;h<t.length;h++){let W=Math.floor(O.length*h/t.length);W>=O.length&&(W=O.length-1);const ue=`&H${O[W]}&`,ge=oe(t[h].content);gt(ge,ue),t[h].content=fe(ge);const Re=ve(t[h]);h>0&&(U+=`
`),U+=Re}o(u,x(U))}if(!e(H)){const P=Te(e(F)),N=Te(e(p));if(P>=N){alert("El inicio de alpha 2 debe ser menor al fin.");return}if(P<0){alert("El inicio de alpha 2 debe ser mayor o igual a 00 (0).");return}if(N>255){alert("El fin de alpha 2 debe ser menor o igual a FF (255).");return}const O=We(P,N);e(A)&&O.reverse();let U="";for(let h=0;h<t.length;h++){let W=Math.floor(O.length*h/t.length);W>=O.length&&(W=O.length-1);const ue=`&H${O[W]}&`,ge=oe(t[h].content);_t(ge,ue),t[h].content=fe(ge);const Re=ve(t[h]);h>0&&(U+=`
`),U+=Re}o(u,x(U))}if(!e(k)){const P=Te(e(C)),N=Te(e(g));if(P>=N){alert("El inicio de alpha 3 debe ser menor al fin.");return}if(P<0){alert("El inicio de alpha 3 debe ser mayor o igual a 00 (0).");return}if(N>255){alert("El fin de alpha 3 debe ser menor o igual a FF (255).");return}const O=We(P,N);e(A)&&O.reverse();let U="";for(let h=0;h<t.length;h++){let W=Math.floor(O.length*h/t.length);W>=O.length&&(W=O.length-1);const ue=`&H${O[W]}&`,ge=oe(t[h].content);mt(ge,ue),t[h].content=fe(ge);const Re=ve(t[h]);h>0&&(U+=`
`),U+=Re}o(u,x(U))}if(!e(y)){const P=Te(e(T)),N=Te(e(R));if(P>=N){alert("El inicio de alpha 4 debe ser menor al fin.");return}if(P<0){alert("El inicio de alpha 4 debe ser mayor o igual a 00 (0).");return}if(N>255){alert("El fin de alpha 4 debe ser menor o igual a FF (255).");return}const O=We(P,N);e(A)&&O.reverse();let U="";for(let h=0;h<t.length;h++){let W=Math.floor(O.length*h/t.length);W>=O.length&&(W=O.length-1);const ue=`&H${O[W]}&`,ge=oe(t[h].content);xt(ge,ue),t[h].content=fe(ge);const Re=ve(t[h]);h>0&&(U+=`
`),U+=Re}o(u,x(U))}}Fe(()=>{for(let t=1;t<=10;t++)o(i,e(i)+`Dialogue: 0,0:00:00.00,0:00:05.00,Default,,0,0,0,,{\\pos(182,421)}LINEA ${t}
`)});var I=al();Ne(t=>{Ie.title=n});var J=f(I);J.textContent=n;var z=m(J,4);me(Ve(z,{label:"Alpha total",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>K(),onDisabled:()=>Q(),get startValue(){return e(v)},set startValue(t){o(v,x(t))},get endValue(){return e(b)},set endValue(t){o(b,x(t))},get disabled(){return e(w)},set disabled(t){o(w,x(t))}}),t=>o(X,x(t)),()=>e(X));var M=m(z,2);me(Ve(M,{label:"Alpha 1",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>E(),onDisabled:()=>$(),get startValue(){return e(L)},set startValue(t){o(L,x(t))},get endValue(){return e(d)},set endValue(t){o(d,x(t))},get disabled(){return e(V)},set disabled(t){o(V,x(t))}}),t=>o(Y,x(t)),()=>e(Y));var q=m(M,2);me(Ve(q,{label:"Alpha 2",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>E(),onDisabled:()=>$(),get startValue(){return e(F)},set startValue(t){o(F,x(t))},get endValue(){return e(p)},set endValue(t){o(p,x(t))},get disabled(){return e(H)},set disabled(t){o(H,x(t))}}),t=>o(D,x(t)),()=>e(D));var le=m(q,2);me(Ve(le,{label:"Alpha 3",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>E(),onDisabled:()=>$(),get startValue(){return e(C)},set startValue(t){o(C,x(t))},get endValue(){return e(g)},set endValue(t){o(g,x(t))},get disabled(){return e(k)},set disabled(t){o(k,x(t))}}),t=>o(B,x(t)),()=>e(B));var ie=m(le,2);me(Ve(ie,{label:"Alpha 4",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>E(),onDisabled:()=>$(),get startValue(){return e(T)},set startValue(t){o(T,x(t))},get endValue(){return e(R)},set endValue(t){o(R,x(t))},get disabled(){return e(y)},set disabled(t){o(y,x(t))}}),t=>o(S,x(t)),()=>e(S));var de=m(ie,2),he=f(de);je(he),aa(),c(de);var ee=m(de,2),Z=f(ee),_e=f(Z,!0);c(Z);var Le=m(Z,2),ke=f(Le);xe(ke),c(Le),c(ee);var ye=m(ee,2);ye.__click=[el,j];var la=f(ye,!0);c(ye);var qe=m(ye,2),Me=f(qe),Ge=f(Me),ra=m(Ge);Ia(ra,{get rawResultLines(){return e(u)}}),c(Me);var Ye=m(Me,2),Ke=f(Ye);xe(Ke),c(Ye),c(qe),c(I),ne(()=>{te(_e,re.subtitulos),te(la,re.aplicarAlpha),te(Ge,`${re.resultado} `)}),pa(he,()=>e(A),t=>o(A,t)),be(ke,()=>e(i),t=>o(i,t)),be(Ke,()=>e(u),t=>o(u,t)),G(a,I),Ce()}Ae(["click"]);var ll=(a,l)=>l(),rl=ae('<section class="svelte-do1mnp"><h1></h1> <label class="label" for="">Configuración de color</label> <!> <!> <!> <!> <!> <label class="checkbox reverse svelte-do1mnp"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <button class="button is-link is-fullwidth"> </button> <div class="field mt-2"><label class="label" for=""> <!></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function nl(a,l){Ee(l,!0);const n=re.aplicarColor,r="&HFFFFFF&",s="&H000000&";let i=_(""),u=_(""),v=_(r),b=_(s),L=_(r),d=_(s),F=_(r),p=_(s),C=_(r),g=_(s),T=_(r),R=_(s),w=_(!1),V=_(!0),H=_(!0),k=_(!0),y=_(!0),X=_(void 0),Y=_(void 0),D=_(void 0),B=_(void 0),S=_(void 0),A=_(!1);function K(){var t,pe,P,N;(t=e(Y))==null||t.disable(),(pe=e(D))==null||pe.disable(),(P=e(B))==null||P.disable(),(N=e(S))==null||N.disable()}function Q(){var t,pe,P,N;e(V)&&e(H)&&e(k)&&e(y)&&((t=e(Y))==null||t.enable(),(pe=e(D))==null||pe.disable(),(P=e(B))==null||P.disable(),(N=e(S))==null||N.disable())}function E(){var t;(t=e(X))==null||t.disable()}function $(){var t;e(V)&&e(H)&&e(k)&&e(y)&&((t=e(X))==null||t.enable())}function j(){const t=[],pe=e(i).split(`
`);for(const P of pe){if(P.length==0)continue;const N=Pe(P);N!=null&&t.push(N)}if(!e(w)){const P=De(e(v));if(P==null){alert(`Color total de inicio inválido: ${e(v)}`);return}const N=De(e(b));if(N==null){alert(`Color total de fin inválido: ${e(b)}`);return}const O=Je(P,N,t.length);e(A)&&O.reverse();let U="";for(let h=0;h<t.length;h++){const W=O[h],ce=oe(t[h].content);kt(ce,W.blue,W.green,W.red),t[h].content=fe(ce);const ue=ve(t[h]);h>0&&(U+=`
`),U+=ue}o(u,x(U));return}if(!e(V)){const P=De(e(L));if(P==null){alert(`Color 1 de inicio inválido: ${e(L)}`);return}const N=De(e(d));if(N==null){alert(`Color 1 de fin inválido: ${e(d)}`);return}const O=Je(P,N,t.length);e(A)&&O.reverse();let U="";for(let h=0;h<t.length;h++){const W=O[h],ce=oe(t[h].content);yt(ce,W.blue,W.green,W.red),t[h].content=fe(ce);const ue=ve(t[h]);h>0&&(U+=`
`),U+=ue}o(u,x(U))}if(!e(H)){const P=De(e(F));if(P==null){alert(`Color 2 de inicio inválido: ${e(F)}`);return}const N=De(e(p));if(N==null){alert(`Color 2 de fin inválido: ${e(p)}`);return}const O=Je(P,N,t.length);e(A)&&O.reverse();let U="";for(let h=0;h<t.length;h++){const W=O[h],ce=oe(t[h].content);wt(ce,W.blue,W.green,W.red),t[h].content=fe(ce);const ue=ve(t[h]);h>0&&(U+=`
`),U+=ue}o(u,x(U))}if(!e(k)){const P=De(e(C));if(P==null){alert(`Color 3 de inicio inválido: ${e(C)}`);return}const N=De(e(g));if(N==null){alert(`Color 3 de fin inválido: ${e(g)}`);return}const O=Je(P,N,t.length);e(A)&&O.reverse();let U="";for(let h=0;h<t.length;h++){const W=O[h],ce=oe(t[h].content);Et(ce,W.blue,W.green,W.red),t[h].content=fe(ce);const ue=ve(t[h]);h>0&&(U+=`
`),U+=ue}o(u,x(U))}if(!e(y)){const P=De(e(T));if(P==null){alert(`Color 4 de inicio inválido: ${e(T)}`);return}const N=De(e(R));if(N==null){alert(`Color 4 de fin inválido: ${e(R)}`);return}const O=Je(P,N,t.length);e(A)&&O.reverse();let U="";for(let h=0;h<t.length;h++){const W=O[h],ce=oe(t[h].content);Ct(ce,W.blue,W.green,W.red),t[h].content=fe(ce);const ue=ve(t[h]);h>0&&(U+=`
`),U+=ue}o(u,x(U))}}Fe(()=>{o(i,e(i)+`Dialogue: 0,0:00:00.00,0:00:00.02,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.02,0:00:00.06,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.06,0:00:00.10,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.10,0:00:00.14,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.14,0:00:00.18,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.18,0:00:00.23,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.23,0:00:00.27,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+`Dialogue: 0,0:00:00.27,0:00:00.31,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO
`),o(i,e(i)+"Dialogue: 0,0:00:00.31,0:00:00.35,Default,,0,0,0,,{\\fs42\\bord3\\shad0}TEXTO")});var I=rl();Ne(t=>{Ie.title=n});var J=f(I);J.textContent=n;var z=m(J,4);me(Ve(z,{label:"Color total",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>K(),onDisabled:()=>Q(),get startValue(){return e(v)},set startValue(t){o(v,x(t))},get endValue(){return e(b)},set endValue(t){o(b,x(t))},get disabled(){return e(w)},set disabled(t){o(w,x(t))}}),t=>o(X,x(t)),()=>e(X));var M=m(z,2);me(Ve(M,{label:"Color 1",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>E(),onDisabled:()=>$(),get startValue(){return e(L)},set startValue(t){o(L,x(t))},get endValue(){return e(d)},set endValue(t){o(d,x(t))},get disabled(){return e(V)},set disabled(t){o(V,x(t))}}),t=>o(Y,x(t)),()=>e(Y));var q=m(M,2);me(Ve(q,{label:"Color 2",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>E(),onDisabled:()=>$(),get startValue(){return e(F)},set startValue(t){o(F,x(t))},get endValue(){return e(p)},set endValue(t){o(p,x(t))},get disabled(){return e(H)},set disabled(t){o(H,x(t))}}),t=>o(D,x(t)),()=>e(D));var le=m(q,2);me(Ve(le,{label:"Color 3",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>E(),onDisabled:()=>$(),get startValue(){return e(C)},set startValue(t){o(C,x(t))},get endValue(){return e(g)},set endValue(t){o(g,x(t))},get disabled(){return e(k)},set disabled(t){o(k,x(t))}}),t=>o(B,x(t)),()=>e(B));var ie=m(le,2);me(Ve(ie,{label:"Color 4",startPlaceholder:r,endPlaceholder:s,onEnabled:()=>E(),onDisabled:()=>$(),get startValue(){return e(T)},set startValue(t){o(T,x(t))},get endValue(){return e(R)},set endValue(t){o(R,x(t))},get disabled(){return e(y)},set disabled(t){o(y,x(t))}}),t=>o(S,x(t)),()=>e(S));var de=m(ie,2),he=f(de);je(he),aa(),c(de);var ee=m(de,2),Z=f(ee),_e=f(Z,!0);c(Z);var Le=m(Z,2),ke=f(Le);xe(ke),c(Le),c(ee);var ye=m(ee,2);ye.__click=[ll,j];var la=f(ye,!0);c(ye);var qe=m(ye,2),Me=f(qe),Ge=f(Me),ra=m(Ge);Ia(ra,{get rawResultLines(){return e(u)}}),c(Me);var Ye=m(Me,2),Ke=f(Ye);xe(Ke),c(Ye),c(qe),c(I),ne(()=>{te(_e,re.subtitulos),te(la,re.aplicarColor),te(Ge,`${re.resultado} `)}),pa(he,()=>e(A),t=>o(A,t)),be(ke,()=>e(i),t=>o(i,t)),be(Ke,()=>e(u),t=>o(u,t)),G(a,I),Ce()}Ae(["click"]);var ol=(a,l)=>l(),sl=()=>{},il=ae('<section class="svelte-jzi2e1"><h1></h1> <div class="field"><label class="label" for="">Secuencia de posiciones</label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <label class="checkbox reverse"><input type="checkbox"> Aplicar inversamente</label> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea" placeholder="Pega tus líneas aquí"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function cl(a,l){Ee(l,!0);const n=re.aplicarSecuenciaPosiciones;let r=_(""),s=_(""),i=_(""),u=_(!1);Ha(()=>{v(e(r),e(s),e(u))});function v(K,Q,E){if(Q.length==0)return;const $=[];{const J=K.split(`
`);for(const z of J){if(z.length==0)continue;const M=Pe(z);if(M==null)continue;const q=oe(M.content);if(Xe(q)==null){alert(`Línea base sin \\pos copiada: '${z}'`),console.log(z);return}$.push(M)}}const j=[];{const J=Q.split(`
`);for(const z of J){if(z.length==0)continue;const M=Pe(z);if(M==null)continue;const q=oe(M.content);if(Xe(q)==null){alert(`Línea objetivo sin \\pos: '${z}'`),console.log(z);return}j.push(M)}}let I="";for(let J=0;J<j.length;J++){const z=j[J],M=oe(z.content),q=Xe(M);if(q==null){const ee=ve(z);alert(`Línea objetivo sin \\pos: '${ee}'`),console.log(ee);return}let le=q.x,ie=q.y;E&&$.reverse();const de=b($),he=[];for(let ee=0;ee<$.length;ee++){const Z=de[ee][0],_e=de[ee][1],Le=le+Z,ke=ie+_e;le=Le,ie=ke,St(M,Le,ke),z.content=fe(M);const ye=$[ee];z.start=ye.start,z.end=ye.end,he.push(structuredClone(z))}E&&($.reverse(),he.reverse());for(const ee of he)I+=ve(ee)+`
`}o(i,x(I))}function b(K){const E=[[0,0]];for(let $=0;$<K.length-1;$++){const j=K[$],I=K[$+1],J=oe(j.content),z=Xe(J);if(z==null)return alert(`Línea base sin \\pos: '${ve(j)}'`),console.log(j),[];const M=oe(I.content),q=Xe(M);if(q==null)return alert(`Línea base sin \\pos: '${ve(I)}'`),console.log(I),[];const le=q.x-z.x,ie=q.y-z.y;E.push([le,ie])}return E}async function L(){await navigator.clipboard.writeText(e(i)),alert("¡Líneas copiadas al portapapeles!")}Fe(()=>{o(r,e(r)+`Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.6,593.8)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.08,0:23:58.12,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.55,589.69)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.12,0:23:58.16,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.56,585.4)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.16,0:23:58.20,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.41,581.09)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.20,0:23:58.24,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.31,576.78)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.24,0:23:58.29,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.22,572.39)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.29,0:23:58.33,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.06,568.18)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.33,0:23:58.37,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(635.13,563.34)}Tama:
`),o(r,e(r)+`Dialogue: 1,0:23:58.37,0:23:58.41,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.99,558.77)}Tama:
`),o(r,e(r)+"Dialogue: 1,0:23:58.41,0:23:58.45,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(634.96,554.13)}Tama:"),o(s,"Dialogue: 1,0:23:58.04,0:23:58.08,Cartel,,0,0,0,,{\\fax-0.1\\fs56\\an4\\1c&H1E2357&\\3c&HF4F4F4&\\bord0\\blur0.4\\frz354.6\\frx4\\fry354\\pos(1039.6,593.8)}LINEA")});var d=il();Ne(K=>{Ie.title=n});var F=f(d);F.textContent=n;var p=m(F,2),C=m(f(p),2),g=f(C);xe(g),c(C),c(p);var T=m(p,2),R=f(T);je(R),aa(),c(T);var w=m(T,2),V=f(w),H=f(V,!0);c(V);var k=m(V,2),y=f(k);xe(y),c(k),c(w);var X=m(w,2),Y=f(X),D=f(Y),B=m(D);B.__click=[ol,L],B.__keydown=[sl],c(Y);var S=m(Y,2),A=f(S);xe(A),c(S),c(X),c(d),ne(()=>{te(H,re.subtitulos),te(D,`${re.resultado} `)}),be(g,()=>e(r),K=>o(r,K)),pa(R,()=>e(u),K=>o(u,K)),be(y,()=>e(s),K=>o(s,K)),be(A,()=>e(i),K=>o(i,K)),G(a,d),Ce()}Ae(["click","keydown"]);var ul=(a,l)=>l(),dl=()=>{},fl=ae('<section class="svelte-jzi2e1"><h1></h1> <div class="field"><label class="label" for=""> </label> <div class="control"><textarea class="textarea"></textarea></div></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function vl(a,l){Ee(l,!0);const n=re.dividirSilabas;let r=_(""),s=_(""),i=_("");function u(){if(e(s).length==0)return;const y=e(s).split(`
`);let X="";for(let Y=0;Y<y.length;Y++){const D=y[Y];if(D.length==0)continue;const B=Pe(D);if(B==null){console.error(`line ${Y+1}: invalid line`);break}Lt(B);const S=ve(B);Y>0&&(X+=`
`),X+=S}o(i,x(X))}async function v(){await navigator.clipboard.writeText(e(i)),alert("¡Líneas copiadas al portapapeles!")}Fe(()=>{o(r,e(r)+`Comment: 0,0:01:15.11,0:01:17.74,Romaji,,0,0,0,karaoke,dareka wo mamoreru watashi ni natte
`),o(r,e(r)+`Comment: 0,0:01:17.85,0:01:20.44,Romaji,,0,0,0,karaoke,mune wo hatte itsuka omoerun da
`),o(r,e(r)+`Comment: 0,0:01:20.58,0:01:30.42,Romaji,,0,0,0,karaoke,ano hi kimi ni deaete yokatta
`),o(s,x(e(r))),u()});var b=fl();Ne(y=>{Ie.title=n});var L=f(b);L.textContent=n;var d=m(L,2),F=f(d),p=f(F);c(F);var C=m(F,2),g=f(C);xe(g),g.__input=u,c(C),c(d);var T=m(d,2),R=f(T),w=f(R),V=m(w);V.__click=[ul,v],V.__keydown=[dl],c(R);var H=m(R,2),k=f(H);xe(k),c(H),c(T),c(b),ne(()=>{te(p,`${re.subtitulos} (romaji)`),ze(g,"placeholder",e(r)),te(w,`${re.resultado} `)}),be(g,()=>e(s),y=>o(s,y)),be(k,()=>e(i),y=>o(i,y)),G(a,b),Ce()}Ae(["input","click","keydown"]);var hl=ae('<p class="error svelte-tm085k"> </p>'),bl=ae("<button> </button>"),pl=ae('<p class="preview"> <b> </b></p>'),gl=(a,l)=>l(),_l=()=>{},ml=ae('<section class="svelte-tm085k"><h1></h1> <div class="field"><label class="label" for="">Karaoke</label> <div class="control"><input class="input" type="text"></div></div> <!> <div class="mb-2"><label class="label mt-2" for="">Sílaba divisoria</label> <div class="buttons"></div></div> <div class="field"><label class="label" for="">Vista previa</label> <!></div> <div class="field mt-2"><label class="label" for=""> <i class="fa-solid fa-copy clickable" role="button" tabindex="0" title="Copiar"></i></label> <div class="control"><textarea class="textarea"></textarea></div></div></section>');function xl(a,l){Ee(l,!0);const n=re.dividirKaraoke,r="Comment: 0,0:02:44.95,0:02:50.57,Romaji C,,0,0,0,karaoke,{\\kf32}ko{\\kf34}no {\\kf32}de{\\kf32}a{\\kf18}i {\\kf49}ga{\\kf31}{\\k0} {\\kf37}mi{\\kf31}n{\\kf34}na {\\kf19}wo {\\kf31}ka{\\kf34}e{\\kf63}ru {\\kf52}ka{\\kf33}na";let s=_(r),i=_(x([])),u=_(""),v=_(x([])),b=_(0),L=_("");function d(){const E=Pe(e(s));if(E==null)return;const $=oe(E.content);ya($);const j=0;let I=e(v)[e(b)].index+1,J=0;for(let Z=0;Z<=e(b);Z++){const _e=e(v)[Z];_e.centiseconds!=null&&(J+=_e.centiseconds)}const z=wa(E.start),M=wa(E.end),q=$.slice(j,I);E.content=fe(q);const le=J/100;E.end=ca(z+le),o(u,x(ve(E)));let ie=!0,de=0;for(;ie;){const Z=$[I+1];if((Z==null?void 0:Z.name)!="text"){ie=!1;break}if(ie=Z.value.replaceAll(" ","").length===0,ie&&(I+=2,de++),de>e(v).length)break}let he=0;for(let Z=e(b)+1+de;Z<e(v).length;Z++){const _e=e(v)[Z];_e.centiseconds!=null&&(he+=_e.centiseconds)}const ee=$.slice(I);E.end=ca(M),E.start=ca(M-he/100),E.content=fe(ee),o(u,e(u)+(`
`+ve(E))),o(i,x([fe(q.filter(Z=>Z.name=="text")),fe(ee.filter(Z=>Z.name=="text"))]))}async function F(){await navigator.clipboard.writeText(e(u)),alert("¡Líneas copiadas al portapapeles!")}function p(){o(i,x([])),o(u,""),o(v,x([])),o(b,0),o(L,"");const E=Pe(e(s));if(E==null)return o(L,`Línea de karaoke inválida. Se esperaba el formato: <${r}>.`),[];const $=oe(E.content);ya($);for(let j=0;j<$.length;j++){const I=$[j];if(I.name!="text")continue;e(v).push({index:j,text:I.value.replaceAll(" ",""),centiseconds:null});const J=j-1;if(J<0)continue;const z=$[J];if(z.name!="effect")continue;const M=z.tags.find(le=>le.name===$e.kLowerCase||le.name===$e.kUpperCase||le.name===$e.kf||le.name===$e.ko);M==null||!(M.name===$e.kLowerCase||M.name===$e.kUpperCase||M.name===$e.kf||M.name===$e.ko)||(e(v)[e(v).length-1].centiseconds=M.value)}return o(b,x(Math.floor(e(v).length/2))),d(),e(v)}Fe(()=>{p()});var C=ml();Ne(E=>{Ie.title=n});var g=f(C);g.textContent=n;var T=m(g,2),R=m(f(T),2),w=f(R);je(w),ze(w,"placeholder",r),w.__input=p,c(R),c(T);var V=m(T,2);{var H=E=>{var $=hl(),j=f($,!0);c($),ne(()=>te(j,e(L))),G(E,$)};se(V,E=>{e(L)!=""&&E(H)})}var k=m(V,2),y=m(f(k),2);Ze(y,21,()=>e(v),Qe,(E,$,j)=>{var I=Se(),J=we(I);{var z=M=>{var q=bl();q.__click=()=>{o(b,x(j)),d()};var le=f(q,!0);c(q),ne(()=>{ta(q,`button ${(j===e(b)?"is-link":"")??""}`),ze(q,"title",`${e($).text}: ${e($).centiseconds} centésimas`),te(le,e($).text)}),G(M,q)};se(J,M=>{e($).text.replaceAll(" ","").length>0&&M(z)})}G(E,I)}),c(y),c(k);var X=m(k,2),Y=m(f(X),2);Ze(Y,17,()=>e(i),Qe,(E,$,j)=>{var I=pl(),J=f(I);J.nodeValue=`Línea ${j+1}: `;var z=m(J),M=f(z,!0);c(z),c(I),ne(()=>te(M,e($))),G(E,I)}),c(X);var D=m(X,2),B=f(D),S=f(B),A=m(S);A.__click=[gl,F],A.__keydown=[_l],c(B);var K=m(B,2),Q=f(K);xe(Q),c(K),c(D),c(C),ne(()=>te(S,`${re.resultado} `)),be(w,()=>e(s),E=>o(s,E)),be(Q,()=>e(u),E=>o(u,E)),G(a,C),Ce()}Ae(["input","click","keydown"]);async function kl(a,l,n){l(!l()),await n()}var yl=ae('<div class="area svelte-on5caf"><textarea class="textarea is-danger svelte-on5caf" readonly=""></textarea> <button class="button" aria-label="alternar"> </button></div>');function wl(a,l){Ee(l,!0);let n=Oe(l,"rawMode",7),r=_(x(l.text)),s=_(1),i=_(void 0);async function u(){v(),await nt(),b()}function v(){if(n()){o(r,x(l.text));return}const g=oe(l.text).filter(R=>R.name==="text");let T=fe(g);T=T.replaceAll("\\N",""),o(r,x(T))}function b(){o(s,x(L()))}function L(){return e(i)==null?1:Math.ceil(e(i).scrollHeight/e(i).clientHeight)}Fe(async()=>{await u()});var d=yl(),F=f(d);xe(F),me(F,g=>o(i,g),()=>e(i));var p=m(F,2);p.__click=[kl,n,u];var C=f(p,!0);c(p),c(d),ne(()=>{Tt(F,e(r)),ze(F,"rows",e(s)),te(C,n()?"Ocultar etiquetas":"Ver etiquetas")}),G(a,d),Ce()}Ae(["click"]);function El(a,l){for(;a.endsWith(l);)a=a.substring(0,a.length-l.length);return a}const Cl=["automático","carteles","diálogos","karaokes"];function Sl(a,l){const n=[];if(a==="carteles")return n;const r=l.scriptInfo.properties.get("WrapStyle")??"",s="0";r!==s&&n.push({location:"Script info, wrap style",error:`Se esperaba "${s}", pero se encontró "${r}"`,text:r,ignoreRule:""});const i=l.scriptInfo.properties.get("ScaledBorderAndShadow")??"",u="yes";i!==u&&n.push({location:"Script info, scaled border and shadow",error:`Se esperaba "${u}", pero se encontró "${i}"`,text:i,ignoreRule:""});let v=0;const b="Español";for(let L=0;L<l.events.lines.length;L++){const d=l.events.lines[L],F=L+1;if(a!=="karaokes"&&d.effect.includes("template syl")){console.info(`template syl detectado en línea ${F}, pasando a modo karaokes`),a="karaokes";continue}if(a=="diálogos"&&d.type==Ea||d.content===""||a==="karaokes"&&d.style!==b||a==="karaokes"&&d.type!==Ea||a==="karaokes"&&d.effect!=="karaoke")continue;if(a==="karaokes"&&d.effect==="fx")break;const p=d.effect.split(" ").filter(T=>T.startsWith("ignorar-"));if(p.includes("ignorar-linea"))continue;Vl(l,d.style)||n.push({location:`Línea ${F}`,error:"Estilo no encontrado",text:d.style,ignoreRule:"ignorar-estilo"});const C=oe(d.content);let g=fe(C.filter(T=>T.name==="text"));if(!p.includes("ignorar-inicio")){const T=Ll(g);T!=null&&n.push({location:`Línea ${F}`,error:T,text:d.content,ignoreRule:"ignorar-inicio"})}if(!p.includes("ignorar-espacios")){const T=Al(g);T!=null&&n.push({location:`Línea ${F}`,error:T,text:d.content,ignoreRule:"ignorar-espacios"})}if(!p.includes("ignorar-fin")){const T=Tl(g);T!=null&&n.push({location:`Línea ${F}`,error:T,text:d.content,ignoreRule:"ignorar-fin"})}if(!p.includes("ignorar-puntuacion")){const T=Dl(g);T!=null&&n.push({location:`Línea ${F}`,error:T,text:d.content,ignoreRule:"ignorar-puntuacion"})}a==="karaokes"&&v++}return a==="karaokes"&&v===0&&n.push({location:`Línea ${l.events.lines.length}`,error:`No se encontraron líneas de karaoke con estilo "${b}"`,text:"",ignoreRule:""}),n}function Ll(a){return a.startsWith("... ")?"los tres puntos van pegados":(a.startsWith("...")&&(a=a.substring(3)),/^(-\s|¡|¿|"|“)*[A-zÁÉÍÓÚáéíóú0-9ñÑ]/gm.test(a)?null:"inicio inválido")}function Tl(a){a=El(a," ");const l=[".",",",";","...","!","?",":","~","-..."];return l.some(n=>a.endsWith(n))?null:`No tiene un fin de línea válido: ${l.map(n=>`"${n}"`).join(", ")}`}function Dl(a){for(let l=0;l<a.length;l++){const n=[",",";","."],r=a[l];if(!n.includes(r))continue;if(l+1>=a.length)break;let s=a[l+1];if(s==="\\"&&a[l+2]==="N"&&(s="\\N"),r==="."&&s=="."||r==="."&&a[l-1]==="."&&a[l-2]==="."||(r==="."||r===",")&&!Number.isNaN(Number(a[l-1]))&&!Number.isNaN(Number(a[l+1])))continue;if(![" ","\\N"].includes(s))return"La coma (,) y el punto y coma (;) deben ser seguidos de un espacio o salto de línea"}return null}function Vl(a,l){return a.styles.styles.some(n=>l===n.name)}function Al(a){return a.includes("  ")?"hay dos espacios seguidos":null}function Fl(a,l){return l!=="automático"?l:(a=a.toLocaleLowerCase(),a.includes("carteles")?"carteles":a.includes("subs")?"diálogos":a.includes("karaoke")?"karaokes":"diálogos")}async function Rl(a,l,n,r,s,i){var v;const u=[...((v=e(l))==null?void 0:v.files)??[]];o(n,0),o(r,x([]));for(const b of u){const L=await b.text(),d=Dt(L);if(d==null){console.error("archivo inválido",b.name);continue}o(s,x(Fl(b.name,e(i))));const F=Sl(e(s),d);o(n,e(n)+F.length),e(r).push({subsType:e(s),fileName:b.name,errors:F})}e(l)!=null&&(e(l).value="")}var $l=ae("<option> </option>"),Hl=ae('<img class="result-image svelte-4hkz46" src="img/lucky-star-yay.gif" alt="Lucky Star" title="Lucky Star">'),Pl=ae('<img class="result-image svelte-4hkz46" src="img/nichijou.webp" alt="Nichijou" title="Nichijou">'),Nl=ae(`<img class="result-image svelte-4hkz46" src="img/under-arrest.gif" alt="You're Under Arrest" title="You're Under Arrest">`),Il=ae("<div><b> </b></div> <!>",1),Bl=ae("<div> <!></div>"),zl=ae('<div class="text-failed svelte-4hkz46"> </div>'),Ml=ae(`<span class="ignore-rule svelte-4hkz46">Para ignorar, colocar <b> </b> en
                                campo de efecto.</span>`),Ol=ae('<span class="file-error svelte-4hkz46"> <!> <!></span>'),jl=ae('<div class="result svelte-4hkz46"><span> </span> <!> <div class="file-errors svelte-4hkz46"></div></div>'),Xl=ae('<section class="svelte-4hkz46"><h1></h1> <div class="select is-fullwidth mb-2"><select></select></div> <input type="file" accept=".ass" multiple> <!> <!></section>');function ql(a,l){Ee(l,!0);const n=re.validarDialogos;let r=_("automático"),s=_("diálogos"),i=_(void 0),u=_(0),v=_(x([]));var b=Xl();Ne(R=>{Ie.title=n});var L=f(b);L.textContent=n;var d=m(L,2),F=f(d);Ze(F,21,()=>Cl,Qe,(R,w)=>{var V=$l(),H={},k=f(V);c(V),ne(()=>{H!==(H=e(w))&&(V.value=(V.__value=e(w))==null?"":e(w)),te(k,`Modo ${e(w)??""}`)}),G(R,V)}),c(F),c(d);var p=m(d,2);p.__change=[Rl,i,u,v,s,r],me(p,R=>o(i,R),()=>e(i));var C=m(p,2);{var g=R=>{var w=Il(),V=we(w),H=f(V),k=f(H);c(H),c(V);var y=m(V,2);{var X=D=>{var B=Hl();G(D,B)},Y=D=>{var B=Se(),S=we(B);{var A=Q=>{var E=Pl();G(Q,E)},K=Q=>{var E=Nl();G(Q,E)};se(S,Q=>{e(u)>10?Q(A):Q(K,!1)},!0)}G(D,B)};se(y,D=>{e(u)===0?D(X):D(Y,!1)})}ne(()=>{ta(V,`error-counter text-${(e(u)==0?"success":"failed")??""} mt-2 svelte-4hkz46`),te(k,`Errores detectados: ${e(u)??""}`)}),G(R,w)};se(C,R=>{e(v).length>0&&R(g)})}var T=m(C,2);Ze(T,17,()=>e(v),Qe,(R,w)=>{var V=jl(),H=f(V),k=f(H,!0);c(H);var y=m(H,2);{var X=B=>{var S=Bl(),A=f(S),K=m(A);{var Q=E=>{var $=La("Ignorado.");G(E,$)};se(K,E=>{e(w).subsType==="carteles"&&E(Q)})}c(S),ne(()=>{ta(S,`text-success text-${e(w).subsType??""} svelte-4hkz46`),te(A,`¡Todo en orden! Detectado como ${e(w).subsType??""}. `)}),G(B,S)},Y=B=>{var S=zl(),A=f(S);c(S),ne(()=>te(A,`Detectado como ${e(w).subsType??""}.`)),G(B,S)};se(y,B=>{e(w).errors.length==0?B(X):B(Y,!1)})}var D=m(y,2);Ze(D,21,()=>e(w).errors,Qe,(B,S)=>{var A=Ol(),K=f(A),Q=m(K);{var E=I=>{wl(I,{get text(){return e(S).text},rawMode:!1})};se(Q,I=>{e(S).text!=""&&I(E)})}var $=m(Q,2);{var j=I=>{var J=Ml(),z=m(f(J)),M=f(z,!0);c(z),aa(),c(J),ne(()=>te(M,e(S).ignoreRule)),G(I,J)};se($,I=>{e(S).ignoreRule!=""&&I(j)})}c(A),ne(()=>te(K,`${e(S).location??""}: ${e(S).error??""}. `)),G(B,A)}),c(D),c(V),ne(()=>{ta(H,`name text-${(e(w).errors.length==0?"success":"failed")??""} text-${e(w).subsType??""} svelte-4hkz46`),te(k,e(w).fileName)}),G(R,V)}),c(b),Pt(F,()=>e(r),R=>o(r,R)),G(a,b),Ce()}Ae(["change"]);function Gl(a,l){Ee(l,!0);let n=_("");Fe(()=>{Ca.subscribe(d=>{d!=null&&o(n,x(d))});const b=new URLSearchParams(location.search).get("pagina")??"",L=Vt(b)?b:"inicio";Ca.set(L)});var r=Se(),s=we(r);{var i=v=>{Yt(v)},u=v=>{var b=Se(),L=we(b);{var d=p=>{Ot(p,{})},F=p=>{var C=Se(),g=we(C);{var T=w=>{cl(w,{})},R=w=>{var V=Se(),H=we(V);{var k=X=>{tl(X,{})},y=X=>{var Y=Se(),D=we(Y);{var B=A=>{nl(A,{})},S=A=>{var K=Se(),Q=we(K);{var E=j=>{ql(j,{})},$=j=>{var I=Se(),J=we(I);{var z=q=>{xl(q,{})},M=q=>{var le=Se(),ie=we(le);{var de=ee=>{vl(ee,{})},he=ee=>{var Z=Se(),_e=we(Z);{var Le=ke=>{qt(ke,{})};se(_e,ke=>{e(n)=="acercaDe"&&ke(Le)},!0)}G(ee,Z)};se(ie,ee=>{e(n)=="karaokes.dividirSilabas"?ee(de):ee(he,!1)},!0)}G(q,le)};se(J,q=>{e(n)=="karaokes.dividirKaraoke"?q(z):q(M,!1)},!0)}G(j,I)};se(Q,j=>{e(n)=="dialogos.validarDialogos"?j(E):j($,!1)},!0)}G(A,K)};se(D,A=>{e(n)=="carteles.aplicarColor"?A(B):A(S,!1)},!0)}G(X,Y)};se(H,X=>{e(n)=="carteles.aplicarAlpha"?X(k):X(y,!1)},!0)}G(w,V)};se(g,w=>{e(n)=="carteles.aplicarSecuenciaPosiciones"?w(T):w(R,!1)},!0)}G(p,C)};se(L,p=>{e(n)=="carteles.copiarMovimiento"?p(d):p(F,!1)},!0)}G(v,b)};se(s,v=>{e(n)=="inicio"?v(i):v(u,!1)})}G(a,r),Ce()}var Yl=ae('<section class="svelte-70scd4"><!></section>');function ar(a){var l=Yl(),n=f(l);Gl(n,{}),c(l),G(a,l)}export{ar as component,er as universal};
