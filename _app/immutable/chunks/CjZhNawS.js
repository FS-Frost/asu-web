import{G as M,H as A,I as x,J as C,K as G,L as Z,M as $,N,O as y,P as D,Q as Y,U as p,R as F,m as H,T as V,V as w,f as q,W as z,X as J,Y as K,g as P,l as Q,Z as W,b as U,_ as X,S as j,$ as k,a0 as ee,a1 as ae,a2 as re,a3 as ne}from"./BqOE3ll0.js";import{p as se}from"./EFfLdTpA.js";function ue(a,n,l=!1){A&&x();var s=a,i=null,t=null,u=p,m=l?C:0,v=!1;const _=(f,r=!0)=>{v=!0,b(r,f)},b=(f,r)=>{if(u===(u=f))return;let d=!1;if(A){const S=s.data===G;!!u===S&&(s=Z(),$(s),N(!1),d=!0)}u?(i?y(i):r&&(i=D(()=>r(s))),t&&Y(t,()=>{t=null})):(t?y(t):r&&(t=D(()=>r(s))),i&&Y(i,()=>{i=null})),d&&N(!0)};M(()=>{v=!1,n(_),v||b(null,null)},m),A&&(s=F)}let h=!1;function te(a){var n=h;try{return h=!1,[a(),h]}finally{h=n}}function _e(a,n,l,s){var O;var i=(l&re)!==0,t=!ee||(l&ae)!==0,u=(l&X)!==0,m=(l&ne)!==0,v=!1,_;u?[_,v]=te(()=>a[n]):_=a[n];var b=j in a||k in a,f=u&&(((O=H(a,n))==null?void 0:O.set)??(b&&n in a&&(e=>a[n]=e)))||void 0,r=s,d=!0,S=!1,T=()=>(S=!0,d&&(d=!1,m?r=U(s):r=s),r);_===void 0&&s!==void 0&&(f&&t&&V(),_=T(),f&&f(_));var c;if(t)c=()=>{var e=a[n];return e===void 0?T():(d=!0,S=!1,e)};else{var L=(i?q:z)(()=>a[n]);L.f|=w,c=()=>{var e=P(L);return e!==void 0&&(r=void 0),e===void 0?r:e}}if(!(l&J))return c;if(f){var B=a.$$legacy;return function(e,o){return arguments.length>0?((!t||!o||B||v)&&f(o?c():e),e):c()}}var E=!1,R=W(_),I=q(()=>{var e=c(),o=P(R);return E?(E=!1,o):R.v=e});return i||(I.equals=K),function(e,o){if(arguments.length>0){const g=o?P(I):t&&u?se(e):e;return I.equals(g)||(E=!0,Q(R,g),S&&r!==void 0&&(r=g),U(()=>P(I))),e}return P(I)}}export{ue as i,_e as p};
