import{z as g,A as I,B as F,E as H,C as L,H as Y,D as q,F as v,G as B,I as N,J as R,K as S,M as b,U as C,N as M,O as U,Q as p,b as z,R as G,S as J}from"./BIHl3TZ-.js";function P(a,t,[r,f]=[0,0]){I&&r===0&&F();var i=a,s=null,c=null,n=C,k=r>0?H:0,u=!1;const D=(e,l=!0)=>{u=!0,A(l,e)},A=(e,l)=>{if(n===(n=e))return;let E=!1;if(I&&f!==-1){if(r===0){const T=L(i);T===Y?f=0:T===q?f=1/0:(f=parseInt(T.substring(1)),f!==f&&(f=n?1/0:-1))}const O=f>r;!!n===O&&(i=v(),B(i),N(!1),E=!0,f=-1)}n?(s?R(s):l&&(s=S(()=>l(i))),c&&b(c,()=>{c=null})):(c?R(c):l&&(c=S(()=>l(i,[r+1,f]))),s&&b(s,()=>{s=null})),E&&N(!0)};g(()=>{u=!1,t(D),u||A(null,null)},k),I&&(i=M)}function h(a,t){return a===t||(a==null?void 0:a[J])===t}function Q(a={},t,r,f){return U(()=>{var i,s;return p(()=>{i=s,s=[],z(()=>{a!==r(...s)&&(t(a,...s),i&&h(r(...i),a)&&t(null,...i))})}),()=>{G(()=>{s&&h(r(...s),a)&&t(null,...s)})}}),a}export{Q as b,P as i};
