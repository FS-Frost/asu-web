import{z as Pe,ah as us,ai as cs,aj as ds,ak as ls,al as fs,am as hs,an as ms}from"./CeRAdRbH.js";import{w as pr}from"./Gg7qGfNb.js";function zd(n){Pe&&us(n)!==null&&cs(n)}let Rn=!1;function ps(){Rn||(Rn=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function gr(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=gr(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function gs(){for(var n,e,t=0,r="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=gr(n))&&(r&&(r+=" "),r+=e);return r}function Vd(n){return typeof n=="object"?gs(n):n??""}function ys(n,e,t){var r=n==null?"":""+n;return e&&(r=r?r+" "+e:e),r===""?null:r}function Bd(n,e,t,r,a,s){var o=n.__className;if(Pe||o!==t||o===void 0){var i=ys(t,r);(!Pe||i!==n.getAttribute("class"))&&(i==null?n.removeAttribute("class"):n.className=i),n.__className=t}return s}const _s=Symbol("is custom element"),vs=Symbol("is html");function Ud(n){if(Pe){var e=!1,t=()=>{if(!e){if(e=!0,n.hasAttribute("value")){var r=n.value;Zn(n,"value",null),n.value=r}if(n.hasAttribute("checked")){var a=n.checked;Zn(n,"checked",null),n.checked=a}}};n.__on_r=t,ms(t),ps()}}function Gd(n,e){var t=yr(n);t.value===(t.value=e??void 0)||n.value===e&&(e!==0||n.nodeName!=="PROGRESS")||(n.value=e??"")}function Zn(n,e,t,r){var a=yr(n);Pe&&(a[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||a[e]!==(a[e]=t)&&(e==="loading"&&(n[ls]=t),t==null?n.removeAttribute(e):typeof t!="string"&&bs(n).includes(e)?n[e]=t:n.setAttribute(e,t))}function yr(n){return n.__attributes??(n.__attributes={[_s]:n.nodeName.includes("-"),[vs]:n.namespaceURI===ds})}var In=new Map;function bs(n){var e=In.get(n.nodeName);if(e)return e;In.set(n.nodeName,e=[]);for(var t,r=n,a=Element.prototype;a!==r;){t=hs(r);for(var s in t)t[s].set&&e.push(s);r=fs(r)}return e}const xs=["inicio","carteles.copiarMovimiento","carteles.aplicarSecuenciaPosiciones","carteles.aplicarTraslacion","carteles.aplicarAlpha","carteles.aplicarColor","dialogos.visualizarDialogos","dialogos.validarDialogos","karaokes.dividirKaraoke","karaokes.dividirSilabas","karaokes.emparejarSilabas","acercaDe"],ks=xs.map(n=>n.toString()),Ns="inicio",Wd=pr(Ns);function Hd(n){return ks.includes(n)}var j;(function(n){n.assertEqual=a=>{};function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},n.getValidEnumValues=a=>{const s=n.objectKeys(a).filter(i=>typeof a[a[i]]!="number"),o={};for(const i of s)o[i]=a[i];return n.objectValues(o)},n.objectValues=a=>n.objectKeys(a).map(function(s){return a[s]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},n.find=(a,s)=>{for(const o of a)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(j||(j={}));var En;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(En||(En={}));const v=j.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ae=n=>{switch(typeof n){case"undefined":return v.undefined;case"string":return v.string;case"number":return Number.isNaN(n)?v.nan:v.number;case"boolean":return v.boolean;case"function":return v.function;case"bigint":return v.bigint;case"symbol":return v.symbol;case"object":return Array.isArray(n)?v.array:n===null?v.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?v.promise:typeof Map<"u"&&n instanceof Map?v.map:typeof Set<"u"&&n instanceof Set?v.set:typeof Date<"u"&&n instanceof Date?v.date:v.object;default:return v.unknown}},p=j.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let pe=class _r extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},r={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let i=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(i[d]=i[d]||{_errors:[]},i[d]._errors.push(t(o))):i[d]=i[d]||{_errors:[]},i=i[d],c++}}};return a(this),r}static assert(e){if(!(e instanceof _r))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,j.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];t[s]=t[s]||[],t[s].push(e(a))}else r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};pe.create=n=>new pe(n);const ut=(n,e)=>{let t;switch(n.code){case p.invalid_type:n.received===v.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case p.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,j.jsonStringifyReplacer)}`;break;case p.unrecognized_keys:t=`Unrecognized key(s) in object: ${j.joinValues(n.keys,", ")}`;break;case p.invalid_union:t="Invalid input";break;case p.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${j.joinValues(n.options)}`;break;case p.invalid_enum_value:t=`Invalid enum value. Expected ${j.joinValues(n.options)}, received '${n.received}'`;break;case p.invalid_arguments:t="Invalid function arguments";break;case p.invalid_return_type:t="Invalid function return type";break;case p.invalid_date:t="Invalid date";break;case p.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:j.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case p.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case p.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case p.custom:t="Invalid input";break;case p.invalid_intersection_types:t="Intersection results could not be merged";break;case p.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case p.not_finite:t="Number must be finite";break;default:t=e.defaultError,j.assertNever(n)}return{message:t}};let As=ut;function Ss(){return As}const ws=n=>{const{data:e,path:t,errorMaps:r,issueData:a}=n,s=[...t,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let i="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)i=d(o,{data:e,defaultError:i}).message;return{...a,path:s,message:i}};function y(n,e){const t=Ss(),r=ws({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===ut?void 0:ut].filter(a=>!!a)});n.common.issues.push(r)}let Q=class vr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const a of t){if(a.status==="aborted")return C;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const a of t){const s=await a.key,o=await a.value;r.push({key:s,value:o})}return vr.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const a of t){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return C;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}};const C=Object.freeze({status:"aborted"}),Oe=n=>({status:"dirty",value:n}),q=n=>({status:"valid",value:n}),jn=n=>n.status==="aborted",Pn=n=>n.status==="dirty",be=n=>n.status==="valid",Be=n=>typeof Promise<"u"&&n instanceof Promise;var x;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(x||(x={}));let ue=class{constructor(e,t,r,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const Mn=(n,e)=>{if(be(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new pe(n.common.issues);return this._error=t,this._error}}};function R(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:a}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,i)=>{const{message:c}=n;return o.code==="invalid_enum_value"?{message:c??i.defaultError}:typeof i.data>"u"?{message:c??r??i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:c??t??i.defaultError}},description:a}}let I=class{get description(){return this._def.description}_getType(e){return ae(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Q,ctx:{common:e.parent.common,data:e.data,parsedType:ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Be(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)},a=this._parseSync({data:e,path:r.path,parent:r});return Mn(r,a)}"~validate"(e){var r,a;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:t});return be(s)?{value:s.value}:{issues:t.common.issues}}catch(s){(a=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(s=>be(s)?{value:s.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)},a=this._parse({data:e,path:r.path,parent:r}),s=await(Be(a)?a:Promise.resolve(a));return Mn(r,s)}refine(e,t){const r=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,s)=>{const o=e(a),i=()=>s.addIssue({code:p.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,t){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof t=="function"?t(r,a):t),!1))}_refinement(e){return new ke({schema:this,typeName:T.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return ie.create(this,this._def)}nullable(){return Ne.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xe.create(this)}promise(){return We.create(this,this._def)}or(e){return Ue.create([this,e],this._def)}and(e){return Ge.create(this,e,this._def)}transform(e){return new ke({...R(this._def),schema:this,typeName:T.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new yt({...R(this._def),innerType:this,defaultValue:t,typeName:T.ZodDefault})}brand(){return new Ys({typeName:T.ZodBranded,type:this,...R(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new _t({...R(this._def),innerType:this,catchValue:t,typeName:T.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Ks.create(this,e)}readonly(){return vt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const Cs=/^c[^\s-]{8,}$/i,Ts=/^[0-9a-z]+$/,$s=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Os=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Rs=/^[a-z0-9_-]{21}$/i,Zs=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Is=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Es=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,js="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let it;const Ps=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ms=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ls=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Fs=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ds=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zs=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,br="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Vs=new RegExp(`^${br}$`);function xr(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function Bs(n){return new RegExp(`^${xr(n)}$`)}function Us(n){let e=`${br}T${xr(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Gs(n,e){return!!((e==="v4"||!e)&&Ps.test(n)||(e==="v6"||!e)&&Ls.test(n))}function Ws(n,e){if(!Zs.test(n))return!1;try{const[t]=n.split(".");if(!t)return!1;const r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function Hs(n,e){return!!((e==="v4"||!e)&&Ms.test(n)||(e==="v6"||!e)&&Fs.test(n))}let ct=class Re extends I{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==v.string){const s=this._getOrReturnCtx(e);return y(s,{code:p.invalid_type,expected:v.string,received:s.parsedType}),C}const r=new Q;let a;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),y(a,{code:p.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),y(a,{code:p.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,i=e.data.length<s.value;(o||i)&&(a=this._getOrReturnCtx(e,a),o?y(a,{code:p.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&y(a,{code:p.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Es.test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"email",code:p.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")it||(it=new RegExp(js,"u")),it.test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"emoji",code:p.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Os.test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"uuid",code:p.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Rs.test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"nanoid",code:p.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Cs.test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"cuid",code:p.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Ts.test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"cuid2",code:p.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")$s.test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"ulid",code:p.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),y(a,{validation:"url",code:p.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"regex",code:p.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),y(a,{code:p.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),y(a,{code:p.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),y(a,{code:p.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Us(s).test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{code:p.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Vs.test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{code:p.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Bs(s).test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{code:p.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Is.test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"duration",code:p.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Gs(e.data,s.version)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"ip",code:p.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?Ws(e.data,s.alg)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"jwt",code:p.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?Hs(e.data,s.version)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"cidr",code:p.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Ds.test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"base64",code:p.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?zs.test(e.data)||(a=this._getOrReturnCtx(e,a),y(a,{validation:"base64url",code:p.invalid_string,message:s.message}),r.dirty()):j.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(a=>e.test(a),{validation:t,code:p.invalid_string,...x.errToObj(r)})}_addCheck(e){return new Re({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...x.errToObj(e)})}url(e){return this._addCheck({kind:"url",...x.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...x.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...x.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...x.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...x.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...x.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...x.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...x.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...x.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...x.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...x.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...x.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...x.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...x.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...x.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...x.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...x.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...x.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...x.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...x.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...x.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...x.errToObj(t)})}nonempty(e){return this.min(1,x.errToObj(e))}trim(){return new Re({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Re({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Re({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};ct.create=n=>new ct({checks:[],typeName:T.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...R(n)});function qs(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=t>r?t:r,s=Number.parseInt(n.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return s%o/10**a}let dt=class lt extends I{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==v.number){const s=this._getOrReturnCtx(e);return y(s,{code:p.invalid_type,expected:v.number,received:s.parsedType}),C}let r;const a=new Q;for(const s of this._def.checks)s.kind==="int"?j.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),y(r,{code:p.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),y(r,{code:p.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),y(r,{code:p.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?qs(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),y(r,{code:p.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),y(r,{code:p.not_finite,message:s.message}),a.dirty()):j.assertNever(s);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,x.toString(t))}gt(e,t){return this.setLimit("min",e,!1,x.toString(t))}lte(e,t){return this.setLimit("max",e,!0,x.toString(t))}lt(e,t){return this.setLimit("max",e,!1,x.toString(t))}setLimit(e,t,r,a){return new lt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:x.toString(a)}]})}_addCheck(e){return new lt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:x.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:x.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:x.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:x.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:x.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&j.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}};dt.create=n=>new dt({checks:[],typeName:T.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...R(n)});let Ln=class ft extends I{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==v.bigint)return this._getInvalidInput(e);let r;const a=new Q;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),y(r,{code:p.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),y(r,{code:p.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),y(r,{code:p.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):j.assertNever(s);return{status:a.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return y(t,{code:p.invalid_type,expected:v.bigint,received:t.parsedType}),C}gte(e,t){return this.setLimit("min",e,!0,x.toString(t))}gt(e,t){return this.setLimit("min",e,!1,x.toString(t))}lte(e,t){return this.setLimit("max",e,!0,x.toString(t))}lt(e,t){return this.setLimit("max",e,!1,x.toString(t))}setLimit(e,t,r,a){return new ft({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:x.toString(a)}]})}_addCheck(e){return new ft({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:x.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Ln.create=n=>new Ln({checks:[],typeName:T.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...R(n)});let ht=class extends I{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==v.boolean){const r=this._getOrReturnCtx(e);return y(r,{code:p.invalid_type,expected:v.boolean,received:r.parsedType}),C}return q(e.data)}};ht.create=n=>new ht({typeName:T.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...R(n)});let Fn=class kr extends I{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==v.date){const s=this._getOrReturnCtx(e);return y(s,{code:p.invalid_type,expected:v.date,received:s.parsedType}),C}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return y(s,{code:p.invalid_date}),C}const r=new Q;let a;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),y(a,{code:p.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),y(a,{code:p.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):j.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new kr({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:x.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:x.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};Fn.create=n=>new Fn({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:T.ZodDate,...R(n)});let Dn=class extends I{_parse(e){if(this._getType(e)!==v.symbol){const r=this._getOrReturnCtx(e);return y(r,{code:p.invalid_type,expected:v.symbol,received:r.parsedType}),C}return q(e.data)}};Dn.create=n=>new Dn({typeName:T.ZodSymbol,...R(n)});let zn=class extends I{_parse(e){if(this._getType(e)!==v.undefined){const r=this._getOrReturnCtx(e);return y(r,{code:p.invalid_type,expected:v.undefined,received:r.parsedType}),C}return q(e.data)}};zn.create=n=>new zn({typeName:T.ZodUndefined,...R(n)});let Vn=class extends I{_parse(e){if(this._getType(e)!==v.null){const r=this._getOrReturnCtx(e);return y(r,{code:p.invalid_type,expected:v.null,received:r.parsedType}),C}return q(e.data)}};Vn.create=n=>new Vn({typeName:T.ZodNull,...R(n)});let Bn=class extends I{constructor(){super(...arguments),this._any=!0}_parse(e){return q(e.data)}};Bn.create=n=>new Bn({typeName:T.ZodAny,...R(n)});let Un=class extends I{constructor(){super(...arguments),this._unknown=!0}_parse(e){return q(e.data)}};Un.create=n=>new Un({typeName:T.ZodUnknown,...R(n)});let ce=class extends I{_parse(e){const t=this._getOrReturnCtx(e);return y(t,{code:p.invalid_type,expected:v.never,received:t.parsedType}),C}};ce.create=n=>new ce({typeName:T.ZodNever,...R(n)});let Gn=class extends I{_parse(e){if(this._getType(e)!==v.undefined){const r=this._getOrReturnCtx(e);return y(r,{code:p.invalid_type,expected:v.void,received:r.parsedType}),C}return q(e.data)}};Gn.create=n=>new Gn({typeName:T.ZodVoid,...R(n)});let xe=class Ve extends I{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==v.array)return y(t,{code:p.invalid_type,expected:v.array,received:t.parsedType}),C;if(a.exactLength!==null){const o=t.data.length>a.exactLength.value,i=t.data.length<a.exactLength.value;(o||i)&&(y(t,{code:o?p.too_big:p.too_small,minimum:i?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(y(t,{code:p.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(y(t,{code:p.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,i)=>a.type._parseAsync(new ue(t,o,t.path,i)))).then(o=>Q.mergeArray(r,o));const s=[...t.data].map((o,i)=>a.type._parseSync(new ue(t,o,t.path,i)));return Q.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new Ve({...this._def,minLength:{value:e,message:x.toString(t)}})}max(e,t){return new Ve({...this._def,maxLength:{value:e,message:x.toString(t)}})}length(e,t){return new Ve({...this._def,exactLength:{value:e,message:x.toString(t)}})}nonempty(e){return this.min(1,e)}};xe.create=(n,e)=>new xe({type:n,minLength:null,maxLength:null,exactLength:null,typeName:T.ZodArray,...R(e)});function _e(n){if(n instanceof ne){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=ie.create(_e(r))}return new ne({...n._def,shape:()=>e})}else return n instanceof xe?new xe({...n._def,type:_e(n.element)}):n instanceof ie?ie.create(_e(n.unwrap())):n instanceof Ne?Ne.create(_e(n.unwrap())):n instanceof Me?Me.create(n.items.map(e=>_e(e))):n}let ne=class X extends I{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=j.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==v.object){const d=this._getOrReturnCtx(e);return y(d,{code:p.invalid_type,expected:v.object,received:d.parsedType}),C}const{status:r,ctx:a}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof ce&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||i.push(d);const c=[];for(const d of o){const m=s[d],M=a.data[d];c.push({key:{status:"valid",value:d},value:m._parse(new ue(a,M,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof ce){const d=this._def.unknownKeys;if(d==="passthrough")for(const m of i)c.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(d==="strict")i.length>0&&(y(a,{code:p.unrecognized_keys,keys:i}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const m of i){const M=a.data[m];c.push({key:{status:"valid",value:m},value:d._parse(new ue(a,M,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const m of c){const M=await m.key,K=await m.value;d.push({key:M,value:K,alwaysSet:m.alwaysSet})}return d}).then(d=>Q.mergeObjectSync(r,d)):Q.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return x.errToObj,new X({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,o;const a=((o=(s=this._def).errorMap)==null?void 0:o.call(s,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:x.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new X({...this._def,unknownKeys:"strip"})}passthrough(){return new X({...this._def,unknownKeys:"passthrough"})}extend(e){return new X({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new X({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:T.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new X({...this._def,catchall:e})}pick(e){const t={};for(const r of j.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new X({...this._def,shape:()=>t})}omit(e){const t={};for(const r of j.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new X({...this._def,shape:()=>t})}deepPartial(){return _e(this)}partial(e){const t={};for(const r of j.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}return new X({...this._def,shape:()=>t})}required(e){const t={};for(const r of j.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ie;)s=s._def.innerType;t[r]=s}return new X({...this._def,shape:()=>t})}keyof(){return Ar(j.objectKeys(this.shape))}};ne.create=(n,e)=>new ne({shape:()=>n,unknownKeys:"strip",catchall:ce.create(),typeName:T.ZodObject,...R(e)});ne.strictCreate=(n,e)=>new ne({shape:()=>n,unknownKeys:"strict",catchall:ce.create(),typeName:T.ZodObject,...R(e)});ne.lazycreate=(n,e)=>new ne({shape:n,unknownKeys:"strip",catchall:ce.create(),typeName:T.ZodObject,...R(e)});let Ue=class extends I{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function a(s){for(const i of s)if(i.result.status==="valid")return i.result;for(const i of s)if(i.result.status==="dirty")return t.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(i=>new pe(i.ctx.common.issues));return y(t,{code:p.invalid_union,unionErrors:o}),C}if(t.common.async)return Promise.all(r.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of r){const d={...t,common:{...t.common,issues:[]},parent:null},m=c._parseSync({data:t.data,path:t.path,parent:d});if(m.status==="valid")return m;m.status==="dirty"&&!s&&(s={result:m,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const i=o.map(c=>new pe(c));return y(t,{code:p.invalid_union,unionErrors:i}),C}}get options(){return this._def.options}};Ue.create=(n,e)=>new Ue({options:n,typeName:T.ZodUnion,...R(e)});function mt(n,e){const t=ae(n),r=ae(e);if(n===e)return{valid:!0,data:n};if(t===v.object&&r===v.object){const a=j.objectKeys(e),s=j.objectKeys(n).filter(i=>a.indexOf(i)!==-1),o={...n,...e};for(const i of s){const c=mt(n[i],e[i]);if(!c.valid)return{valid:!1};o[i]=c.data}return{valid:!0,data:o}}else if(t===v.array&&r===v.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let s=0;s<n.length;s++){const o=n[s],i=e[s],c=mt(o,i);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return t===v.date&&r===v.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}let Ge=class extends I{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=(s,o)=>{if(jn(s)||jn(o))return C;const i=mt(s.value,o.value);return i.valid?((Pn(s)||Pn(o))&&t.dirty(),{status:t.value,value:i.data}):(y(r,{code:p.invalid_intersection_types}),C)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Ge.create=(n,e,t)=>new Ge({left:n,right:e,typeName:T.ZodIntersection,...R(t)});let Me=class Nr extends I{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.array)return y(r,{code:p.invalid_type,expected:v.array,received:r.parsedType}),C;if(r.data.length<this._def.items.length)return y(r,{code:p.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),C;!this._def.rest&&r.data.length>this._def.items.length&&(y(r,{code:p.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((o,i)=>{const c=this._def.items[i]||this._def.rest;return c?c._parse(new ue(r,o,r.path,i)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Q.mergeArray(t,o)):Q.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Nr({...this._def,rest:e})}};Me.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Me({items:n,typeName:T.ZodTuple,rest:null,...R(e)})};let Wn=class extends I{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.map)return y(r,{code:p.invalid_type,expected:v.map,received:r.parsedType}),C;const a=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([i,c],d)=>({key:a._parse(new ue(r,i,r.path,[d,"key"])),value:s._parse(new ue(r,c,r.path,[d,"value"]))}));if(r.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,m=await c.value;if(d.status==="aborted"||m.status==="aborted")return C;(d.status==="dirty"||m.status==="dirty")&&t.dirty(),i.set(d.value,m.value)}return{status:t.value,value:i}})}else{const i=new Map;for(const c of o){const d=c.key,m=c.value;if(d.status==="aborted"||m.status==="aborted")return C;(d.status==="dirty"||m.status==="dirty")&&t.dirty(),i.set(d.value,m.value)}return{status:t.value,value:i}}}};Wn.create=(n,e,t)=>new Wn({valueType:e,keyType:n,typeName:T.ZodMap,...R(t)});let Hn=class pt extends I{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.set)return y(r,{code:p.invalid_type,expected:v.set,received:r.parsedType}),C;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(y(r,{code:p.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(y(r,{code:p.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const s=this._def.valueType;function o(c){const d=new Set;for(const m of c){if(m.status==="aborted")return C;m.status==="dirty"&&t.dirty(),d.add(m.value)}return{status:t.value,value:d}}const i=[...r.data.values()].map((c,d)=>s._parse(new ue(r,c,r.path,d)));return r.common.async?Promise.all(i).then(c=>o(c)):o(i)}min(e,t){return new pt({...this._def,minSize:{value:e,message:x.toString(t)}})}max(e,t){return new pt({...this._def,maxSize:{value:e,message:x.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Hn.create=(n,e)=>new Hn({valueType:n,minSize:null,maxSize:null,typeName:T.ZodSet,...R(e)});let qn=class extends I{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};qn.create=(n,e)=>new qn({getter:n,typeName:T.ZodLazy,...R(e)});let Yn=class extends I{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return y(t,{received:t.data,code:p.invalid_literal,expected:this._def.value}),C}return{status:"valid",value:e.data}}get value(){return this._def.value}};Yn.create=(n,e)=>new Yn({value:n,typeName:T.ZodLiteral,...R(e)});function Ar(n,e){return new Ot({values:n,typeName:T.ZodEnum,...R(e)})}let Ot=class gt extends I{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return y(t,{expected:j.joinValues(r),received:t.parsedType,code:p.invalid_type}),C}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return y(t,{received:t.data,code:p.invalid_enum_value,options:r}),C}return q(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return gt.create(e,{...this._def,...t})}exclude(e,t=this._def){return gt.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}};Ot.create=Ar;let Kn=class extends I{_parse(e){const t=j.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==v.string&&r.parsedType!==v.number){const a=j.objectValues(t);return y(r,{expected:j.joinValues(a),received:r.parsedType,code:p.invalid_type}),C}if(this._cache||(this._cache=new Set(j.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=j.objectValues(t);return y(r,{received:r.data,code:p.invalid_enum_value,options:a}),C}return q(e.data)}get enum(){return this._def.values}};Kn.create=(n,e)=>new Kn({values:n,typeName:T.ZodNativeEnum,...R(e)});let We=class extends I{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==v.promise&&t.common.async===!1)return y(t,{code:p.invalid_type,expected:v.promise,received:t.parsedType}),C;const r=t.parsedType===v.promise?t.data:Promise.resolve(t.data);return q(r.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}};We.create=(n,e)=>new We({type:n,typeName:T.ZodPromise,...R(e)});let ke=class extends I{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===T.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:o=>{y(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async i=>{if(t.value==="aborted")return C;const c=await this._def.schema._parseAsync({data:i,path:r.path,parent:r});return c.status==="aborted"?C:c.status==="dirty"||t.value==="dirty"?Oe(c.value):c});{if(t.value==="aborted")return C;const i=this._def.schema._parseSync({data:o,path:r.path,parent:r});return i.status==="aborted"?C:i.status==="dirty"||t.value==="dirty"?Oe(i.value):i}}if(a.type==="refinement"){const o=i=>{const c=a.refinement(i,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?C:(i.status==="dirty"&&t.dirty(),o(i.value),{status:t.value,value:i.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>i.status==="aborted"?C:(i.status==="dirty"&&t.dirty(),o(i.value).then(()=>({status:t.value,value:i.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!be(o))return C;const i=a.transform(o.value,s);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>be(o)?Promise.resolve(a.transform(o.value,s)).then(i=>({status:t.value,value:i})):C);j.assertNever(a)}};ke.create=(n,e,t)=>new ke({schema:n,typeName:T.ZodEffects,effect:e,...R(t)});ke.createWithPreprocess=(n,e,t)=>new ke({schema:e,effect:{type:"preprocess",transform:n},typeName:T.ZodEffects,...R(t)});let ie=class extends I{_parse(e){return this._getType(e)===v.undefined?q(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ie.create=(n,e)=>new ie({innerType:n,typeName:T.ZodOptional,...R(e)});let Ne=class extends I{_parse(e){return this._getType(e)===v.null?q(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Ne.create=(n,e)=>new Ne({innerType:n,typeName:T.ZodNullable,...R(e)});let yt=class extends I{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===v.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};yt.create=(n,e)=>new yt({innerType:n,typeName:T.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...R(e)});let _t=class extends I{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Be(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new pe(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new pe(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};_t.create=(n,e)=>new _t({innerType:n,typeName:T.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...R(e)});let Xn=class extends I{_parse(e){if(this._getType(e)!==v.nan){const r=this._getOrReturnCtx(e);return y(r,{code:p.invalid_type,expected:v.nan,received:r.parsedType}),C}return{status:"valid",value:e.data}}};Xn.create=n=>new Xn({typeName:T.ZodNaN,...R(n)});let Ys=class extends I{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}},Ks=class Sr extends I{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?C:s.status==="dirty"?(t.dirty(),Oe(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?C:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,t){return new Sr({in:e,out:t,typeName:T.ZodPipeline})}},vt=class extends I{_parse(e){const t=this._def.innerType._parse(e),r=a=>(be(a)&&(a.value=Object.freeze(a.value)),a);return Be(t)?t.then(a=>r(a)):r(t)}unwrap(){return this._def.innerType}};vt.create=(n,e)=>new vt({innerType:n,typeName:T.ZodReadonly,...R(e)});var T;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(T||(T={}));const ze=ct.create,vl=dt.create,bl=ht.create;ce.create;xe.create;const Xs=ne.create;Ue.create;Ge.create;Me.create;const xl=Ot.create;We.create;ie.create;Ne.create;const bt=Xs({sha:ze().default(""),ref:ze().default(""),actor:ze().default(""),repo:ze().default("")}),kl=pr(bt.parse({}));async function Nl(){const n=bt.parse({}),e=await fetch("build-info.json");if(!e.ok)return console.error(`failed to fetch build info, status ${e.status}`),n;const t=await e.json(),r=bt.safeParse(t);return r.success?r.data:(console.error("invalid build info",{parseResult:r}),n)}function Al(n){return n.substring(0,7)}function Sl(n,e,t){return`https://github.com/${n}/${e}/commit/${t}`}function wl(n,e,t){return`https://github.com/${n}/${e}/tree/${t}`}const Cl={verGitHub:"Ver en GitHub",acercaDe:"Acerca de Asu",aplicarAlpha:"Aplicar alpha",aplicarColor:"Aplicar color",aplicarSecuenciaPosiciones:"Aplicar secuencia de posiciones",aplicarTraslacion:"Aplicar traslación",copiar:"Copiar",copiarMovimiento:"Copiar movimiento",dividirKaraoke:"Dividir karaoke",dividirSilabas:"Dividir sílabas",emparejarSilabas:"Emparejar sílabas",lineasCopiadas:"¡Líneas copiadas al portapapeles!",resultado:"Resultado",subtitulos:"Subtítulos",visualizarDialogos:"Visualizar diálogos",validarDialogos:"Validar diálogos",validateWithGemini:"Validar con Google Gemini",validateLineStyleExists:"Validar que los estilos existan",validateTextStart:"Validar inicio de los textos",validateTextEnd:"Validar fin de los textos",validateTextSpaces:"Validar espacios múltiples",validateTextPunctuation:"Validar puntuación"};function z(n){return parseInt(n,16)}function me(n){return Math.floor(n).toString(16).padStart(2,"0").toUpperCase()}function Js(n,e,t){const r=n>e;let a=e,s=n;r&&(a=n,s=e);const i=(a-s)/t;let c=s;const d=[s];for(let m=1;m<t;m++)c+=i,d.push(c);return d[t-1]=a,r&&d.reverse(),d}function L(n,e){e=Math.floor(e);const t=`(-?\\d+.?\\d{1,${e}})`,r=new RegExp(t),a=n.toString().match(r);return!a||a.length===0?n:Number(a[0])}const Qs=/^(\(.*\)|\\?.)$/,fe=n=>{const e=n.toString();return Qs.test(e)?e:`(?:${e})`},ei=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,ti=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,w=n=>{const e=t=>w(`(?<${t}>${`${n}`.replace(ei,"$1$2")})`);return{toString:()=>n.toString(),and:Object.assign((...t)=>w(`${n}${f(...t)}`),{referenceTo:t=>w(`${n}\\k<${t}>`)}),or:(...t)=>w(`(?:${n}|${f(...t)})`),after:(...t)=>w(`(?<=${f(...t)})${n}`),before:(...t)=>w(`${n}(?=${f(...t)})`),notAfter:(...t)=>w(`(?<!${f(...t)})${n}`),notBefore:(...t)=>w(`${n}(?!${f(...t)})`),times:Object.assign(t=>w(`${fe(n)}{${t}}`),{any:()=>w(`${fe(n)}*`),atLeast:t=>w(`${fe(n)}{${t},}`),atMost:t=>w(`${fe(n)}{0,${t}}`),between:(t,r)=>w(`${fe(n)}{${t},${r}}`)}),optionally:()=>w(`${fe(n)}?`),as:e,groupedAs:e,grouped:()=>w(`${n}`.replace(ti,"($1$3)$2")),at:{lineStart:()=>w(`^${n}`),lineEnd:()=>w(`${n}$`)}}},ni=/[.*+?^${}()|[\]\\/]/g,W=n=>w(`[^${n.replace(/[-\\^\]]/g,"\\$&")}]`),ri=(...n)=>w(`(?:${n.map(e=>f(e)).join("|")})`),ai=w(".");w("\\b\\w+\\b");w("\\w");w("\\b");const J=w("\\d");w("\\s");const si=Object.assign(w("[a-zA-Z]"),{lowercase:w("[a-z]"),uppercase:w("[A-Z]")});w("\\t");w("\\n");w("\\r");w("\\W+"),w("\\W"),w("\\B"),w("\\D"),w("\\S"),Object.assign(w("[^a-zA-Z]"),{lowercase:w("[^a-z]"),uppercase:w("[^A-Z]")}),w("[^\\t]"),w("[^\\n]"),w("[^\\r]");const f=(...n)=>w(n.map(e=>typeof e=="string"?e.replace(ni,"\\$&"):e).join("")),F=(...n)=>w(`${fe(f(...n))}+`),N=(...n)=>{const e=n.length>1&&(Array.isArray(n[n.length-1])||n[n.length-1]instanceof Set)?n.pop():void 0;return new RegExp(f(...n).toString(),[...e||""].join(""))},ii=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,oi=/^[^\\]+/g,wr=/(?<sil>(?:sha|shi|shu|she|sho|cha|chi|chu|che|cho|tsu|kya|kyi|kyu|kye|kyo|gya|gyi|gyu|gye|gyo|sya|syu|syi|sye|syo|zya|zyu|zyi|zye|zyo|jya|jyu|jyi|jye|jyo|tya|tyi|tyu|tye|tyo|dya|dyi|dyu|dye|dyo|nya|nyi|nyu|nye|nyo|hya|hyi|hyu|hye|hyo|fya|fyi|fyu|fye|fyo|dzu|bya|byi|byu|bye|byo|pya|pyi|pyu|pye|pyo|mya|myi|myu|mye|myo|rya|ryi|ryu|rye|ryo|vya|vyi|vyu|vye|vyo|ka|ki|ku|ke|ko|ga|gi|gu|ge|go|sa|su|si|se|so|za|zu|zi|ze|zo|ja|ju|ji|je|jo|ta|ti|tu|te|to|da|di|du|de|do|na|ni|nu|ne|no|ha|hi|hu|he|ho|fa|fi|fu|fe|fo|ba|bi|bu|be|bo|pa|pi|pu|pe|po|ma|mi|mu|me|mo|ya|yi|yu|ye|yo|ra|ri|ru|re|ro|wa|wo|va|vi|vu|ve|vo|a|i|u|e|o|n|t)[^a-zA-Z\d\s:]*\s?)/g,Jn=F(J).and(f(":")).and(J.times(2)).and(f(":")).and(J.times(2)).and(f(".")).and(J.times(2)),ui=ri("Dialogue","Comment").groupedAs("type").and(f(": ")).and(F(J).optionally().groupedAs("layer")).and(f(",")).and(Jn.optionally().groupedAs("start")).and(f(",")).and(Jn.optionally().groupedAs("end")).and(f(",")).and(F(W(",").optionally()).groupedAs("style")).and(f(",")).and(F(W(",")).optionally().groupedAs("actor")).and(f(",")).and(F(J).optionally().groupedAs("marginLeft")).and(f(",")).and(F(J).optionally().groupedAs("marginRight")).and(f(",")).and(F(J).optionally().groupedAs("marginVertical")).and(f(",")).and(F(W(",")).optionally().groupedAs("effect")).and(f(",")).and(F(ai).optionally().groupedAs("content")),ci=N(ui),di=f("-").optionally().and(F(J)),A=di.and(f(".").and(F(J)).optionally()),Cr=f("\\").and("a").and(A.groupedAs("a_value")),li=N(Cr),B=si.or(J).times(2),Tr=f("&H").and(B.groupedAs("color_bgr_blue")).and(B.groupedAs("color_bgr_green")).and(B.groupedAs("color_bgr_red")).and(f("&").optionally()),$r=f("\\c").and(Tr),Or=f("\\1c").and(f("&H")).and(B.groupedAs("color1_bgr_blue")).and(B.groupedAs("color1_bgr_green")).and(B.groupedAs("color1_bgr_red")).and(f("&")),Rr=f("\\2c").and(f("&H")).and(B.groupedAs("color2_bgr_blue")).and(B.groupedAs("color2_bgr_green")).and(B.groupedAs("color2_bgr_red")).and(f("&")),Zr=f("\\3c").and(f("&H")).and(B.groupedAs("color3_bgr_blue")).and(B.groupedAs("color3_bgr_green")).and(B.groupedAs("color3_bgr_red")).and(f("&")),Ir=f("\\4c").and(f("&H")).and(B.groupedAs("color4_bgr_blue")).and(B.groupedAs("color4_bgr_green")).and(B.groupedAs("color4_bgr_red")).and(f("&")),fi=N(Tr),hi=N($r),mi=N(Or),pi=N(Rr),gi=N(Zr),yi=N(Ir),Er=f("\\").and("alpha").and(F(W("\\")).groupedAs("alpha_value")),_i=N(Er),jr=f("\\").and("1a").and(F(W("\\")).groupedAs("alpha1_value")),vi=N(jr),Pr=f("\\").and("2a").and(F(W("\\")).groupedAs("alpha2_value")),bi=N(Pr),Mr=f("\\").and("3a").and(F(W("\\")).groupedAs("alpha3_value")),xi=N(Mr),Lr=f("\\").and("4a").and(F(W("\\")).groupedAs("alpha4_value")),ki=N(Lr),Fr=f("\\").and("k").and(A.groupedAs("k_lower_case_value")),Ni=N(Fr),Dr=f("\\").and("K").and(A.groupedAs("k_upper_case_value")),Ai=N(Dr),zr=f("\\").and("kf").and(A.groupedAs("kf_value")),Si=N(zr),Vr=f("\\").and("ko").and(A.groupedAs("ko_value")),wi=N(Vr),Br=f("\\").and("q").and(A.groupedAs("q_value")),Ci=N(Br),Ur=f("\\").and("s").and(A.groupedAs("s_value")),Ti=N(Ur),Gr=f("\\").and("u").and(A.groupedAs("u_value")),$i=N(Gr),Wr=f("\\").and("r").and(F(W("\\")).groupedAs("r_value")),Oi=N(Wr),Hr=f("\\").and("fe").and(A.groupedAs("fe_value")),Ri=N(Hr),qr=f("\\").and("fn").and(F(W("\\")).groupedAs("fn_value")),Zi=N(qr),Yr=f("\\").and("p").and(A.groupedAs("p_value")),Ii=N(Yr),Kr=f("\\").and("pbo").and(A.groupedAs("pbo_value")),Ei=N(Kr),Xr=f("\\").and("an").and(A.groupedAs("an_value")),ji=N(Xr),Jr=f("\\").and("b").and(A.groupedAs("b_value")),Pi=N(Jr),Qr=f("\\").and("be").and(A.groupedAs("be_value")),Mi=N(Qr),ea=f("\\").and("blur").and(A.groupedAs("blur_value")),Li=N(ea),ta=f("\\").and("bord").and(A.groupedAs("bord_value")),Fi=N(ta),na=f("\\").and("xbord").and(A.groupedAs("xbord_value")),Di=N(na),ra=f("\\").and("ybord").and(A.groupedAs("ybord_value")),zi=N(ra),aa=f("\\").and("shad").and(A.groupedAs("shad_value")),Vi=N(aa),sa=f("\\").and("xshad").and(A.groupedAs("xshad_value")),Bi=N(sa),ia=f("\\").and("yshad").and(A.groupedAs("yshad_value")),Ui=N(ia),oa=f("\\").and("fax").and(A.groupedAs("fax_value")),Gi=N(oa),ua=f("\\").and("fay").and(A.groupedAs("fay_value")),Wi=N(ua),ca=f("\\").and("fscx").and(A.groupedAs("fscx_value")),Hi=N(ca),da=f("\\").and("fscy").and(A.groupedAs("fscy_value")),qi=N(da),la=f("\\").and("fsp").and(A.groupedAs("fsp_value")),Yi=N(la),fa=f("\\").and("fr").and(A.groupedAs("fr_value")),Ki=N(fa),ha=f("\\").and("frx").and(A.groupedAs("frx_value")),Xi=N(ha),ma=f("\\").and("fry").and(A.groupedAs("fry_value")),Ji=N(ma),pa=f("\\").and("frz").and(A.groupedAs("frz_value")),Qi=N(pa),ga=f("\\").and("i").and(f("1").or("0").groupedAs("i_value")),eo=N(ga),ya=f("\\").and("fs").and(A.groupedAs("fs_value")),to=N(ya),_a=f("\\").and("pos").and(f("(")).and(A.groupedAs("pos_x")).and(f(",")).and(A.groupedAs("pos_y")).and(f(")")),no=N(_a),va=f("\\").and("org").and(f("(")).and(A.groupedAs("org_x")).and(f(",")).and(A.groupedAs("org_y")).and(f(")")),ro=N(va),ba=f("\\").and("fad").and(f("(")).and(A.groupedAs("in")).and(f(",")).and(A.groupedAs("out")).and(f(")")),ao=N(ba),xa=f("\\").and("fade").and(f("(")).and(A.groupedAs("fade_alpha1")).and(f(",")).and(A.groupedAs("fade_alpha2")).and(f(",")).and(A.groupedAs("fade_alpha3")).and(f(",")).and(A.groupedAs("fade_t1")).and(f(",")).and(A.groupedAs("fade_t2")).and(f(",")).and(A.groupedAs("fade_t3")).and(f(",")).and(A.groupedAs("fade_t4")).and(f(")")),so=N(xa),io=f(",").and(A.groupedAs("move_t1")).and(f(",")).and(A.groupedAs("move_t2")).optionally(),ka=f("\\").and("move").and(f("(")).and(A.groupedAs("move_x1")).and(f(",")).and(A.groupedAs("move_y1")).and(f(",")).and(A.groupedAs("move_x2")).and(f(",")).and(A.groupedAs("move_y2")).and(io).and(f(")")),oo=N(ka),Na=f("\\").and("clip").and(f("(")).and(F(W(")")).groupedAs("clip_args")).and(f(")")),uo=N(Na),Aa=f("\\").and("iclip").and(f("(")).and(F(W(")")).groupedAs("iclip_args")).and(f(")")),co=N(Aa),lo=f("\\").and(F(W("\\")).groupedAs("unknown_value")),Sa=Qr.or(Er).or(na).or(ra).or(sa).or(ia).or(Aa).or(ka).or(ea).or(ta).or(aa).or(ca).or(da).or(xa).or(Na).or(la).or(_a).or(va).or(ba).or(Kr).or(ha).or(ma).or(pa).or(oa).or(ua).or(Vr).or(zr).or(fa).or(ya).or(Hr).or(qr).or(Xr).or(Or).or(Rr).or(Zr).or(Ir).or(jr).or(Pr).or(Mr).or(Lr).or($r).or(Br).or(Gr).or(Ur).or(Yr).or(Wr).or(ga).or(Jr).or(Cr).or(Fr).or(Dr).or(lo),fo=f("\\").at.lineStart().and("t").and(f("(")).and(A.groupedAs("arg1").and(f(",")).optionally()).and(A.groupedAs("arg2").and(f(",")).optionally()).and(A.groupedAs("arg3").and(f(",")).optionally()).and(F(Sa).groupedAs("tags")).and(f(")")),ho=N(Sa),wa=N(fo);function Rt(n){const e=Math.floor(n/3600),t=Math.floor((n/3600-e)*60);return n=n-e*3600-t*60,{hours:e,minutes:t,seconds:n}}function xt(n){var i,c,d;const e=/(?<h>\d+):(?<m>[0-9]{1,2}?):(?<s>[0-9]{1,2}(?:\.[0-9]{1,2})?)/,t=n.match(e);if(!t||t.length===0)return null;const r=Math.floor(Number(((i=t.groups)==null?void 0:i.h)??"0")),a=Math.floor(Number(((c=t.groups)==null?void 0:c.m)??"0")),s=Number(((d=t.groups)==null?void 0:d.s)??"0"),o={hours:r,minutes:a,seconds:s};return et(o),o}function et(n){n.seconds>=60&&(n.seconds-=60,n.minutes++),n.minutes>=60&&(n.minutes-=60,n.hours++),n.hours>=9&&(n.hours=9,n.minutes=59,n.seconds=59.99)}function kt(n){et(n);const e=n.hours.toFixed(0),t=n.minutes.toFixed(0).padStart(2,"0"),r=n.seconds.toFixed(2).padStart(5,"0");return`${e}:${t}:${r}`}function ge(n){return et(n),n.hours*3600+n.minutes*60+n.seconds}function mo(n,e){const t=ge(n),r=ge(e),a=t+r;return Rt(a)}function po(n,e){const t=ge(n),r=ge(e),a=t-r;return Rt(a)}var P;(function(n){n.assertEqual=a=>{};function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},n.getValidEnumValues=a=>{const s=n.objectKeys(a).filter(i=>typeof a[a[i]]!="number"),o={};for(const i of s)o[i]=a[i];return n.objectValues(o)},n.objectValues=a=>n.objectKeys(a).map(function(s){return a[s]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},n.find=(a,s)=>{for(const o of a)if(s(o))return o},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}n.joinValues=r,n.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(P||(P={}));var Qn;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Qn||(Qn={}));const b=P.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),se=n=>{switch(typeof n){case"undefined":return b.undefined;case"string":return b.string;case"number":return Number.isNaN(n)?b.nan:b.number;case"boolean":return b.boolean;case"function":return b.function;case"bigint":return b.bigint;case"symbol":return b.symbol;case"object":return Array.isArray(n)?b.array:n===null?b.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?b.promise:typeof Map<"u"&&n instanceof Map?b.map:typeof Set<"u"&&n instanceof Set?b.set:typeof Date<"u"&&n instanceof Date?b.date:b.object;default:return b.unknown}},g=P.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class re extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(s){return s.message},r={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let i=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(i[d]=i[d]||{_errors:[]},i[d]._errors.push(t(o))):i[d]=i[d]||{_errors:[]},i=i[d],c++}}};return a(this),r}static assert(e){if(!(e instanceof re))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,P.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}re.create=n=>new re(n);const Nt=(n,e)=>{let t;switch(n.code){case g.invalid_type:n.received===b.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case g.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,P.jsonStringifyReplacer)}`;break;case g.unrecognized_keys:t=`Unrecognized key(s) in object: ${P.joinValues(n.keys,", ")}`;break;case g.invalid_union:t="Invalid input";break;case g.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${P.joinValues(n.options)}`;break;case g.invalid_enum_value:t=`Invalid enum value. Expected ${P.joinValues(n.options)}, received '${n.received}'`;break;case g.invalid_arguments:t="Invalid function arguments";break;case g.invalid_return_type:t="Invalid function return type";break;case g.invalid_date:t="Invalid date";break;case g.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:P.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case g.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case g.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case g.custom:t="Invalid input";break;case g.invalid_intersection_types:t="Intersection results could not be merged";break;case g.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case g.not_finite:t="Number must be finite";break;default:t=e.defaultError,P.assertNever(n)}return{message:t}};let go=Nt;function yo(){return go}const _o=n=>{const{data:e,path:t,errorMaps:r,issueData:a}=n,s=[...t,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let i="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)i=d(o,{data:e,defaultError:i}).message;return{...a,path:s,message:i}};function _(n,e){const t=yo(),r=_o({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Nt?void 0:Nt].filter(a=>!!a)});n.common.issues.push(r)}class H{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const a of t){if(a.status==="aborted")return O;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const a of t){const s=await a.key,o=await a.value;r.push({key:s,value:o})}return H.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const a of t){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return O;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const O=Object.freeze({status:"aborted"}),Ze=n=>({status:"dirty",value:n}),Y=n=>({status:"valid",value:n}),er=n=>n.status==="aborted",tr=n=>n.status==="dirty",Ae=n=>n.status==="valid",He=n=>typeof Promise<"u"&&n instanceof Promise;var k;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(k||(k={}));var qe=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Ca=function(n,e,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!a:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(n,t):a?a.value=t:e.set(n,t),t},Ie,Ee;class de{constructor(e,t,r,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nr=(n,e)=>{if(Ae(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new re(n.common.issues);return this._error=t,this._error}}};function Z(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:a}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,i)=>{const{message:c}=n;return o.code==="invalid_enum_value"?{message:c??i.defaultError}:typeof i.data>"u"?{message:c??r??i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:c??t??i.defaultError}},description:a}}class E{get description(){return this._def.description}_getType(e){return se(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:se(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new H,ctx:{common:e.parent.common,data:e.data,parsedType:se(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(He(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:se(e)},a=this._parseSync({data:e,path:r.path,parent:r});return nr(r,a)}"~validate"(e){var r,a;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:se(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:t});return Ae(s)?{value:s.value}:{issues:t.common.issues}}catch(s){(a=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(s=>Ae(s)?{value:s.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:se(e)},a=this._parse({data:e,path:r.path,parent:r}),s=await(He(a)?a:Promise.resolve(a));return nr(r,s)}refine(e,t){const r=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,s)=>{const o=e(a),i=()=>s.addIssue({code:g.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,t){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof t=="function"?t(r,a):t),!1))}_refinement(e){return new we({schema:this,typeName:$.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return oe.create(this,this._def)}nullable(){return Ce.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ee.create(this)}promise(){return Je.create(this,this._def)}or(e){return Ke.create([this,e],this._def)}and(e){return Xe.create(this,e,this._def)}transform(e){return new we({...Z(this._def),schema:this,typeName:$.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new wt({...Z(this._def),innerType:this,defaultValue:t,typeName:$.ZodDefault})}brand(){return new zo({typeName:$.ZodBranded,type:this,...Z(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Ct({...Z(this._def),innerType:this,catchValue:t,typeName:$.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Zt.create(this,e)}readonly(){return Tt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const vo=/^c[^\s-]{8,}$/i,bo=/^[0-9a-z]+$/,xo=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ko=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,No=/^[a-z0-9_-]{21}$/i,Ao=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,So=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wo=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Co="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ot;const To=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$o=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Oo=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ro=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Zo=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Io=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ta="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Eo=new RegExp(`^${Ta}$`);function $a(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function jo(n){return new RegExp(`^${$a(n)}$`)}function Po(n){let e=`${Ta}T${$a(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Mo(n,e){return!!((e==="v4"||!e)&&To.test(n)||(e==="v6"||!e)&&Oo.test(n))}function Lo(n,e){if(!Ao.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function Fo(n,e){return!!((e==="v4"||!e)&&$o.test(n)||(e==="v6"||!e)&&Ro.test(n))}class he extends E{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==b.string){const s=this._getOrReturnCtx(e);return _(s,{code:g.invalid_type,expected:b.string,received:s.parsedType}),O}const r=new H;let a;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),_(a,{code:g.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),_(a,{code:g.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,i=e.data.length<s.value;(o||i)&&(a=this._getOrReturnCtx(e,a),o?_(a,{code:g.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&_(a,{code:g.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")wo.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"email",code:g.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")ot||(ot=new RegExp(Co,"u")),ot.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"emoji",code:g.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")ko.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"uuid",code:g.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")No.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"nanoid",code:g.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")vo.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"cuid",code:g.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")bo.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"cuid2",code:g.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")xo.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"ulid",code:g.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),_(a,{validation:"url",code:g.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"regex",code:g.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),_(a,{code:g.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),_(a,{code:g.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),_(a,{code:g.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Po(s).test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{code:g.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Eo.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{code:g.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?jo(s).test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{code:g.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?So.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"duration",code:g.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Mo(e.data,s.version)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"ip",code:g.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?Lo(e.data,s.alg)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"jwt",code:g.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?Fo(e.data,s.version)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"cidr",code:g.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Zo.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"base64",code:g.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?Io.test(e.data)||(a=this._getOrReturnCtx(e,a),_(a,{validation:"base64url",code:g.invalid_string,message:s.message}),r.dirty()):P.assertNever(s);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(a=>e.test(a),{validation:t,code:g.invalid_string,...k.errToObj(r)})}_addCheck(e){return new he({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...k.errToObj(e)})}url(e){return this._addCheck({kind:"url",...k.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...k.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...k.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...k.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...k.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...k.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...k.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...k.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...k.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...k.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...k.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...k.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...k.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...k.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...k.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...k.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...k.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...k.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...k.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...k.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...k.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...k.errToObj(t)})}nonempty(e){return this.min(1,k.errToObj(e))}trim(){return new he({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new he({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new he({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}he.create=n=>new he({checks:[],typeName:$.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...Z(n)});function Do(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=t>r?t:r,s=Number.parseInt(n.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return s%o/10**a}class Le extends E{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==b.number){const s=this._getOrReturnCtx(e);return _(s,{code:g.invalid_type,expected:b.number,received:s.parsedType}),O}let r;const a=new H;for(const s of this._def.checks)s.kind==="int"?P.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{code:g.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),_(r,{code:g.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),_(r,{code:g.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?Do(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),_(r,{code:g.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{code:g.not_finite,message:s.message}),a.dirty()):P.assertNever(s);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,k.toString(t))}gt(e,t){return this.setLimit("min",e,!1,k.toString(t))}lte(e,t){return this.setLimit("max",e,!0,k.toString(t))}lt(e,t){return this.setLimit("max",e,!1,k.toString(t))}setLimit(e,t,r,a){return new Le({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:k.toString(a)}]})}_addCheck(e){return new Le({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:k.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:k.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:k.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:k.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:k.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&P.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Le.create=n=>new Le({checks:[],typeName:$.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Z(n)});class Fe extends E{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==b.bigint)return this._getInvalidInput(e);let r;const a=new H;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),_(r,{code:g.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),_(r,{code:g.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),_(r,{code:g.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):P.assertNever(s);return{status:a.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return _(t,{code:g.invalid_type,expected:b.bigint,received:t.parsedType}),O}gte(e,t){return this.setLimit("min",e,!0,k.toString(t))}gt(e,t){return this.setLimit("min",e,!1,k.toString(t))}lte(e,t){return this.setLimit("max",e,!0,k.toString(t))}lt(e,t){return this.setLimit("max",e,!1,k.toString(t))}setLimit(e,t,r,a){return new Fe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:k.toString(a)}]})}_addCheck(e){return new Fe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:k.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Fe.create=n=>new Fe({checks:[],typeName:$.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...Z(n)});class rr extends E{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==b.boolean){const r=this._getOrReturnCtx(e);return _(r,{code:g.invalid_type,expected:b.boolean,received:r.parsedType}),O}return Y(e.data)}}rr.create=n=>new rr({typeName:$.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Z(n)});class Ye extends E{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==b.date){const s=this._getOrReturnCtx(e);return _(s,{code:g.invalid_type,expected:b.date,received:s.parsedType}),O}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return _(s,{code:g.invalid_date}),O}const r=new H;let a;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),_(a,{code:g.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),_(a,{code:g.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):P.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ye({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:k.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:k.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Ye.create=n=>new Ye({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:$.ZodDate,...Z(n)});class ar extends E{_parse(e){if(this._getType(e)!==b.symbol){const r=this._getOrReturnCtx(e);return _(r,{code:g.invalid_type,expected:b.symbol,received:r.parsedType}),O}return Y(e.data)}}ar.create=n=>new ar({typeName:$.ZodSymbol,...Z(n)});class sr extends E{_parse(e){if(this._getType(e)!==b.undefined){const r=this._getOrReturnCtx(e);return _(r,{code:g.invalid_type,expected:b.undefined,received:r.parsedType}),O}return Y(e.data)}}sr.create=n=>new sr({typeName:$.ZodUndefined,...Z(n)});class ir extends E{_parse(e){if(this._getType(e)!==b.null){const r=this._getOrReturnCtx(e);return _(r,{code:g.invalid_type,expected:b.null,received:r.parsedType}),O}return Y(e.data)}}ir.create=n=>new ir({typeName:$.ZodNull,...Z(n)});class or extends E{constructor(){super(...arguments),this._any=!0}_parse(e){return Y(e.data)}}or.create=n=>new or({typeName:$.ZodAny,...Z(n)});class ur extends E{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Y(e.data)}}ur.create=n=>new ur({typeName:$.ZodUnknown,...Z(n)});class le extends E{_parse(e){const t=this._getOrReturnCtx(e);return _(t,{code:g.invalid_type,expected:b.never,received:t.parsedType}),O}}le.create=n=>new le({typeName:$.ZodNever,...Z(n)});class cr extends E{_parse(e){if(this._getType(e)!==b.undefined){const r=this._getOrReturnCtx(e);return _(r,{code:g.invalid_type,expected:b.void,received:r.parsedType}),O}return Y(e.data)}}cr.create=n=>new cr({typeName:$.ZodVoid,...Z(n)});class ee extends E{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==b.array)return _(t,{code:g.invalid_type,expected:b.array,received:t.parsedType}),O;if(a.exactLength!==null){const o=t.data.length>a.exactLength.value,i=t.data.length<a.exactLength.value;(o||i)&&(_(t,{code:o?g.too_big:g.too_small,minimum:i?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(_(t,{code:g.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(_(t,{code:g.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((o,i)=>a.type._parseAsync(new de(t,o,t.path,i)))).then(o=>H.mergeArray(r,o));const s=[...t.data].map((o,i)=>a.type._parseSync(new de(t,o,t.path,i)));return H.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new ee({...this._def,minLength:{value:e,message:k.toString(t)}})}max(e,t){return new ee({...this._def,maxLength:{value:e,message:k.toString(t)}})}length(e,t){return new ee({...this._def,exactLength:{value:e,message:k.toString(t)}})}nonempty(e){return this.min(1,e)}}ee.create=(n,e)=>new ee({type:n,minLength:null,maxLength:null,exactLength:null,typeName:$.ZodArray,...Z(e)});function ve(n){if(n instanceof V){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=oe.create(ve(r))}return new V({...n._def,shape:()=>e})}else return n instanceof ee?new ee({...n._def,type:ve(n.element)}):n instanceof oe?oe.create(ve(n.unwrap())):n instanceof Ce?Ce.create(ve(n.unwrap())):n instanceof ye?ye.create(n.items.map(e=>ve(e))):n}class V extends E{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=P.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==b.object){const d=this._getOrReturnCtx(e);return _(d,{code:g.invalid_type,expected:b.object,received:d.parsedType}),O}const{status:r,ctx:a}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof le&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||i.push(d);const c=[];for(const d of o){const m=s[d],M=a.data[d];c.push({key:{status:"valid",value:d},value:m._parse(new de(a,M,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof le){const d=this._def.unknownKeys;if(d==="passthrough")for(const m of i)c.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(d==="strict")i.length>0&&(_(a,{code:g.unrecognized_keys,keys:i}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const m of i){const M=a.data[m];c.push({key:{status:"valid",value:m},value:d._parse(new de(a,M,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const m of c){const M=await m.key,K=await m.value;d.push({key:M,value:K,alwaysSet:m.alwaysSet})}return d}).then(d=>H.mergeObjectSync(r,d)):H.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return k.errToObj,new V({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var s,o;const a=((o=(s=this._def).errorMap)==null?void 0:o.call(s,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:k.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new V({...this._def,unknownKeys:"strip"})}passthrough(){return new V({...this._def,unknownKeys:"passthrough"})}extend(e){return new V({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new V({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new V({...this._def,catchall:e})}pick(e){const t={};for(const r of P.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new V({...this._def,shape:()=>t})}omit(e){const t={};for(const r of P.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new V({...this._def,shape:()=>t})}deepPartial(){return ve(this)}partial(e){const t={};for(const r of P.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}return new V({...this._def,shape:()=>t})}required(e){const t={};for(const r of P.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof oe;)s=s._def.innerType;t[r]=s}return new V({...this._def,shape:()=>t})}keyof(){return Oa(P.objectKeys(this.shape))}}V.create=(n,e)=>new V({shape:()=>n,unknownKeys:"strip",catchall:le.create(),typeName:$.ZodObject,...Z(e)});V.strictCreate=(n,e)=>new V({shape:()=>n,unknownKeys:"strict",catchall:le.create(),typeName:$.ZodObject,...Z(e)});V.lazycreate=(n,e)=>new V({shape:n,unknownKeys:"strip",catchall:le.create(),typeName:$.ZodObject,...Z(e)});class Ke extends E{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function a(s){for(const i of s)if(i.result.status==="valid")return i.result;for(const i of s)if(i.result.status==="dirty")return t.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(i=>new re(i.ctx.common.issues));return _(t,{code:g.invalid_union,unionErrors:o}),O}if(t.common.async)return Promise.all(r.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of r){const d={...t,common:{...t.common,issues:[]},parent:null},m=c._parseSync({data:t.data,path:t.path,parent:d});if(m.status==="valid")return m;m.status==="dirty"&&!s&&(s={result:m,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const i=o.map(c=>new re(c));return _(t,{code:g.invalid_union,unionErrors:i}),O}}get options(){return this._def.options}}Ke.create=(n,e)=>new Ke({options:n,typeName:$.ZodUnion,...Z(e)});function At(n,e){const t=se(n),r=se(e);if(n===e)return{valid:!0,data:n};if(t===b.object&&r===b.object){const a=P.objectKeys(e),s=P.objectKeys(n).filter(i=>a.indexOf(i)!==-1),o={...n,...e};for(const i of s){const c=At(n[i],e[i]);if(!c.valid)return{valid:!1};o[i]=c.data}return{valid:!0,data:o}}else if(t===b.array&&r===b.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let s=0;s<n.length;s++){const o=n[s],i=e[s],c=At(o,i);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return t===b.date&&r===b.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Xe extends E{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=(s,o)=>{if(er(s)||er(o))return O;const i=At(s.value,o.value);return i.valid?((tr(s)||tr(o))&&t.dirty(),{status:t.value,value:i.data}):(_(r,{code:g.invalid_intersection_types}),O)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Xe.create=(n,e,t)=>new Xe({left:n,right:e,typeName:$.ZodIntersection,...Z(t)});class ye extends E{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.array)return _(r,{code:g.invalid_type,expected:b.array,received:r.parsedType}),O;if(r.data.length<this._def.items.length)return _(r,{code:g.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),O;!this._def.rest&&r.data.length>this._def.items.length&&(_(r,{code:g.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...r.data].map((o,i)=>{const c=this._def.items[i]||this._def.rest;return c?c._parse(new de(r,o,r.path,i)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>H.mergeArray(t,o)):H.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new ye({...this._def,rest:e})}}ye.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ye({items:n,typeName:$.ZodTuple,rest:null,...Z(e)})};class dr extends E{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.map)return _(r,{code:g.invalid_type,expected:b.map,received:r.parsedType}),O;const a=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([i,c],d)=>({key:a._parse(new de(r,i,r.path,[d,"key"])),value:s._parse(new de(r,c,r.path,[d,"value"]))}));if(r.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,m=await c.value;if(d.status==="aborted"||m.status==="aborted")return O;(d.status==="dirty"||m.status==="dirty")&&t.dirty(),i.set(d.value,m.value)}return{status:t.value,value:i}})}else{const i=new Map;for(const c of o){const d=c.key,m=c.value;if(d.status==="aborted"||m.status==="aborted")return O;(d.status==="dirty"||m.status==="dirty")&&t.dirty(),i.set(d.value,m.value)}return{status:t.value,value:i}}}}dr.create=(n,e,t)=>new dr({valueType:e,keyType:n,typeName:$.ZodMap,...Z(t)});class De extends E{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==b.set)return _(r,{code:g.invalid_type,expected:b.set,received:r.parsedType}),O;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(_(r,{code:g.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(_(r,{code:g.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const s=this._def.valueType;function o(c){const d=new Set;for(const m of c){if(m.status==="aborted")return O;m.status==="dirty"&&t.dirty(),d.add(m.value)}return{status:t.value,value:d}}const i=[...r.data.values()].map((c,d)=>s._parse(new de(r,c,r.path,d)));return r.common.async?Promise.all(i).then(c=>o(c)):o(i)}min(e,t){return new De({...this._def,minSize:{value:e,message:k.toString(t)}})}max(e,t){return new De({...this._def,maxSize:{value:e,message:k.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}De.create=(n,e)=>new De({valueType:n,minSize:null,maxSize:null,typeName:$.ZodSet,...Z(e)});class lr extends E{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}lr.create=(n,e)=>new lr({getter:n,typeName:$.ZodLazy,...Z(e)});class fr extends E{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return _(t,{received:t.data,code:g.invalid_literal,expected:this._def.value}),O}return{status:"valid",value:e.data}}get value(){return this._def.value}}fr.create=(n,e)=>new fr({value:n,typeName:$.ZodLiteral,...Z(e)});function Oa(n,e){return new Se({values:n,typeName:$.ZodEnum,...Z(e)})}class Se extends E{constructor(){super(...arguments),Ie.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return _(t,{expected:P.joinValues(r),received:t.parsedType,code:g.invalid_type}),O}if(qe(this,Ie,"f")||Ca(this,Ie,new Set(this._def.values),"f"),!qe(this,Ie,"f").has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return _(t,{received:t.data,code:g.invalid_enum_value,options:r}),O}return Y(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Se.create(e,{...this._def,...t})}exclude(e,t=this._def){return Se.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Ie=new WeakMap;Se.create=Oa;class St extends E{constructor(){super(...arguments),Ee.set(this,void 0)}_parse(e){const t=P.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==b.string&&r.parsedType!==b.number){const a=P.objectValues(t);return _(r,{expected:P.joinValues(a),received:r.parsedType,code:g.invalid_type}),O}if(qe(this,Ee,"f")||Ca(this,Ee,new Set(P.getValidEnumValues(this._def.values)),"f"),!qe(this,Ee,"f").has(e.data)){const a=P.objectValues(t);return _(r,{received:r.data,code:g.invalid_enum_value,options:a}),O}return Y(e.data)}get enum(){return this._def.values}}Ee=new WeakMap;St.create=(n,e)=>new St({values:n,typeName:$.ZodNativeEnum,...Z(e)});class Je extends E{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==b.promise&&t.common.async===!1)return _(t,{code:g.invalid_type,expected:b.promise,received:t.parsedType}),O;const r=t.parsedType===b.promise?t.data:Promise.resolve(t.data);return Y(r.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Je.create=(n,e)=>new Je({type:n,typeName:$.ZodPromise,...Z(e)});class we extends E{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:o=>{_(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async i=>{if(t.value==="aborted")return O;const c=await this._def.schema._parseAsync({data:i,path:r.path,parent:r});return c.status==="aborted"?O:c.status==="dirty"||t.value==="dirty"?Ze(c.value):c});{if(t.value==="aborted")return O;const i=this._def.schema._parseSync({data:o,path:r.path,parent:r});return i.status==="aborted"?O:i.status==="dirty"||t.value==="dirty"?Ze(i.value):i}}if(a.type==="refinement"){const o=i=>{const c=a.refinement(i,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?O:(i.status==="dirty"&&t.dirty(),o(i.value),{status:t.value,value:i.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>i.status==="aborted"?O:(i.status==="dirty"&&t.dirty(),o(i.value).then(()=>({status:t.value,value:i.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ae(o))return o;const i=a.transform(o.value,s);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ae(o)?Promise.resolve(a.transform(o.value,s)).then(i=>({status:t.value,value:i})):o);P.assertNever(a)}}we.create=(n,e,t)=>new we({schema:n,typeName:$.ZodEffects,effect:e,...Z(t)});we.createWithPreprocess=(n,e,t)=>new we({schema:e,effect:{type:"preprocess",transform:n},typeName:$.ZodEffects,...Z(t)});class oe extends E{_parse(e){return this._getType(e)===b.undefined?Y(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oe.create=(n,e)=>new oe({innerType:n,typeName:$.ZodOptional,...Z(e)});class Ce extends E{_parse(e){return this._getType(e)===b.null?Y(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ce.create=(n,e)=>new Ce({innerType:n,typeName:$.ZodNullable,...Z(e)});class wt extends E{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===b.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}wt.create=(n,e)=>new wt({innerType:n,typeName:$.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Z(e)});class Ct extends E{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return He(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new re(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new re(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ct.create=(n,e)=>new Ct({innerType:n,typeName:$.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Z(e)});class hr extends E{_parse(e){if(this._getType(e)!==b.nan){const r=this._getOrReturnCtx(e);return _(r,{code:g.invalid_type,expected:b.nan,received:r.parsedType}),O}return{status:"valid",value:e.data}}}hr.create=n=>new hr({typeName:$.ZodNaN,...Z(n)});class zo extends E{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Zt extends E{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?O:s.status==="dirty"?(t.dirty(),Ze(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?O:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,t){return new Zt({in:e,out:t,typeName:$.ZodPipeline})}}class Tt extends E{_parse(e){const t=this._def.innerType._parse(e),r=a=>(Ae(a)&&(a.value=Object.freeze(a.value)),a);return He(t)?t.then(a=>r(a)):r(t)}unwrap(){return this._def.innerType}}Tt.create=(n,e)=>new Tt({innerType:n,typeName:$.ZodReadonly,...Z(e)});var $;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})($||($={}));le.create;ee.create;Ke.create;Xe.create;ye.create;Se.create;const Ra=St.create;Je.create;oe.create;Ce.create;var It=function(n){return n[n.DOWN_LEFT=1]="DOWN_LEFT",n[n.DOWN_CENTER=2]="DOWN_CENTER",n[n.DOWN_RIGHT=3]="DOWN_RIGHT",n[n.CENTER_LEFT=4]="CENTER_LEFT",n[n.CENTER_CENTER=5]="CENTER_CENTER",n[n.CENTER_RIGHT=6]="CENTER_RIGHT",n[n.UP_LEFT=7]="UP_LEFT",n[n.UP_CENTER=8]="UP_CENTER",n[n.UP_RIGHT=9]="UP_RIGHT",n}({});const Za=Ra(It);var Et=function(n){return n[n.ANSI=0]="ANSI",n[n.DEFAULT=1]="DEFAULT",n[n.SYMBOL=2]="SYMBOL",n[n.MAC=77]="MAC",n[n.SHIFT_JIS=128]="SHIFT_JIS",n[n.HANGEUL=129]="HANGEUL",n[n.JOHAB=130]="JOHAB",n[n.GB2312=134]="GB2312",n[n.CHINESE_BIG5=136]="CHINESE_BIG5",n[n.GREEK=161]="GREEK",n[n.TURKISH=162]="TURKISH",n[n.VIETNAMESE=163]="VIETNAMESE",n[n.HEBREW=177]="HEBREW",n[n.ARAB=178]="ARAB",n[n.BALTIC=186]="BALTIC",n[n.RUSSIAN=204]="RUSSIAN",n[n.THAI=222]="THAI",n[n.EASTERN_EUROPE=238]="EASTERN_EUROPE",n[n.OEM=255]="OEM",n}({});const Ia=Ra(Et);function Ea(){return{format:"Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text",lines:[]}}function ja(){return{format:"Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text",lines:[is()]}}function Pa(n){let e="[Events]";e+=`
Format: ${n.format}`;for(const t of n.lines)e+=`
${rs(t)}`;return e}function jt(){return{data:[]}}function Ma(n){let e="[Aegisub Extradata]";for(const t of n.data)e+=`
Data: ${t}`;return e}function La(n){let e=`fontname: ${n.name}`;for(const t of n.data)e+=`
${t}`;return e}function Pt(){return{files:[]}}function Fa(n){let e=`[Fonts]
`,t=0;for(const r of n.files)t>0&&(e+=`

`),e+=La(r),t++;return e+=`
`,e}function Da(n){let e=`filename: ${n.name}`;for(const t of n.data)e+=`
${t}`;return e}function Mt(){return{files:[]}}function za(n){let e=`[Graphics]
`,t=0;for(const r of n.files)t>0&&(e+=`

`),e+=Da(r),t++;return e}const Vo="Automation Scripts",Bo="Export Filters",Uo="Export Encoding",Go="Last Style Storage",Wo="Audio File",Ho="Video File",qo="Timecodes File",Yo="Keyframes File",Ko="Video AR Mode",Xo="Video AR Value",Jo="Video Zoom Percent",Qo="Scroll Position",eu="Active Line",tu="Video Position";function Lt(){return{comments:[],properties:new Map}}function Va(n){let e="[Aegisub Project Garbage]";for(const t of n.comments)e+=`
; ${t}`;for(const[t,r]of n.properties)e+=`
${t}: ${r}`;return e}const nu="Title",ru="ScriptType",au="WrapStyle",su="PlayResX",iu="PlayResY",ou="ScaledBorderAndShadow",uu="YCbCr Matrix",cu="Original Script",du="Original Translation",lu="Original Editing",fu="Original Timing",hu="Synch Point",mu="Script Updated By",pu="Update Details";function Ba(){return{comments:[],properties:new Map}}function Ua(){return{comments:[],properties:new Map([["Title","Default Aegisub file"],["ScriptType","v4.00+"],["WrapStyle","0"],["ScaledBorderAndShadow","yes"],["YCbCr Matrix","None"]])}}function Ga(n){let e="[Script Info]";for(const t of n.comments)e+=`
; ${t}`;for(const[t,r]of n.properties)e+=`
${t}: ${r}`;return e}function je(n,e){let t="00";const r=z(e);Number.isNaN(r)||(t=e);let a="00",s="00",o="00";const i="&H",c=ss(i+n);return c!=null&&(a=me(c.blue),s=me(c.green),o=me(c.red)),`${i}${t}${a}${s}${o}`}function Wa(n){const e=je(n.primaryColor,n.primaryAlpha),t=je(n.secondaryColor,n.secondaryAlpha),r=je(n.outlineColor,n.outlineAlpha),a=je(n.backColor,n.backAlpha);let s=`Style: ${n.name}`;return s+=`,${n.fontName}`,s+=`,${n.fontSize}`,s+=`,${e}`,s+=`,${t}`,s+=`,${r}`,s+=`,${a}`,s+=`,${n.bold}`,s+=`,${n.italic}`,s+=`,${n.underline}`,s+=`,${n.strikeOut}`,s+=`,${n.scaleX}`,s+=`,${n.scaleY}`,s+=`,${n.spacing}`,s+=`,${n.angle}`,s+=`,${n.borderStyle}`,s+=`,${n.outline}`,s+=`,${n.shadow}`,s+=`,${n.alignment}`,s+=`,${n.marginLeft}`,s+=`,${n.marginRight}`,s+=`,${n.marginVertical}`,s+=`,${n.encoding}`,s}function Ha(){return{format:"Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding",styles:[]}}function qa(){return{format:"Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding",styles:[Ka()]}}function Ya(n){let e="[V4+ Styles]";e+=`
Format: ${n.format}`;for(const t of n.styles)e+=`
${Wa(t)}`;return e}function Ka(){return{name:"Default",fontName:"Arial",fontSize:20,primaryAlpha:"00",primaryColor:"0000FF",secondaryAlpha:"00",secondaryColor:"000000",outlineAlpha:"",outlineColor:"",backAlpha:"",backColor:"",bold:0,italic:0,underline:0,strikeOut:0,scaleX:100,scaleY:100,spacing:0,angle:0,borderStyle:1,outline:2,shadow:2,alignment:It.DOWN_CENTER,marginLeft:10,marginRight:10,marginVertical:10,encoding:Et.DEFAULT}}const gu="[Script Info]",yu="[Aegisub Project Garbage]",_u="[V4+ Styles]",vu="[Graphics]",bu="[Fonts]",xu="[Events]",ku="[Aegisub Extradata]",Qe="; ",mr="Data: ";function Nu(n){let e="";return e+=Ga(n.scriptInfo),e+=`

`+Va(n.aegisubProjectGarbage),e+=`

`+Ya(n.styles),e+=`

`+Fa(n.fonts),e+=`

`+za(n.graphics),e+=`

`+Pa(n.events),e+=`

`+Ma(n.extraData),e+=`
`,e}function Au(n){const e={scriptInfo:Ba(),aegisubProjectGarbage:Lt(),styles:Ha(),fonts:Pt(),graphics:Mt(),events:Ea(),extraData:jt()},t="scriptInfo",r="projectGarbage",a="styles",s="fonts",o="graphics",i="events",c="extraData";let d="",m="";const M=n.split(`
`);for(let K=0;K<M.length;K++){const $e=K+1,U=wu(M[K]);if(U.length===0)continue;switch(U){case gu:d=t;continue;case yu:d=r;continue;case _u:d=a;continue;case bu:d=s;continue;case vu:d=o;continue;case xu:d=i;continue;case ku:d=c;continue}let te="";switch(d){case t:te=Cu(e,U);break;case r:te=Tu(e,U);break;case a:te=$u(e,U);break;case s:m=Ou(e,U,m);break;case o:m=Ru(e,U,m);break;case i:te=Zu(e,U);break;case c:Iu(e,U);break;default:console.error(`failed to parse line ${$e}`);break}if(te.length>0)return console.error(`failed to parse ass file at line ${$e}: ${te}
Line:
${U}`),null}return e}function Xa(n){const e=/Style: (?<name>.*)\s*,\s*(?<fontName>.*)\s*,\s*(?<fontSize>\d+(?:\.\d+)?)\s*,\s*&H(?<alpha1>[A-Fa-f0-9]{2})(?<color1>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha2>[A-Fa-f0-9]{2})(?<color2>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha3>[A-Fa-f0-9]{2})(?<color3>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha4>[A-Fa-f0-9]{2})(?<color4>[A-Fa-f0-9]{6})\s*,\s*(?<bold>0|-1)\s*,\s*(?<italic>0|-1)\s*,\s*(?<underline>0|-1)\s*,\s*(?<strikeout>0|-1)\s*,\s*(?<scaleX>\d+(?:\.\d+)?)\s*,\s*(?<scaleY>\d+(?:\.\d+)?)\s*,\s*(?<spacing>\d+(?:\.\d+)?)\s*,\s*(?<angle>-?\d+(?:\.\d+)?)\s*,\s*(?<borderStyle>\d+)\s*,\s*(?<outline>\d+(?:\.\d+)?)\s*,\s*(?<shadow>\d+(?:\.\d+)?)\s*,\s*(?<alignment>[1-9])\s*,\s*(?<marginLeft>\d+)\s*,\s*(?<marginRight>\d+)\s*,\s*(?<marginVertical>\d+)\s*,\s*(?<encoding>\d+)/;if(!n.startsWith("Style: "))return[void 0,""];const t=n.match(e);if(!t||t.length===0||!t.groups)return[void 0,`failed to parse style: not a style: ${n}`];const r=Za.safeParse(Number(t.groups.alignment));if(!r.success)return[void 0,`failed to parse style: invalid alignment: ${n}`];const a=r.data,s=Ia.safeParse(Number(t.groups.encoding));if(!s.success)return[void 0,`failed to parse style: invalid encoding: ${t.groups.encoding}`];const o=s.data;return[{name:t.groups.name??"",fontName:t.groups.fontName??"",fontSize:Number(t.groups.fontSize??"0"),primaryAlpha:t.groups.alpha1,primaryColor:t.groups.color1,secondaryAlpha:t.groups.alpha2,secondaryColor:t.groups.color2,outlineAlpha:t.groups.alpha3,outlineColor:t.groups.color3,backAlpha:t.groups.alpha4,backColor:t.groups.color4,bold:Number(t.groups.bold),italic:Number(t.groups.italic),underline:Number(t.groups.underline),strikeOut:Number(t.groups.strikeout),scaleX:Number(t.groups.scaleX),scaleY:Number(t.groups.scaleY),spacing:Number(t.groups.spacing),angle:Number(t.groups.angle),borderStyle:Number(t.groups.borderStyle),outline:Number(t.groups.outline),shadow:Number(t.groups.shadow),alignment:a,marginLeft:Number(t.groups.marginLeft),marginRight:Number(t.groups.marginRight),marginVertical:Number(t.groups.marginVertical),encoding:o},""]}function Su(){return{scriptInfo:Ua(),aegisubProjectGarbage:Lt(),styles:qa(),fonts:Pt(),graphics:Mt(),events:ja(),extraData:jt()}}function wu(n){return n=n.replaceAll("\\uFEFF",""),n=n.replaceAll("\r",""),n}function tt(n){var a,s;const e=/(?<key>.+):\s+(?<value>.*)\s*/,t={key:"",value:""},r=n.match(e);return!r||r.length===0?[t,`not a key-value pair: ${n}`]:(t.key=((a=r.groups)==null?void 0:a.key)??"",t.value=((s=r.groups)==null?void 0:s.value)??"",[t,""])}function Cu(n,e){if(e.startsWith(Qe)){const a=e.substring(Qe.length);return n.scriptInfo.comments.push(a),""}const[t,r]=tt(e);return r.length>0?`failed to parse script info line: ${r}`:(n.scriptInfo.properties.set(t.key,t.value),"")}function Tu(n,e){if(e.startsWith(Qe)){const a=e.substring(Qe.length);return n.aegisubProjectGarbage.comments.push(a),""}const[t,r]=tt(e);return r.length>0?`failed to parse script info line: ${r}`:(n.aegisubProjectGarbage.properties.set(t.key,t.value),"")}function $u(n,e){const[t,r]=Xa(e);return r===""&&t!=null&&n.styles.styles.push(t),r}function Ou(n,e,t){const[r,a]=tt(e);if(a.length===0&&r.key=="fontname"){const i=r.value;let c={name:"",data:[]},d=n.fonts.files.findIndex(m=>m.name===i);return n.fonts.files.push(c),d=n.fonts.files.length-1,c=n.fonts.files[d],c.name=i,t=i,i}const s=n.fonts.files.findLastIndex(i=>i.name==t);return s<0?"":(n.fonts.files[s].data.push(e),t)}function Ru(n,e,t){const[r,a]=tt(e);if(a.length===0&&r.key=="filename"){const i=r.value;let c={name:"",data:[]},d=n.graphics.files.findIndex(m=>m.name===i);return n.graphics.files.push(c),d=n.graphics.files.length-1,c=n.graphics.files[d],c.name=i,t=i,i}const s=n.graphics.files.findLastIndex(i=>i.name==t);return s<0?"":(n.graphics.files[s].data.push(e),t)}function Zu(n,e){if(e.startsWith("Format:"))return n.events.format=e,"";const t=ns(e);return t==null?`not a event (dialogue / comment): ${t}`:(n.events.lines.push(t),"")}function Iu(n,e){if(!e.startsWith(mr))return;const t=e.substring(mr.length);n.extraData.data.push(t)}function Eu(n){const e=[],t=n.content.split(" ");for(let c=0;c<t.length;c++){const d=t[c];if(Ja(d)){const m=d.matchAll(wr);for(const M of m)e.push({text:M[1],durationInMs:0})}else e.push({text:d,durationInMs:0});c!=t.length-1&&(e[e.length-1].text+=" ")}const r=as(n),a=Math.floor(Math.round(r*100/e.length)),s=e.length*a;for(const c of e)c.durationInMs=a;if(!(s===r*100)){const d=r*100-s;e[e.length-1].durationInMs+=d}const i=[];for(const c of e)i.push({name:"effect",tags:[{name:u.kf,value:c.durationInMs}]},{name:"text",value:c.text});n.content=Qa(i)}function Ja(n){for(;n.length>0;){const e=n.match(wr);if(!e||e.length===0)return!1;n=n.substring(e[0].length)}return!0}var u=function(n){return n.a="a",n.alpha="alpha",n.alpha1="1a",n.alpha2="2a",n.alpha3="3a",n.alpha4="4a",n.an="an",n.b="b",n.be="be",n.blur="blur",n.bord="bord",n.clip="clip",n.color="c",n.color1="1c",n.color2="2c",n.color3="3c",n.color4="4c",n.fad="fad",n.fade="fade",n.fax="fax",n.fay="fay",n.fe="fe",n.fn="fn",n.fr="fr",n.frx="frx",n.fry="fry",n.frz="frz",n.fs="fs",n.fscx="fscx",n.fscy="fscy",n.fsp="fsp",n.i="i",n.iclip="iclip",n.kLowerCase="k",n.kUpperCase="K",n.kf="kf",n.ko="ko",n.move="move",n.org="org",n.p="p",n.pbo="pbo",n.pos="pos",n.q="q",n.r="r",n.s="s",n.shad="shad",n.t="t",n.text="text",n.u="u",n.unknown="unknown",n.xbord="xbord",n.xshad="xshad",n.ybord="ybord",n.yshad="yshad",n}({});function Te(n,e){var m,M,K,$e,U,te,Ft,Dt,zt,Vt,Bt,Ut,Gt,Wt,Ht,qt,Yt,Kt,Xt,Jt,Qt,en,tn,nn,rn,an,sn,on,un,cn,dn,ln,fn,hn,mn,pn,gn,yn,_n,vn,bn,xn,kn,Nn,An,Sn,wn,Cn,Tn,$n,On;const t=n.substring(1),r=n.match(wa);if(r&&r.length>0)return ju(n,e,t,r);const a=n.match(oi);if(a&&a.length>0){const l=a[0];return e.push({name:u.text,value:l}),n=n.substring(l.length),n.length>0&&Te(n,e),e}const s=n.match(ho);if(!s||s.length==0)return e;function o(l,h,D){return l.push(h),n=n.substring(D),n.length>0&&Te(n,l),l}let i=(m=s[0].match(oo))==null?void 0:m.groups;if(i!=null){const l=Number((i==null?void 0:i.move_x1)??"0"),h=Number((i==null?void 0:i.move_y1)??"0"),D=Number((i==null?void 0:i.move_x2)??"0"),G=Number((i==null?void 0:i.move_y2)??"0"),rt=i!=null&&i.move_t1?Number(i.move_t1):null,at=i!=null&&i.move_t2?Number(i.move_t2):null,st={name:u.move,x1:l,y1:h,x2:D,y2:G,t1:rt,t2:at};return o(e,st,s[0].length)}if(i=(M=s[0].match(_i))==null?void 0:M.groups,i!=null){const l=(i==null?void 0:i.alpha_value)??"",h={name:u.alpha,value:l};return o(e,h,s[0].length)}if(i=(K=s[0].match(Di))==null?void 0:K.groups,i!=null){const l=Number((i==null?void 0:i.xbord_value)??"0"),h={name:u.xbord,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=($e=s[0].match(zi))==null?void 0:$e.groups,i!=null){const l=Number((i==null?void 0:i.ybord_value)??"0"),h={name:u.ybord,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(U=s[0].match(Bi))==null?void 0:U.groups,i!=null){const l=Number((i==null?void 0:i.xshad_value)??"0"),h={name:u.xshad,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(te=s[0].match(Ui))==null?void 0:te.groups,i!=null){const l=Number((i==null?void 0:i.yshad_value)??"0"),h={name:u.yshad,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(Ft=s[0].match(co))==null?void 0:Ft.groups,i!=null){const l=(i==null?void 0:i.iclip_args)??"",h={name:u.iclip,drawCommands:l};return o(e,h,s[0].length)}if(i=(Dt=s[0].match(Li))==null?void 0:Dt.groups,i!=null){const l=Number((i==null?void 0:i.blur_value)??"0"),h={name:u.blur,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(zt=s[0].match(Fi))==null?void 0:zt.groups,i!=null){const l=Number((i==null?void 0:i.bord_value)??"0"),h={name:u.bord,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(Vt=s[0].match(Vi))==null?void 0:Vt.groups,i!=null){const l=Number((i==null?void 0:i.shad_value)??"0"),h={name:u.shad,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(Bt=s[0].match(Hi))==null?void 0:Bt.groups,i!=null){const l=Number((i==null?void 0:i.fscx_value)??"0"),h={name:u.fscx,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(Ut=s[0].match(qi))==null?void 0:Ut.groups,i!=null){const l=Number((i==null?void 0:i.fscy_value)??"0"),h={name:u.fscy,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(Gt=s[0].match(so))==null?void 0:Gt.groups,i!=null){const l=Number((i==null?void 0:i.fade_alpha1)??"0"),h=Number((i==null?void 0:i.fade_alpha2)??"0"),D=Number((i==null?void 0:i.fade_alpha3)??"0"),G=Number((i==null?void 0:i.fade_t1)??"0"),rt=Number((i==null?void 0:i.fade_t2)??"0"),at=Number((i==null?void 0:i.fade_t3)??"0"),st=Number((i==null?void 0:i.fade_t4)??"0"),os={name:u.fade,alpha1:l,alpha2:h,alpha3:D,t1:G,t2:rt,t3:at,t4:st};return o(e,os,s[0].length)}if(i=(Wt=s[0].match(uo))==null?void 0:Wt.groups,i!=null){const l=(i==null?void 0:i.clip_args)??"",h={name:u.clip,drawCommands:l};return o(e,h,s[0].length)}if(i=(Ht=s[0].match(Yi))==null?void 0:Ht.groups,i!=null){const l=Number((i==null?void 0:i.fsp_value)??"0"),h={name:u.fsp,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(qt=s[0].match(no))==null?void 0:qt.groups,i!=null){const l=Number((i==null?void 0:i.pos_x)??"0"),h=Number((i==null?void 0:i.pos_y)??"0"),D={name:u.pos,x:l,y:h};return o(e,D,s[0].length)}if(i=(Yt=s[0].match(ro))==null?void 0:Yt.groups,i!=null){const l=Number((i==null?void 0:i.org_x)??"0"),h=Number((i==null?void 0:i.org_y)??"0"),D={name:u.org,x:l,y:h};return o(e,D,s[0].length)}if(i=(Kt=s[0].match(ao))==null?void 0:Kt.groups,i!=null){const l=Number((i==null?void 0:i.in)??"0"),h=Number((i==null?void 0:i.out)??"0"),D={name:u.fad,in:l,out:h};return o(e,D,s[0].length)}if(i=(Xt=s[0].match(Xi))==null?void 0:Xt.groups,i!=null){const l=Number((i==null?void 0:i.frx_value)??"0"),h={name:u.frx,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(Jt=s[0].match(Ji))==null?void 0:Jt.groups,i!=null){const l=Number((i==null?void 0:i.fry_value)??"0"),h={name:u.fry,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(Qt=s[0].match(Qi))==null?void 0:Qt.groups,i!=null){const l=Number((i==null?void 0:i.frz_value)??"0"),h={name:u.frz,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(en=s[0].match(Gi))==null?void 0:en.groups,i!=null){const l=Number((i==null?void 0:i.fax_value)??"0"),h={name:u.fax,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(tn=s[0].match(Wi))==null?void 0:tn.groups,i!=null){const l=Number((i==null?void 0:i.fay_value)??"0"),h={name:u.fay,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(nn=s[0].match(Ei))==null?void 0:nn.groups,i!=null){const l=Number((i==null?void 0:i.pbo_value)??"0"),h={name:u.pbo,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(rn=s[0].match(Ri))==null?void 0:rn.groups,i!=null){const l=Number((i==null?void 0:i.fe_value)??"0"),h={name:u.fe,encodingId:Number(l)};return o(e,h,s[0].length)}if(i=(an=s[0].match(Zi))==null?void 0:an.groups,i!=null){const l=(i==null?void 0:i.fn_value)??"",h={name:u.fn,font:l};return o(e,h,s[0].length)}if(i=(sn=s[0].match(ji))==null?void 0:sn.groups,i!=null){const l=Number((i==null?void 0:i.an_value)??"0"),h={name:u.an,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(on=s[0].match(Mi))==null?void 0:on.groups,i!=null){const l=Number((i==null?void 0:i.be_value)??"0"),h={name:u.be,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(un=s[0].match(Ki))==null?void 0:un.groups,i!=null){const l=Number((i==null?void 0:i.fr_value)??"0"),h={name:u.fr,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(cn=s[0].match(to))==null?void 0:cn.groups,i!=null){const l=Number((i==null?void 0:i.fs_value)??"0"),h={name:u.fs,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(dn=s[0].match(wi))==null?void 0:dn.groups,i!=null){const l=Number((i==null?void 0:i.ko_value)??"0"),h={name:u.ko,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(ln=s[0].match(Si))==null?void 0:ln.groups,i!=null){const l=Number((i==null?void 0:i.kf_value)??"0"),h={name:u.kf,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(fn=s[0].match(mi))==null?void 0:fn.groups,i!=null){const l=Number(z((i==null?void 0:i.color1_bgr_blue)??"0")),h=Number(z((i==null?void 0:i.color1_bgr_green)??"0")),D=Number(z((i==null?void 0:i.color1_bgr_red)??"0")),G={name:u.color1,blue:l,green:h,red:D};return o(e,G,s[0].length)}if(i=(hn=s[0].match(pi))==null?void 0:hn.groups,i!=null){const l=Number(z((i==null?void 0:i.color2_bgr_blue)??"0")),h=Number(z((i==null?void 0:i.color2_bgr_green)??"0")),D=Number(z((i==null?void 0:i.color2_bgr_red)??"0")),G={name:u.color2,blue:l,green:h,red:D};return o(e,G,s[0].length)}if(i=(mn=s[0].match(gi))==null?void 0:mn.groups,i!=null){const l=Number(z((i==null?void 0:i.color3_bgr_blue)??"0")),h=Number(z((i==null?void 0:i.color3_bgr_green)??"0")),D=Number(z((i==null?void 0:i.color3_bgr_red)??"0")),G={name:u.color3,blue:l,green:h,red:D};return o(e,G,s[0].length)}if(i=(pn=s[0].match(yi))==null?void 0:pn.groups,i!=null){const l=Number(z((i==null?void 0:i.color4_bgr_blue)??"0")),h=Number(z((i==null?void 0:i.color4_bgr_green)??"0")),D=Number(z((i==null?void 0:i.color4_bgr_red)??"0")),G={name:u.color4,blue:l,green:h,red:D};return o(e,G,s[0].length)}if(i=(gn=s[0].match(vi))==null?void 0:gn.groups,i!=null){const l=i.alpha1_value??"",h={name:u.alpha1,value:l};return o(e,h,s[0].length)}if(i=(yn=s[0].match(bi))==null?void 0:yn.groups,i!=null){const l=i.alpha2_value??"",h={name:u.alpha2,value:l};return o(e,h,s[0].length)}if(i=(_n=s[0].match(xi))==null?void 0:_n.groups,i!=null){const l=i.alpha3_value??"",h={name:u.alpha3,value:l};return o(e,h,s[0].length)}if(i=(vn=s[0].match(ki))==null?void 0:vn.groups,i!=null){const l=i.alpha4_value??"",h={name:u.alpha4,value:l};return o(e,h,s[0].length)}if(i=(bn=s[0].match(Ni))==null?void 0:bn.groups,i!=null){const l=Number((i==null?void 0:i.k_lower_case_value)??"0"),h={name:u.kLowerCase,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(xn=s[0].match(Ai))==null?void 0:xn.groups,i!=null){const l=Number((i==null?void 0:i.k_upper_case_value)??"0"),h={name:u.kUpperCase,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(kn=s[0].match(Ci))==null?void 0:kn.groups,i!=null){const l=Number((i==null?void 0:i.q_value)??"0"),h={name:u.q,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(Nn=s[0].match(Ti))==null?void 0:Nn.groups,i!=null){const l=Number((i==null?void 0:i.s_value)??"0"),h={name:u.s,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(An=s[0].match($i))==null?void 0:An.groups,i!=null){const l=Number((i==null?void 0:i.u_value)??"0"),h={name:u.u,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(Sn=s[0].match(Oi))==null?void 0:Sn.groups,i!=null){const l=(i==null?void 0:i.r_value)??"",h={name:u.r,style:l};return o(e,h,s[0].length)}if(i=(wn=s[0].match(Ii))==null?void 0:wn.groups,i!=null){const l=Number((i==null?void 0:i.p_value)??"0"),h={name:u.p,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(Cn=s[0].match(eo))==null?void 0:Cn.groups,i!=null){const l=Number((i==null?void 0:i.i_value)??"0"),h={name:u.i,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(Tn=s[0].match(hi))==null?void 0:Tn.groups,i!=null){const l=Number(z((i==null?void 0:i.color_bgr_blue)??"0")),h=Number(z((i==null?void 0:i.color_bgr_green)??"0")),D=Number(z((i==null?void 0:i.color_bgr_red)??"0")),G={name:u.color,blue:l,green:h,red:D};return o(e,G,s[0].length)}if(i=($n=s[0].match(Pi))==null?void 0:$n.groups,i!=null){const l=Number((i==null?void 0:i.b_value)??"0"),h={name:u.b,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}if(i=(On=s[0].match(li))==null?void 0:On.groups,i!=null){const l=Number((i==null?void 0:i.a_value)??"0"),h={name:u.a,value:Number.isNaN(l)?0:l};return o(e,h,s[0].length)}const c=s[0],d={name:u.unknown,value:c};return o(e,d,s[0].length)}function ju(n,e,t,r){var a;if(t.startsWith(u.t)){const s=(a=r[0].match(wa))==null?void 0:a.groups,o=(s==null?void 0:s.tags)??"",i=[];Te(o,i);const c=s!=null&&s.arg1?Number(s.arg1):null,d=s!=null&&s.arg2?Number(s.arg2):null,m=s!=null&&s.arg3?Number(s.arg3):null,M={name:u.t,accel:null,t1:null,t2:null,tags:i};c!==null&&d!==null&&m!==null?(M.t1=c,M.t2=d,M.accel=m):c!==null&&d!==null&&m===null?(M.t1=c,M.t2=d,M.accel=null):c!==null&&(M.accel=c),e.push(M)}return n=n.substring(r[0].length),n.length>0&&Te(n,e),e}function Pu(n){var r,a,s;const e=[],t=n.matchAll(ii);for(const o of t){if((r=o.groups)!=null&&r.fx){const i=o.groups.fx.substring(1,o.groups.fx.length-1),c=[];Te(i,c),e.push({name:"effect",tags:c});continue}if((a=o.groups)!=null&&a.txt){e.push({name:"text",value:(s=o.groups)==null?void 0:s.txt});continue}}return e}function nt(n){let e="";for(const t of n.tags)switch(t.name){case u.t:{const r={tags:t.tags},a=nt(r);t.t1!==null&&t.t2!==null&&t.accel!==null?e+=`\\t(${t.t1},${t.t2},${t.accel},${a})`:t.t1!==null&&t.t2!==null&&t.accel===null?e+=`\\t(${t.t1},${t.t2},${a})`:t.accel!==null?e+=`\\t(${t.accel},${a})`:e+=`\\t(${a})`;break}case u.pos:case u.org:e+=`\\${t.name}(${t.x},${t.y})`;break;case u.move:e+=`\\move(${t.x1},${t.y1},${t.x2},${t.y2}`,t.t1!=null&&t.t2!=null&&(e+=`,${t.t1},${t.t2}`),e+=")";break;case u.clip:case u.iclip:e+=`\\${t.name}(${t.drawCommands})`;break;case u.fad:e+=`\\fad(${t.in},${t.out})`;break;case u.fade:e+=`\\fade(${t.alpha1},${t.alpha2},${t.alpha3},${t.t1},${t.t2},${t.t3},${t.t4})`;break;case u.fe:e+=`\\fe${t.encodingId}`;break;case u.fn:e+=`\\fn${t.font}`;break;case u.r:e+=`\\r${t.style}`;break;case u.color:case u.color1:case u.color2:case u.color3:case u.color4:{const r=me(t.blue),a=me(t.green),s=me(t.red);e+=`\\${t.name}&H${r}${a}${s}&`;break}case u.text:case u.unknown:e+=t.value;break;default:e+=`\\${t.name}${t.value}`;break}return e}function Mu(n){return nt({tags:[n]})}function Qa(n){let e="";for(const t of n){if(t.name=="text"){e+=t.value;continue}e+="{"+nt(t)+"}"}return e}function Lu(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t];if(r.name!="effect")continue;const a=n[t+1];if(a.name!="effect"){t++;continue}if(a==null)break;r.tags.push(...a.tags),e.push(t+1)}for(const t of e)n.splice(t,1)}function Fu(n,e){es(n,t=>{switch(t.name){case u.t:{t.accel!=null&&(t.accel=L(t.accel,e)),t.t1!=null&&(t.t1=L(t.t1,e)),t.t2!=null&&(t.t2=L(t.t2,e));break}case u.pos:case u.org:t.x=L(t.x,e),t.y=L(t.y,e);break;case u.move:t.x1=L(t.x1,e),t.y1=L(t.y1,e),t.x2=L(t.x2,e),t.y2=L(t.y2,e),t.t1!=null&&(t.t1=L(t.t1,e)),t.t2!=null&&(t.t2=L(t.t2,e));break;case u.fad:t.in=L(t.in,e),t.out=L(t.out,e);break;case u.fade:t.t1=L(t.t1,e),t.t2=L(t.t2,e),t.t3=L(t.t3,e),t.t4=L(t.t4,e),t.alpha1=L(t.alpha1,e),t.alpha2=L(t.alpha2,e),t.alpha3=L(t.alpha3,e);break;case u.fe:t.encodingId=Math.floor(t.encodingId);break;case u.color:case u.color1:case u.color2:case u.color3:case u.color4:t.blue=Math.floor(t.blue),t.green=Math.floor(t.green),t.red=Math.floor(t.red);break;case u.clip:case u.iclip:case u.fn:case u.r:case u.text:case u.unknown:break;default:typeof t.value=="number"&&(t.value=L(t.value,e));break}})}function es(n,e){for(const t of n)if(t.name=="effect")for(const r of t.tags)e(r)}function Du(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.a,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function zu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.b,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Vu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.color,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Bu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.color1,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Uu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.color2,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Gu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.color3,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Wu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.color4,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Hu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.alpha,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function qu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.alpha1,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Yu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.alpha2,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Ku(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.alpha3,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Xu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.alpha4,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Ju(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.an,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Qu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.be,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function ec(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.blur,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function tc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.bord,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function nc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.xbord,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function rc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.ybord,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function ac(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.shad,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function sc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.xshad,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function ic(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.yshad,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function oc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fr,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function uc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.frx,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function cc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fry,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function dc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.frz,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function lc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fax,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function fc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fay,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function hc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.p,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function mc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.pbo,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function pc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.q,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function gc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.s,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function yc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.u,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function _c(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.r,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function vc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fe,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function bc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fn,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function xc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fscx,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function kc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fscy,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Nc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fsp,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Ac(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.kLowerCase,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Sc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.kUpperCase,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function wc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.ko,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Cc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.kf,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Tc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.i,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function $c(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fs,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Oc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.pos,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Rc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.org,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Zc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fad,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Ic(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fade,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Ec(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.clip,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function jc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.iclip,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Pc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.move,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Mc(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.t,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Lc(n,e){const t={name:u.a,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function Fc(n,e){const t={name:u.an,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function Dc(n,e){const t={name:u.b,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function zc(n,e,t,r){const a={name:u.color,blue:e,green:t,red:r},[s,o]=S(n,a.name,a);return s||(o.blue=e,o.green=t,o.red=r),o}function Vc(n,e,t,r){const a={name:u.color1,blue:e,green:t,red:r},[s,o]=S(n,a.name,a);return s||(o.blue=e,o.green=t,o.red=r),o}function Bc(n,e,t,r){const a={name:u.color2,blue:e,green:t,red:r},[s,o]=S(n,a.name,a);return s||(o.blue=e,o.green=t,o.red=r),o}function Uc(n,e,t,r){const a={name:u.color3,blue:e,green:t,red:r},[s,o]=S(n,a.name,a);return s||(o.blue=e,o.green=t,o.red=r),o}function Gc(n,e,t,r){const a={name:u.color4,blue:e,green:t,red:r},[s,o]=S(n,a.name,a);return s||(o.blue=e,o.green=t,o.red=r),o}function Wc(n,e){const t={name:u.alpha,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function Hc(n,e){const t={name:u.alpha1,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function qc(n,e){const t={name:u.alpha2,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function Yc(n,e){const t={name:u.alpha3,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function Kc(n,e){const t={name:u.alpha4,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function Xc(n,e){const t={name:u.blur,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function Jc(n,e){const t={name:u.bord,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function Qc(n,e){const t={name:u.xbord,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function ed(n,e){const t={name:u.ybord,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function td(n,e){const t={name:u.fax,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function nd(n,e){const t={name:u.fay,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function rd(n,e){const t={name:u.fscx,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function ad(n,e){const t={name:u.fscy,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function sd(n,e){const t={name:u.fsp,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function id(n,e){const t={name:u.fe,encodingId:e},[r,a]=S(n,t.name,t);return r||(a.encodingId=e),a}function od(n,e){const t={name:u.fn,font:e},[r,a]=S(n,t.name,t);return r||(a.font=e),a}function ud(n,e){const t={name:u.kLowerCase,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function cd(n,e){const t={name:u.kUpperCase,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function dd(n,e){const t={name:u.kf,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function ld(n,e){const t={name:u.ko,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function fd(n,e){const t={name:u.p,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function hd(n,e){const t={name:u.pbo,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function md(n,e){const t={name:u.q,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function pd(n,e){const t={name:u.s,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function gd(n,e){const t={name:u.shad,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function yd(n,e){const t={name:u.xshad,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function _d(n,e){const t={name:u.yshad,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function vd(n,e){const t={name:u.u,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function bd(n,e){const t={name:u.be,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function xd(n,e){const t={name:u.fs,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function kd(n,e){const t={name:u.fr,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function Nd(n,e){const t={name:u.frx,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function Ad(n,e){const t={name:u.fry,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function Sd(n,e){const t={name:u.frz,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function wd(n,e){const t={name:u.i,value:e},[r,a]=S(n,t.name,t);return r||(a.value=e),a}function Cd(n,e){const t={name:u.r,style:e},[r,a]=S(n,t.name,t);return r||(a.style=e),a}function Td(n,e,t){const r={name:u.pos,x:e,y:t},[a,s]=S(n,r.name,r);return a||(s.x=e,s.y=t),s}function $d(n,e,t){const r={name:u.org,x:e,y:t},[a,s]=S(n,r.name,r);return a||(s.x=e,s.y=t),s}function Od(n,e,t){const r={name:u.fad,in:e,out:t},[a,s]=S(n,r.name,r);return a||(s.in=e,s.out=t),s}function Rd(n,e,t,r,a,s,o,i){const c={name:u.fade,alpha1:e,alpha2:t,alpha3:r,t1:a,t2:s,t3:o,t4:i},[d,m]=S(n,c.name,c);return d||(m.alpha1=e,m.alpha2=t,m.alpha3=r,m.t1=a,m.t2=s,m.t3=o,m.t4=i),m}function Zd(n,e){const t={name:u.clip,drawCommands:e},[r,a]=S(n,t.name,t);return r||(a.drawCommands=e),a}function Id(n,e){const t={name:u.iclip,drawCommands:e},[r,a]=S(n,t.name,t);return r||(a.drawCommands=e),a}function Ed(n,e,t,r,a,s=null,o=null){const i={name:u.move,x1:e,y1:t,x2:r,y2:a,t1:s,t2:o},[c,d]=S(n,i.name,i);return c||(d.x1=e,d.y1=t,d.x2=r,d.y2=a,d.t1=s,d.t2=o),d}function jd(n,e,t=null,r=null,a=null){const s={name:u.t,t1:r,t2:a,accel:t,tags:e},[o,i]=S(n,s.name,s);return o||(i.t1=r,i.t2=a,i.accel=t,i.tags=e),i}function Pd(n){return[{name:"effect",tags:n}]}function Md(n){const e=n.find(t=>t.name==="effect");return e==null||e.name!="effect"?[]:e.tags}function S(n,e,t){const r=n.find(s=>s.name=="effect");if((r==null?void 0:r.name)!="effect")return n.unshift({name:"effect",tags:[t]}),[!0,t];const a=r.tags.find(s=>s.name==e);return(a==null?void 0:a.name)!=e?(r.tags.push(t),[!0,t]):[!1,a]}function Ld(n,e){const t=n.find(a=>a.name=="effect");if((t==null?void 0:t.name)!="effect")return;const r=t.tags.findIndex(a=>a.name===e);r<0||t.tags.splice(r,1)}const ts="Dialogue",$t="Comment";function ns(n){const e=n.match(ci);if(e==null)return null;const t=e.groups,r=xt((t==null?void 0:t.start)??"");if(r==null)return null;const a=xt((t==null?void 0:t.end)??"");return a==null?null:{type:(t==null?void 0:t.type)===$t?$t:ts,layer:Number((t==null?void 0:t.layer)??"0"),start:r,end:a,style:(t==null?void 0:t.style)??"",actor:(t==null?void 0:t.actor)??"",marginLeft:Number((t==null?void 0:t.marginLeft)??"0"),marginRight:Number((t==null?void 0:t.marginRight)??"0"),marginVertical:Number((t==null?void 0:t.marginVertical)??"0"),effect:(t==null?void 0:t.effect)??"",content:(t==null?void 0:t.content)??""}}function rs(n){let e=n.type;return e+=": ",e+=Math.floor(n.layer),e+=",",e+=kt(n.start),e+=",",e+=kt(n.end),e+=",",e+=n.style,e+=",",e+=n.actor,e+=",",e+=Math.floor(n.marginLeft),e+=",",e+=Math.floor(n.marginRight),e+=",",e+=Math.floor(n.marginVertical),e+=",",e+=n.effect,e+=",",e+=n.content,e}function as(n){return ge(n.end)-ge(n.start)}function ss(n){const e=n.match(fi);if(e==null)return null;const t=e.groups;return{blue:z((t==null?void 0:t.color_bgr_blue)??""),green:z((t==null?void 0:t.color_bgr_green)??""),red:z((t==null?void 0:t.color_bgr_red)??"")}}function is(){return{type:"Dialogue",layer:0,start:{hours:0,minutes:0,seconds:0},end:{hours:0,minutes:0,seconds:5},style:"Default",actor:"",marginLeft:0,marginRight:0,marginVertical:0,effect:"",content:""}}const Tl=Object.freeze(Object.defineProperty({__proto__:null,ASSFileToString:Nu,Alignment:Za,Alignments:It,AttachedFontToString:La,AttachedGraphicToString:Da,Encoding:Ia,Encodings:Et,LINE_TYPE_COMMENT:$t,LINE_TYPE_DIALOGUE:ts,ProjectGarbagePropertyActiveLine:eu,ProjectGarbagePropertyAudioFile:Wo,ProjectGarbagePropertyAutomationScripts:Vo,ProjectGarbagePropertyExportEncoding:Uo,ProjectGarbagePropertyExportFilters:Bo,ProjectGarbagePropertyKeyframesFile:Yo,ProjectGarbagePropertyLastStyleStorage:Go,ProjectGarbagePropertyScrollPosition:Qo,ProjectGarbagePropertyTimecodesFile:qo,ProjectGarbagePropertyVideoARMode:Ko,ProjectGarbagePropertyVideoARValue:Xo,ProjectGarbagePropertyVideoFile:Ho,ProjectGarbagePropertyVideoPosition:tu,ProjectGarbagePropertyVideoZoomPercent:Jo,ScriptInfoPropertyOriginalEditing:lu,ScriptInfoPropertyOriginalScript:cu,ScriptInfoPropertyOriginalTiming:fu,ScriptInfoPropertyOriginalTranslation:du,ScriptInfoPropertyPlayResX:su,ScriptInfoPropertyPlayResY:iu,ScriptInfoPropertyScaledBorderAndShadow:ou,ScriptInfoPropertyScriptType:ru,ScriptInfoPropertyScriptUpdatedBy:mu,ScriptInfoPropertySynchPoint:hu,ScriptInfoPropertyTitle:nu,ScriptInfoPropertyUpdateDetails:pu,ScriptInfoPropertyWrapStyle:au,ScriptInfoPropertyYCbCrMatrix:uu,TagName:u,adjustTimeOverplus:et,calculateLineDurationInSeconds:as,contentEffectToString:nt,contentsToString:Qa,findA:Du,findAlpha:Hu,findAlpha1:qu,findAlpha2:Yu,findAlpha3:Ku,findAlpha4:Xu,findAn:Ju,findB:zu,findBe:Qu,findBlur:ec,findBord:tc,findClip:Ec,findColor:Vu,findColor1:Bu,findColor2:Uu,findColor3:Gu,findColor4:Wu,findFad:Zc,findFade:Ic,findFax:lc,findFay:fc,findFe:vc,findFn:bc,findFr:oc,findFrx:uc,findFry:cc,findFrz:dc,findFs:$c,findFscx:xc,findFscy:kc,findFsp:Nc,findI:Tc,findIclip:jc,findKLowerCase:Ac,findKUpperCase:Sc,findKf:Cc,findKo:wc,findMove:Pc,findOrg:Rc,findP:hc,findPbo:mc,findPos:Oc,findQ:pc,findR:_c,findS:gc,findShad:ac,findT:Mc,findU:yc,findXbord:nc,findXshad:sc,findYbord:rc,findYshad:ic,forEachTag:es,generateDefaultASSFile:Su,generateDefaultLine:is,generateDefaultSectionEvents:ja,generateDefaultSectionScriptInfo:Ua,generateDefaultSectionStyles:qa,generateDefaultStyle:Ka,hexToNumber:z,interpolate:Js,isRomajiWord:Ja,itemsToTags:Md,lineToString:rs,mergeColorWithAlpha:je,mergeNeighboringEffects:Lu,newProjectGarbage:Lt,newScriptInfo:Ba,newSectionEvents:Ea,newSectionExtraData:jt,newSectionFonts:Pt,newSectionGraphics:Mt,newSectionStyles:Ha,numberToHex:me,parseASSFile:Au,parseColorBGR:ss,parseContent:Pu,parseLine:ns,parseStyle:Xa,parseTags:Te,parseTime:xt,removeTag:Ld,secondsToTime:Rt,sectionEventsToString:Pa,sectionExtraDataToString:Ma,sectionFontsToString:Fa,sectionGraphicsToString:za,sectionProjectGarbageToString:Va,sectionScriptInfoToString:Ga,sectionStylesToString:Ya,setA:Lc,setAlpha:Wc,setAlpha1:Hc,setAlpha2:qc,setAlpha3:Yc,setAlpha4:Kc,setAn:Fc,setB:Dc,setBe:bd,setBlur:Xc,setBord:Jc,setClip:Zd,setColor:zc,setColor1:Vc,setColor2:Bc,setColor3:Uc,setColor4:Gc,setFad:Od,setFade:Rd,setFax:td,setFay:nd,setFe:id,setFn:od,setFr:kd,setFrx:Nd,setFry:Ad,setFrz:Sd,setFs:xd,setFscx:rd,setFscy:ad,setFsp:sd,setI:wd,setIclip:Id,setKLowerCase:ud,setKUpperCase:cd,setKf:dd,setKo:ld,setMove:Ed,setOrg:$d,setP:fd,setPbo:hd,setPos:Td,setQ:md,setR:Cd,setS:pd,setShad:gd,setT:jd,setU:vd,setXbord:Qc,setXshad:yd,setYbord:ed,setYshad:_d,splitSyllabes:Eu,styleToString:Wa,subtractTimes:po,sumTimes:mo,tagToString:Mu,tagsToItems:Pd,timeToSeconds:ge,timeToString:kt,truncate:L,truncateNumberTags:Fu},Symbol.toStringTag,{value:"Module"}));export{Vd as $,Hc as A,bt as B,qc as C,Yc as D,Kc as E,ss as F,zc as G,Vc as H,Bc as I,Uc as J,Gc as K,Td as L,Eu as M,Lu as N,ge as O,Rt as P,xl as Q,Xs as R,ze as S,u as T,vl as U,$t as V,is as W,bl as X,Gd as Y,Nu as Z,Su as _,Wd as a,Au as a0,Wa as a1,kt as a2,Hd as a3,Zn as b,kl as c,Tl as d,Nl as e,ps as f,wl as g,Pu as h,Pc as i,Mu as j,Oc as k,Ed as l,Qa as m,rs as n,Ud as o,ns as p,zd as q,Ld as r,Bd as s,Cl as t,Sl as u,Al as v,me as w,Js as x,z as y,Wc as z};
