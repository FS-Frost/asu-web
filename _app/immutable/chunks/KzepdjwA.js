import{m,n as h,o as N,E as x,r as F,H as R,q,t as C,v as y,w as D,x as A,y as L,U as B,z as H,A as O,B as U,C as Y,F as w,G as z,I as G,u as M,S as P}from"./B5vjimkt.js";function j(e,f,l=!1){h&&N();var i=e,r=null,a=null,s=B,S=l?x:0,d=!1;const b=(c,t=!0)=>{d=!0,v(t,c)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var c=s?r:a,t=s?a:r;c&&O(c),t&&U(t,()=>{s?a=null:r=null})}const v=(c,t)=>{if(s===(s=c))return;let T=!1;if(h){const g=F(i)===R;!!s===g&&(i=q(),C(i),y(!1),T=!0)}var p=H(),u=i;if(p&&(n=document.createDocumentFragment(),n.append(u=D())),s?r??(r=t&&A(()=>t(u))):a??(a=t&&A(()=>t(u))),p){var _=L,E=s?r:a,k=s?a:r;E&&_.skipped_effects.delete(E),k&&_.skipped_effects.add(k),_.add_callback(o)}else o();T&&y(!0)};m(()=>{d=!1,f(b),d||v(null,null)},S),h&&(i=Y)}function I(e,f){return e===f||(e==null?void 0:e[P])===f}function J(e={},f,l,i){return w(()=>{var r,a;return z(()=>{r=a,a=[],M(()=>{e!==l(...a)&&(f(e,...a),r&&I(l(...r),e)&&f(null,...r))})}),()=>{G(()=>{a&&I(l(...a),e)&&f(null,...a)})}}),e}export{J as b,j as i};
