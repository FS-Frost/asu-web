import{Q as be,ag as Xr,ap as Jr,as as Qr,M as ea,at as ta,au as na}from"./CCHRc5u3.js";import{w as ln}from"./BG5GRsxf.js";function Zc(n){be&&Xr(n)!==null&&Jr(n)}let tn=!1;function ra(){tn||(tn=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(const t of n.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function jc(n){if(be){var e=!1,t=()=>{if(!e){if(e=!0,n.hasAttribute("value")){var r=n.value;nn(n,"value",null),n.value=r}if(n.hasAttribute("checked")){var a=n.checked;nn(n,"checked",null),n.checked=a}}};n.__on_r=t,na(t),ra()}}function Mc(n,e){var t=n.__attributes??(n.__attributes={});t.value===(t.value=e??void 0)||n.value===e&&(e!==0||n.nodeName!=="PROGRESS")||(n.value=e??"")}function nn(n,e,t,r){var a=n.__attributes??(n.__attributes={});be&&(a[e]=n.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&n.nodeName==="LINK")||a[e]!==(a[e]=t)&&(e==="style"&&"__styles"in n&&(n.__styles={}),e==="loading"&&(n[Qr]=t),t==null?n.removeAttribute(e):typeof t!="string"&&aa(n).includes(e)?n[e]=t:n.setAttribute(e,t))}var rn=new Map;function aa(n){var e=rn.get(n.nodeName);if(e)return e;rn.set(n.nodeName,e=[]);for(var t,r=n,a=Element.prototype;a!==r;){t=ta(r);for(var o in t)t[o].set&&e.push(o);r=ea(r)}return e}function Fc(n,e,t){var r=n.__className,a=sa(e);be&&n.className===a?n.__className=a:(r!==a||be&&n.className!==a)&&(e==null?n.removeAttribute("class"):n.className=a,n.__className=a)}function sa(n,e){return(n??"")+""}const oa=["inicio","acercaDe","carteles.copiarMovimiento","carteles.aplicarSecuenciaPosiciones","carteles.aplicarAlpha","carteles.aplicarColor","dialogos.validarDialogos","karaokes.dividirKaraoke","karaokes.dividirSilabas"],ia=oa.map(n=>n.toString()),ua="inicio",Lc=ln(ua);function Dc(n){return ia.includes(n)}var w;(function(n){n.assertEqual=a=>a;function e(a){}n.assertIs=e;function t(a){throw new Error}n.assertNever=t,n.arrayToEnum=a=>{const o={};for(const i of a)o[i]=i;return o},n.getValidEnumValues=a=>{const o=n.objectKeys(a).filter(s=>typeof a[a[s]]!="number"),i={};for(const s of o)i[s]=a[s];return n.objectValues(i)},n.objectValues=a=>n.objectKeys(a).map(function(o){return a[o]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&o.push(i);return o},n.find=(a,o)=>{for(const i of a)if(o(i))return i},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,o=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}n.joinValues=r,n.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(w||(w={}));var Qe;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Qe||(Qe={}));const v=w.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),J=n=>{switch(typeof n){case"undefined":return v.undefined;case"string":return v.string;case"number":return isNaN(n)?v.nan:v.number;case"boolean":return v.boolean;case"function":return v.function;case"bigint":return v.bigint;case"symbol":return v.symbol;case"object":return Array.isArray(n)?v.array:n===null?v.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?v.promise:typeof Map<"u"&&n instanceof Map?v.map:typeof Set<"u"&&n instanceof Set?v.set:typeof Date<"u"&&n instanceof Date?v.date:v.object;default:return v.unknown}},m=w.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ca=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:");class L extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},r={_errors:[]},a=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)r._errors.push(t(i));else{let s=r,f=0;for(;f<i.path.length;){const l=i.path[f];f===i.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(t(i))):s[l]=s[l]||{_errors:[]},s=s[l],f++}}};return a(this),r}static assert(e){if(!(e instanceof L))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,w.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}L.create=n=>new L(n);const me=(n,e)=>{let t;switch(n.code){case m.invalid_type:n.received===v.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case m.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,w.jsonStringifyReplacer)}`;break;case m.unrecognized_keys:t=`Unrecognized key(s) in object: ${w.joinValues(n.keys,", ")}`;break;case m.invalid_union:t="Invalid input";break;case m.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${w.joinValues(n.options)}`;break;case m.invalid_enum_value:t=`Invalid enum value. Expected ${w.joinValues(n.options)}, received '${n.received}'`;break;case m.invalid_arguments:t="Invalid function arguments";break;case m.invalid_return_type:t="Invalid function return type";break;case m.invalid_date:t="Invalid date";break;case m.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:w.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case m.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case m.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case m.custom:t="Invalid input";break;case m.invalid_intersection_types:t="Intersection results could not be merged";break;case m.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case m.not_finite:t="Number must be finite";break;default:t=e.defaultError,w.assertNever(n)}return{message:t}};let dn=me;function la(n){dn=n}function Fe(){return dn}const Le=n=>{const{data:e,path:t,errorMaps:r,issueData:a}=n,o=[...t,...a.path||[]],i={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let s="";const f=r.filter(l=>!!l).slice().reverse();for(const l of f)s=l(i,{data:e,defaultError:s}).message;return{...a,path:o,message:s}},da=[];function g(n,e){const t=Fe(),r=Le({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===me?void 0:me].filter(a=>!!a)});n.common.issues.push(r)}class P{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const a of t){if(a.status==="aborted")return N;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const a of t){const o=await a.key,i=await a.value;r.push({key:o,value:i})}return P.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const a of t){const{key:o,value:i}=a;if(o.status==="aborted"||i.status==="aborted")return N;o.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(r[o.value]=i.value)}return{status:e.value,value:r}}}const N=Object.freeze({status:"aborted"}),fe=n=>({status:"dirty",value:n}),j=n=>({status:"valid",value:n}),et=n=>n.status==="aborted",tt=n=>n.status==="dirty",ie=n=>n.status==="valid",xe=n=>typeof Promise<"u"&&n instanceof Promise;function De(n,e,t,r){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(n)}function fn(n,e,t,r,a){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var y;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(y||(y={}));var ye,_e;class W{constructor(e,t,r,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const an=(n,e)=>{if(ie(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new L(n.common.issues);return this._error=t,this._error}}};function S(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:a}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(i,s)=>{var f,l;const{message:h}=n;return i.code==="invalid_enum_value"?{message:h??s.defaultError}:typeof s.data>"u"?{message:(f=h??r)!==null&&f!==void 0?f:s.defaultError}:i.code!=="invalid_type"?{message:s.defaultError}:{message:(l=h??t)!==null&&l!==void 0?l:s.defaultError}},description:a}}class T{get description(){return this._def.description}_getType(e){return J(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:J(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new P,ctx:{common:e.parent.common,data:e.data,parsedType:J(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(xe(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const a={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:J(e)},o=this._parseSync({data:e,path:a.path,parent:a});return an(a,o)}"~validate"(e){var t,r;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:J(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:a});return ie(o)?{value:o.value}:{issues:a.common.issues}}catch(o){!((r=(t=o==null?void 0:o.message)===null||t===void 0?void 0:t.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(o=>ie(o)?{value:o.value}:{issues:a.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:J(e)},a=this._parse({data:e,path:r.path,parent:r}),o=await(xe(a)?a:Promise.resolve(a));return an(r,o)}refine(e,t){const r=a=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(a):t;return this._refinement((a,o)=>{const i=e(a),s=()=>o.addIssue({code:m.custom,...r(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(f=>f?!0:(s(),!1)):i?!0:(s(),!1)})}refinement(e,t){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof t=="function"?t(r,a):t),!1))}_refinement(e){return new G({schema:this,typeName:k.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return H.create(this,this._def)}nullable(){return re.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return V.create(this)}promise(){return ge.create(this,this._def)}or(e){return Se.create([this,e],this._def)}and(e){return Te.create(this,e,this._def)}transform(e){return new G({...S(this._def),schema:this,typeName:k.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Ie({...S(this._def),innerType:this,defaultValue:t,typeName:k.ZodDefault})}brand(){return new it({typeName:k.ZodBranded,type:this,...S(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Re({...S(this._def),innerType:this,catchValue:t,typeName:k.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return je.create(this,e)}readonly(){return Oe.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fa=/^c[^\s-]{8,}$/i,pa=/^[0-9a-z]+$/,ma=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ha=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ga=/^[a-z0-9_-]{21}$/i,va=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ya=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_a=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ba="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Je;const xa=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ka=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Na=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Aa=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Sa=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ta=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,pn="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wa=new RegExp(`^${pn}$`);function mn(n){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ca(n){return new RegExp(`^${mn(n)}$`)}function hn(n){let e=`${pn}T${mn(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function $a(n,e){return!!((e==="v4"||!e)&&xa.test(n)||(e==="v6"||!e)&&Na.test(n))}function Ea(n,e){if(!va.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function Ia(n,e){return!!((e==="v4"||!e)&&ka.test(n)||(e==="v6"||!e)&&Aa.test(n))}class B extends T{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==v.string){const o=this._getOrReturnCtx(e);return g(o,{code:m.invalid_type,expected:v.string,received:o.parsedType}),N}const r=new P;let a;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(a=this._getOrReturnCtx(e,a),g(a,{code:m.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(a=this._getOrReturnCtx(e,a),g(a,{code:m.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const i=e.data.length>o.value,s=e.data.length<o.value;(i||s)&&(a=this._getOrReturnCtx(e,a),i?g(a,{code:m.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):s&&g(a,{code:m.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")_a.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"email",code:m.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Je||(Je=new RegExp(ba,"u")),Je.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"emoji",code:m.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")ha.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"uuid",code:m.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")ga.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"nanoid",code:m.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")fa.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"cuid",code:m.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")pa.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"cuid2",code:m.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")ma.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"ulid",code:m.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),g(a,{validation:"url",code:m.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"regex",code:m.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(e,a),g(a,{code:m.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(a=this._getOrReturnCtx(e,a),g(a,{code:m.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(a=this._getOrReturnCtx(e,a),g(a,{code:m.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?hn(o).test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{code:m.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?wa.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{code:m.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Ca(o).test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{code:m.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?ya.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"duration",code:m.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?$a(e.data,o.version)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"ip",code:m.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?Ea(e.data,o.alg)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"jwt",code:m.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?Ia(e.data,o.version)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"cidr",code:m.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Sa.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"base64",code:m.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Ta.test(e.data)||(a=this._getOrReturnCtx(e,a),g(a,{validation:"base64url",code:m.invalid_string,message:o.message}),r.dirty()):w.assertNever(o);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(a=>e.test(a),{validation:t,code:m.invalid_string,...y.errToObj(r)})}_addCheck(e){return new B({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...y.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...y.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...y.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...y.errToObj(e)})}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...y.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...y.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...y.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...y.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...y.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...y.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...y.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...y.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...y.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...y.errToObj(t)})}nonempty(e){return this.min(1,y.errToObj(e))}trim(){return new B({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new B({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new B({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}B.create=n=>{var e;return new B({checks:[],typeName:k.ZodString,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...S(n)})};function Ra(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=t>r?t:r,o=parseInt(n.toFixed(a).replace(".","")),i=parseInt(e.toFixed(a).replace(".",""));return o%i/Math.pow(10,a)}class ee extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==v.number){const o=this._getOrReturnCtx(e);return g(o,{code:m.invalid_type,expected:v.number,received:o.parsedType}),N}let r;const a=new P;for(const o of this._def.checks)o.kind==="int"?w.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),g(r,{code:m.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:m.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:m.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?Ra(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),g(r,{code:m.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),g(r,{code:m.not_finite,message:o.message}),a.dirty()):w.assertNever(o);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,y.toString(t))}setLimit(e,t,r,a){return new ee({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:y.toString(a)}]})}_addCheck(e){return new ee({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:y.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&w.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ee.create=n=>new ee({checks:[],typeName:k.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...S(n)});class te extends T{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==v.bigint)return this._getInvalidInput(e);let r;const a=new P;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:m.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:m.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),g(r,{code:m.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):w.assertNever(o);return{status:a.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:v.bigint,received:t.parsedType}),N}gte(e,t){return this.setLimit("min",e,!0,y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,y.toString(t))}setLimit(e,t,r,a){return new te({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:y.toString(a)}]})}_addCheck(e){return new te({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}te.create=n=>{var e;return new te({checks:[],typeName:k.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!==null&&e!==void 0?e:!1,...S(n)})};class ke extends T{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==v.boolean){const r=this._getOrReturnCtx(e);return g(r,{code:m.invalid_type,expected:v.boolean,received:r.parsedType}),N}return j(e.data)}}ke.create=n=>new ke({typeName:k.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...S(n)});class ue extends T{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==v.date){const o=this._getOrReturnCtx(e);return g(o,{code:m.invalid_type,expected:v.date,received:o.parsedType}),N}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return g(o,{code:m.invalid_date}),N}const r=new P;let a;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(a=this._getOrReturnCtx(e,a),g(a,{code:m.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(a=this._getOrReturnCtx(e,a),g(a,{code:m.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):w.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ue({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:y.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:y.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ue.create=n=>new ue({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:k.ZodDate,...S(n)});class ze extends T{_parse(e){if(this._getType(e)!==v.symbol){const r=this._getOrReturnCtx(e);return g(r,{code:m.invalid_type,expected:v.symbol,received:r.parsedType}),N}return j(e.data)}}ze.create=n=>new ze({typeName:k.ZodSymbol,...S(n)});class Ne extends T{_parse(e){if(this._getType(e)!==v.undefined){const r=this._getOrReturnCtx(e);return g(r,{code:m.invalid_type,expected:v.undefined,received:r.parsedType}),N}return j(e.data)}}Ne.create=n=>new Ne({typeName:k.ZodUndefined,...S(n)});class Ae extends T{_parse(e){if(this._getType(e)!==v.null){const r=this._getOrReturnCtx(e);return g(r,{code:m.invalid_type,expected:v.null,received:r.parsedType}),N}return j(e.data)}}Ae.create=n=>new Ae({typeName:k.ZodNull,...S(n)});class he extends T{constructor(){super(...arguments),this._any=!0}_parse(e){return j(e.data)}}he.create=n=>new he({typeName:k.ZodAny,...S(n)});class oe extends T{constructor(){super(...arguments),this._unknown=!0}_parse(e){return j(e.data)}}oe.create=n=>new oe({typeName:k.ZodUnknown,...S(n)});class Q extends T{_parse(e){const t=this._getOrReturnCtx(e);return g(t,{code:m.invalid_type,expected:v.never,received:t.parsedType}),N}}Q.create=n=>new Q({typeName:k.ZodNever,...S(n)});class Be extends T{_parse(e){if(this._getType(e)!==v.undefined){const r=this._getOrReturnCtx(e);return g(r,{code:m.invalid_type,expected:v.void,received:r.parsedType}),N}return j(e.data)}}Be.create=n=>new Be({typeName:k.ZodVoid,...S(n)});class V extends T{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==v.array)return g(t,{code:m.invalid_type,expected:v.array,received:t.parsedType}),N;if(a.exactLength!==null){const i=t.data.length>a.exactLength.value,s=t.data.length<a.exactLength.value;(i||s)&&(g(t,{code:i?m.too_big:m.too_small,minimum:s?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&t.data.length<a.minLength.value&&(g(t,{code:m.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&t.data.length>a.maxLength.value&&(g(t,{code:m.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((i,s)=>a.type._parseAsync(new W(t,i,t.path,s)))).then(i=>P.mergeArray(r,i));const o=[...t.data].map((i,s)=>a.type._parseSync(new W(t,i,t.path,s)));return P.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new V({...this._def,minLength:{value:e,message:y.toString(t)}})}max(e,t){return new V({...this._def,maxLength:{value:e,message:y.toString(t)}})}length(e,t){return new V({...this._def,exactLength:{value:e,message:y.toString(t)}})}nonempty(e){return this.min(1,e)}}V.create=(n,e)=>new V({type:n,minLength:null,maxLength:null,exactLength:null,typeName:k.ZodArray,...S(e)});function de(n){if(n instanceof $){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=H.create(de(r))}return new $({...n._def,shape:()=>e})}else return n instanceof V?new V({...n._def,type:de(n.element)}):n instanceof H?H.create(de(n.unwrap())):n instanceof re?re.create(de(n.unwrap())):n instanceof K?K.create(n.items.map(e=>de(e))):n}class $ extends T{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=w.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==v.object){const l=this._getOrReturnCtx(e);return g(l,{code:m.invalid_type,expected:v.object,received:l.parsedType}),N}const{status:r,ctx:a}=this._processInputParams(e),{shape:o,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof Q&&this._def.unknownKeys==="strip"))for(const l in a.data)i.includes(l)||s.push(l);const f=[];for(const l of i){const h=o[l],C=a.data[l];f.push({key:{status:"valid",value:l},value:h._parse(new W(a,C,a.path,l)),alwaysSet:l in a.data})}if(this._def.catchall instanceof Q){const l=this._def.unknownKeys;if(l==="passthrough")for(const h of s)f.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(l==="strict")s.length>0&&(g(a,{code:m.unrecognized_keys,keys:s}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const h of s){const C=a.data[h];f.push({key:{status:"valid",value:h},value:l._parse(new W(a,C,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const l=[];for(const h of f){const C=await h.key,z=await h.value;l.push({key:C,value:z,alwaysSet:h.alwaysSet})}return l}).then(l=>P.mergeObjectSync(r,l)):P.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return y.errToObj,new $({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var a,o,i,s;const f=(i=(o=(a=this._def).errorMap)===null||o===void 0?void 0:o.call(a,t,r).message)!==null&&i!==void 0?i:r.defaultError;return t.code==="unrecognized_keys"?{message:(s=y.errToObj(e).message)!==null&&s!==void 0?s:f}:{message:f}}}:{}})}strip(){return new $({...this._def,unknownKeys:"strip"})}passthrough(){return new $({...this._def,unknownKeys:"passthrough"})}extend(e){return new $({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:k.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new $({...this._def,catchall:e})}pick(e){const t={};return w.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new $({...this._def,shape:()=>t})}omit(e){const t={};return w.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new $({...this._def,shape:()=>t})}deepPartial(){return de(this)}partial(e){const t={};return w.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}),new $({...this._def,shape:()=>t})}required(e){const t={};return w.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof H;)o=o._def.innerType;t[r]=o}}),new $({...this._def,shape:()=>t})}keyof(){return gn(w.objectKeys(this.shape))}}$.create=(n,e)=>new $({shape:()=>n,unknownKeys:"strip",catchall:Q.create(),typeName:k.ZodObject,...S(e)});$.strictCreate=(n,e)=>new $({shape:()=>n,unknownKeys:"strict",catchall:Q.create(),typeName:k.ZodObject,...S(e)});$.lazycreate=(n,e)=>new $({shape:n,unknownKeys:"strip",catchall:Q.create(),typeName:k.ZodObject,...S(e)});class Se extends T{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function a(o){for(const s of o)if(s.result.status==="valid")return s.result;for(const s of o)if(s.result.status==="dirty")return t.common.issues.push(...s.ctx.common.issues),s.result;const i=o.map(s=>new L(s.ctx.common.issues));return g(t,{code:m.invalid_union,unionErrors:i}),N}if(t.common.async)return Promise.all(r.map(async o=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(a);{let o;const i=[];for(const f of r){const l={...t,common:{...t.common,issues:[]},parent:null},h=f._parseSync({data:t.data,path:t.path,parent:l});if(h.status==="valid")return h;h.status==="dirty"&&!o&&(o={result:h,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const s=i.map(f=>new L(f));return g(t,{code:m.invalid_union,unionErrors:s}),N}}get options(){return this._def.options}}Se.create=(n,e)=>new Se({options:n,typeName:k.ZodUnion,...S(e)});const X=n=>n instanceof Ce?X(n.schema):n instanceof G?X(n.innerType()):n instanceof $e?[n.value]:n instanceof ne?n.options:n instanceof Ee?w.objectValues(n.enum):n instanceof Ie?X(n._def.innerType):n instanceof Ne?[void 0]:n instanceof Ae?[null]:n instanceof H?[void 0,...X(n.unwrap())]:n instanceof re?[null,...X(n.unwrap())]:n instanceof it||n instanceof Oe?X(n.unwrap()):n instanceof Re?X(n._def.innerType):[];class He extends T{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==v.object)return g(t,{code:m.invalid_type,expected:v.object,received:t.parsedType}),N;const r=this.discriminator,a=t.data[r],o=this.optionsMap.get(a);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(g(t,{code:m.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),N)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const a=new Map;for(const o of t){const i=X(o.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const s of i){if(a.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);a.set(s,o)}}return new He({typeName:k.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...S(r)})}}function nt(n,e){const t=J(n),r=J(e);if(n===e)return{valid:!0,data:n};if(t===v.object&&r===v.object){const a=w.objectKeys(e),o=w.objectKeys(n).filter(s=>a.indexOf(s)!==-1),i={...n,...e};for(const s of o){const f=nt(n[s],e[s]);if(!f.valid)return{valid:!1};i[s]=f.data}return{valid:!0,data:i}}else if(t===v.array&&r===v.array){if(n.length!==e.length)return{valid:!1};const a=[];for(let o=0;o<n.length;o++){const i=n[o],s=e[o],f=nt(i,s);if(!f.valid)return{valid:!1};a.push(f.data)}return{valid:!0,data:a}}else return t===v.date&&r===v.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Te extends T{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=(o,i)=>{if(et(o)||et(i))return N;const s=nt(o.value,i.value);return s.valid?((tt(o)||tt(i))&&t.dirty(),{status:t.value,value:s.data}):(g(r,{code:m.invalid_intersection_types}),N)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,i])=>a(o,i)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Te.create=(n,e,t)=>new Te({left:n,right:e,typeName:k.ZodIntersection,...S(t)});class K extends T{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.array)return g(r,{code:m.invalid_type,expected:v.array,received:r.parsedType}),N;if(r.data.length<this._def.items.length)return g(r,{code:m.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),N;!this._def.rest&&r.data.length>this._def.items.length&&(g(r,{code:m.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...r.data].map((i,s)=>{const f=this._def.items[s]||this._def.rest;return f?f._parse(new W(r,i,r.path,s)):null}).filter(i=>!!i);return r.common.async?Promise.all(o).then(i=>P.mergeArray(t,i)):P.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new K({...this._def,rest:e})}}K.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new K({items:n,typeName:k.ZodTuple,rest:null,...S(e)})};class we extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.object)return g(r,{code:m.invalid_type,expected:v.object,received:r.parsedType}),N;const a=[],o=this._def.keyType,i=this._def.valueType;for(const s in r.data)a.push({key:o._parse(new W(r,s,r.path,s)),value:i._parse(new W(r,r.data[s],r.path,s)),alwaysSet:s in r.data});return r.common.async?P.mergeObjectAsync(t,a):P.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof T?new we({keyType:e,valueType:t,typeName:k.ZodRecord,...S(r)}):new we({keyType:B.create(),valueType:e,typeName:k.ZodRecord,...S(t)})}}class Ue extends T{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.map)return g(r,{code:m.invalid_type,expected:v.map,received:r.parsedType}),N;const a=this._def.keyType,o=this._def.valueType,i=[...r.data.entries()].map(([s,f],l)=>({key:a._parse(new W(r,s,r.path,[l,"key"])),value:o._parse(new W(r,f,r.path,[l,"value"]))}));if(r.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const f of i){const l=await f.key,h=await f.value;if(l.status==="aborted"||h.status==="aborted")return N;(l.status==="dirty"||h.status==="dirty")&&t.dirty(),s.set(l.value,h.value)}return{status:t.value,value:s}})}else{const s=new Map;for(const f of i){const l=f.key,h=f.value;if(l.status==="aborted"||h.status==="aborted")return N;(l.status==="dirty"||h.status==="dirty")&&t.dirty(),s.set(l.value,h.value)}return{status:t.value,value:s}}}}Ue.create=(n,e,t)=>new Ue({valueType:e,keyType:n,typeName:k.ZodMap,...S(t)});class ce extends T{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.set)return g(r,{code:m.invalid_type,expected:v.set,received:r.parsedType}),N;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(g(r,{code:m.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(g(r,{code:m.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const o=this._def.valueType;function i(f){const l=new Set;for(const h of f){if(h.status==="aborted")return N;h.status==="dirty"&&t.dirty(),l.add(h.value)}return{status:t.value,value:l}}const s=[...r.data.values()].map((f,l)=>o._parse(new W(r,f,r.path,l)));return r.common.async?Promise.all(s).then(f=>i(f)):i(s)}min(e,t){return new ce({...this._def,minSize:{value:e,message:y.toString(t)}})}max(e,t){return new ce({...this._def,maxSize:{value:e,message:y.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ce.create=(n,e)=>new ce({valueType:n,minSize:null,maxSize:null,typeName:k.ZodSet,...S(e)});class pe extends T{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==v.function)return g(t,{code:m.invalid_type,expected:v.function,received:t.parsedType}),N;function r(s,f){return Le({data:s,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Fe(),me].filter(l=>!!l),issueData:{code:m.invalid_arguments,argumentsError:f}})}function a(s,f){return Le({data:s,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Fe(),me].filter(l=>!!l),issueData:{code:m.invalid_return_type,returnTypeError:f}})}const o={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof ge){const s=this;return j(async function(...f){const l=new L([]),h=await s._def.args.parseAsync(f,o).catch(Y=>{throw l.addIssue(r(f,Y)),l}),C=await Reflect.apply(i,this,h);return await s._def.returns._def.type.parseAsync(C,o).catch(Y=>{throw l.addIssue(a(C,Y)),l})})}else{const s=this;return j(function(...f){const l=s._def.args.safeParse(f,o);if(!l.success)throw new L([r(f,l.error)]);const h=Reflect.apply(i,this,l.data),C=s._def.returns.safeParse(h,o);if(!C.success)throw new L([a(h,C.error)]);return C.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new pe({...this._def,args:K.create(e).rest(oe.create())})}returns(e){return new pe({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new pe({args:e||K.create([]).rest(oe.create()),returns:t||oe.create(),typeName:k.ZodFunction,...S(r)})}}class Ce extends T{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Ce.create=(n,e)=>new Ce({getter:n,typeName:k.ZodLazy,...S(e)});class $e extends T{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return g(t,{received:t.data,code:m.invalid_literal,expected:this._def.value}),N}return{status:"valid",value:e.data}}get value(){return this._def.value}}$e.create=(n,e)=>new $e({value:n,typeName:k.ZodLiteral,...S(e)});function gn(n,e){return new ne({values:n,typeName:k.ZodEnum,...S(e)})}class ne extends T{constructor(){super(...arguments),ye.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return g(t,{expected:w.joinValues(r),received:t.parsedType,code:m.invalid_type}),N}if(De(this,ye)||fn(this,ye,new Set(this._def.values)),!De(this,ye).has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return g(t,{received:t.data,code:m.invalid_enum_value,options:r}),N}return j(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ne.create(e,{...this._def,...t})}exclude(e,t=this._def){return ne.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}ye=new WeakMap;ne.create=gn;class Ee extends T{constructor(){super(...arguments),_e.set(this,void 0)}_parse(e){const t=w.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==v.string&&r.parsedType!==v.number){const a=w.objectValues(t);return g(r,{expected:w.joinValues(a),received:r.parsedType,code:m.invalid_type}),N}if(De(this,_e)||fn(this,_e,new Set(w.getValidEnumValues(this._def.values))),!De(this,_e).has(e.data)){const a=w.objectValues(t);return g(r,{received:r.data,code:m.invalid_enum_value,options:a}),N}return j(e.data)}get enum(){return this._def.values}}_e=new WeakMap;Ee.create=(n,e)=>new Ee({values:n,typeName:k.ZodNativeEnum,...S(e)});class ge extends T{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==v.promise&&t.common.async===!1)return g(t,{code:m.invalid_type,expected:v.promise,received:t.parsedType}),N;const r=t.parsedType===v.promise?t.data:Promise.resolve(t.data);return j(r.then(a=>this._def.type.parseAsync(a,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ge.create=(n,e)=>new ge({type:n,typeName:k.ZodPromise,...S(e)});class G extends T{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===k.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,o={addIssue:i=>{g(r,i),i.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const i=a.transform(r.data,o);if(r.common.async)return Promise.resolve(i).then(async s=>{if(t.value==="aborted")return N;const f=await this._def.schema._parseAsync({data:s,path:r.path,parent:r});return f.status==="aborted"?N:f.status==="dirty"||t.value==="dirty"?fe(f.value):f});{if(t.value==="aborted")return N;const s=this._def.schema._parseSync({data:i,path:r.path,parent:r});return s.status==="aborted"?N:s.status==="dirty"||t.value==="dirty"?fe(s.value):s}}if(a.type==="refinement"){const i=s=>{const f=a.refinement(s,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?N:(s.status==="dirty"&&t.dirty(),i(s.value),{status:t.value,value:s.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>s.status==="aborted"?N:(s.status==="dirty"&&t.dirty(),i(s.value).then(()=>({status:t.value,value:s.value}))))}if(a.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ie(i))return i;const s=a.transform(i.value,o);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>ie(i)?Promise.resolve(a.transform(i.value,o)).then(s=>({status:t.value,value:s})):i);w.assertNever(a)}}G.create=(n,e,t)=>new G({schema:n,typeName:k.ZodEffects,effect:e,...S(t)});G.createWithPreprocess=(n,e,t)=>new G({schema:e,effect:{type:"preprocess",transform:n},typeName:k.ZodEffects,...S(t)});class H extends T{_parse(e){return this._getType(e)===v.undefined?j(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}H.create=(n,e)=>new H({innerType:n,typeName:k.ZodOptional,...S(e)});class re extends T{_parse(e){return this._getType(e)===v.null?j(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}re.create=(n,e)=>new re({innerType:n,typeName:k.ZodNullable,...S(e)});class Ie extends T{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===v.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ie.create=(n,e)=>new Ie({innerType:n,typeName:k.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...S(e)});class Re extends T{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return xe(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new L(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new L(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Re.create=(n,e)=>new Re({innerType:n,typeName:k.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...S(e)});class Ve extends T{_parse(e){if(this._getType(e)!==v.nan){const r=this._getOrReturnCtx(e);return g(r,{code:m.invalid_type,expected:v.nan,received:r.parsedType}),N}return{status:"valid",value:e.data}}}Ve.create=n=>new Ve({typeName:k.ZodNaN,...S(n)});const Oa=Symbol("zod_brand");class it extends T{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class je extends T{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?N:o.status==="dirty"?(t.dirty(),fe(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?N:a.status==="dirty"?(t.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,t){return new je({in:e,out:t,typeName:k.ZodPipeline})}}class Oe extends T{_parse(e){const t=this._def.innerType._parse(e),r=a=>(ie(a)&&(a.value=Object.freeze(a.value)),a);return xe(t)?t.then(a=>r(a)):r(t)}unwrap(){return this._def.innerType}}Oe.create=(n,e)=>new Oe({innerType:n,typeName:k.ZodReadonly,...S(e)});function sn(n,e){const t=typeof n=="function"?n(e):typeof n=="string"?{message:n}:n;return typeof t=="string"?{message:t}:t}function vn(n,e={},t){return n?he.create().superRefine((r,a)=>{var o,i;const s=n(r);if(s instanceof Promise)return s.then(f=>{var l,h;if(!f){const C=sn(e,r),z=(h=(l=C.fatal)!==null&&l!==void 0?l:t)!==null&&h!==void 0?h:!0;a.addIssue({code:"custom",...C,fatal:z})}});if(!s){const f=sn(e,r),l=(i=(o=f.fatal)!==null&&o!==void 0?o:t)!==null&&i!==void 0?i:!0;a.addIssue({code:"custom",...f,fatal:l})}}):he.create()}const Pa={object:$.lazycreate};var k;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(k||(k={}));const Za=(n,e={message:`Input not instance of ${n.name}`})=>vn(t=>t instanceof n,e),yn=B.create,_n=ee.create,ja=Ve.create,Ma=te.create,bn=ke.create,Fa=ue.create,La=ze.create,Da=Ne.create,za=Ae.create,Ba=he.create,Ua=oe.create,Va=Q.create,Ga=Be.create,Ha=V.create,Wa=$.create,Ka=$.strictCreate,Ya=Se.create,qa=He.create,Xa=Te.create,Ja=K.create,Qa=we.create,es=Ue.create,ts=ce.create,ns=pe.create,rs=Ce.create,as=$e.create,ss=ne.create,os=Ee.create,is=ge.create,on=G.create,us=H.create,cs=re.create,ls=G.createWithPreprocess,ds=je.create,fs=()=>yn().optional(),ps=()=>_n().optional(),ms=()=>bn().optional(),hs={string:n=>B.create({...n,coerce:!0}),number:n=>ee.create({...n,coerce:!0}),boolean:n=>ke.create({...n,coerce:!0}),bigint:n=>te.create({...n,coerce:!0}),date:n=>ue.create({...n,coerce:!0})},gs=N;var se=Object.freeze({__proto__:null,defaultErrorMap:me,setErrorMap:la,getErrorMap:Fe,makeIssue:Le,EMPTY_PATH:da,addIssueToContext:g,ParseStatus:P,INVALID:N,DIRTY:fe,OK:j,isAborted:et,isDirty:tt,isValid:ie,isAsync:xe,get util(){return w},get objectUtil(){return Qe},ZodParsedType:v,getParsedType:J,ZodType:T,datetimeRegex:hn,ZodString:B,ZodNumber:ee,ZodBigInt:te,ZodBoolean:ke,ZodDate:ue,ZodSymbol:ze,ZodUndefined:Ne,ZodNull:Ae,ZodAny:he,ZodUnknown:oe,ZodNever:Q,ZodVoid:Be,ZodArray:V,ZodObject:$,ZodUnion:Se,ZodDiscriminatedUnion:He,ZodIntersection:Te,ZodTuple:K,ZodRecord:we,ZodMap:Ue,ZodSet:ce,ZodFunction:pe,ZodLazy:Ce,ZodLiteral:$e,ZodEnum:ne,ZodNativeEnum:Ee,ZodPromise:ge,ZodEffects:G,ZodTransformer:G,ZodOptional:H,ZodNullable:re,ZodDefault:Ie,ZodCatch:Re,ZodNaN:Ve,BRAND:Oa,ZodBranded:it,ZodPipeline:je,ZodReadonly:Oe,custom:vn,Schema:T,ZodSchema:T,late:Pa,get ZodFirstPartyTypeKind(){return k},coerce:hs,any:Ba,array:Ha,bigint:Ma,boolean:bn,date:Fa,discriminatedUnion:qa,effect:on,enum:ss,function:ns,instanceof:Za,intersection:Xa,lazy:rs,literal:as,map:es,nan:ja,nativeEnum:os,never:Va,null:za,nullable:cs,number:_n,object:Wa,oboolean:ms,onumber:ps,optional:us,ostring:fs,pipeline:ds,preprocess:ls,promise:is,record:Qa,set:ts,strictObject:Ka,string:yn,symbol:La,transformer:on,tuple:Ja,undefined:Da,union:Ya,unknown:Ua,void:Ga,NEVER:gs,ZodIssueCode:m,quotelessJson:ca,ZodError:L});const rt=se.object({sha:se.string().default(""),ref:se.string().default(""),actor:se.string().default(""),repo:se.string().default("")}),zc=ln(rt.parse({}));async function Bc(){const n=rt.parse({}),e=await fetch("build-info.json");if(!e.ok)return console.error(`failed to fetch build info, status ${e.status}`),n;const t=await e.json(),r=rt.safeParse(t);return r.success?r.data:(console.error("invalid build info",{parseResult:r}),n)}function Uc(n){return n.substring(0,7)}function Vc(n,e,t){return`https://github.com/${n}/${e}/commit/${t}`}const Gc={acercaDe:"Acerca de Asu",aplicarAlpha:"Aplicar alpha",aplicarColor:"Aplicar color",aplicarSecuenciaPosiciones:"Aplicar secuencia de posiciones",copiar:"Copiar",copiarMovimiento:"Copiar movimiento",dividirKaraoke:"Dividir karaoke",dividirSilabas:"Dividir sílabas",lineasCopiadas:"¡Líneas copiadas al portapapeles!",resultado:"Resultado",subtitulos:"Subtítulos",validarDialogos:"Validar diálogos"};function O(n){return parseInt(n,16)}function Me(n){return Math.floor(n).toString(16).padStart(2,"0").toUpperCase()}function vs(n,e,t){const r=n>e;let a=e,o=n;r&&(a=n,o=e);const s=(a-o)/t;let f=o;const l=[o];for(let h=1;h<t;h++)f+=s,l.push(f);return l[t-1]=a,r&&l.reverse(),l}function E(n,e){e=Math.floor(e);const t=`(-?\\d+.?\\d{1,${e}})`,r=new RegExp(t),a=n.toString().match(r);return!a||a.length===0?n:Number(a[0])}const ys=/^(\(.*\)|\\?.)$/,ae=n=>{const e=n.toString();return ys.test(e)?e:`(?:${e})`},_s=/^(?:\(\?:(.+)\)|(\(?.+\)?))$/,bs=/^(?:\(\?:(.+)\)([?+*]|{[\d,]+})?|(.+))$/,A=n=>{const e=t=>A(`(?<${t}>${`${n}`.replace(_s,"$1$2")})`);return{toString:()=>n.toString(),and:Object.assign((...t)=>A(`${n}${d(...t)}`),{referenceTo:t=>A(`${n}\\k<${t}>`)}),or:(...t)=>A(`(?:${n}|${d(...t)})`),after:(...t)=>A(`(?<=${d(...t)})${n}`),before:(...t)=>A(`${n}(?=${d(...t)})`),notAfter:(...t)=>A(`(?<!${d(...t)})${n}`),notBefore:(...t)=>A(`${n}(?!${d(...t)})`),times:Object.assign(t=>A(`${ae(n)}{${t}}`),{any:()=>A(`${ae(n)}*`),atLeast:t=>A(`${ae(n)}{${t},}`),atMost:t=>A(`${ae(n)}{0,${t}}`),between:(t,r)=>A(`${ae(n)}{${t},${r}}`)}),optionally:()=>A(`${ae(n)}?`),as:e,groupedAs:e,grouped:()=>A(`${n}`.replace(bs,"($1$3)$2")),at:{lineStart:()=>A(`^${n}`),lineEnd:()=>A(`${n}$`)}}},xs=/[.*+?^${}()|[\]\\/]/g,D=n=>A(`[^${n.replace(/[-\\^\]]/g,"\\$&")}]`),ks=(...n)=>A(`(?:${n.map(e=>d(e)).join("|")})`),Ns=A(".");A("\\b\\w+\\b");A("\\w");A("\\b");const U=A("\\d");A("\\s");const As=Object.assign(A("[a-zA-Z]"),{lowercase:A("[a-z]"),uppercase:A("[A-Z]")});A("\\t");A("\\n");A("\\r");A("\\W+"),A("\\W"),A("\\B"),A("\\D"),A("\\S"),Object.assign(A("[^a-zA-Z]"),{lowercase:A("[^a-z]"),uppercase:A("[^A-Z]")}),A("[^\\t]"),A("[^\\n]"),A("[^\\r]");const d=(...n)=>A(n.map(e=>typeof e=="string"?e.replace(xs,"\\$&"):e).join("")),I=(...n)=>A(`${ae(d(...n))}+`),_=(...n)=>{const e=n.length>1&&(Array.isArray(n[n.length-1])||n[n.length-1]instanceof Set)?n.pop():void 0;return new RegExp(d(...n).toString(),[...e||""].join(""))},Ss=/(?<fx>{[^{]*})|(?<txt>{*[^{]*)/g,Ts=/^[^\\]+/g,xn=/(?<sil>(?:sha|shi|shu|she|sho|cha|chi|chu|che|cho|tsu|kya|kyi|kyu|kye|kyo|gya|gyi|gyu|gye|gyo|sya|syu|syi|sye|syo|zya|zyu|zyi|zye|zyo|jya|jyu|jyi|jye|jyo|tya|tyi|tyu|tye|tyo|dya|dyi|dyu|dye|dyo|nya|nyi|nyu|nye|nyo|hya|hyi|hyu|hye|hyo|fya|fyi|fyu|fye|fyo|bya|byi|byu|bye|byo|pya|pyi|pyu|pye|pyo|mya|myi|myu|mye|myo|rya|ryi|ryu|rye|ryo|vya|vyi|vyu|vye|vyo|ka|ki|ku|ke|ko|ga|gi|gu|ge|go|sa|su|si|se|so|za|zu|zi|ze|zo|ja|ju|ji|je|jo|ta|ti|tu|te|to|da|di|du|de|do|na|ni|nu|ne|no|ha|hi|hu|he|ho|fa|fi|fu|fe|fo|ba|bi|bu|be|bo|pa|pi|pu|pe|po|ma|mi|mu|me|mo|ya|yi|yu|ye|yo|ra|ri|ru|re|ro|wa|wo|va|vi|vu|ve|vo|a|i|u|e|o|n|t)[^a-zA-Z\d\s:]*\s?)/g,un=I(U).and(d(":")).and(U.times(2)).and(d(":")).and(U.times(2)).and(d(".")).and(U.times(2)),ws=ks("Dialogue","Comment").groupedAs("type").and(d(": ")).and(I(U).optionally().groupedAs("layer")).and(d(",")).and(un.optionally().groupedAs("start")).and(d(",")).and(un.optionally().groupedAs("end")).and(d(",")).and(I(D(",").optionally()).groupedAs("style")).and(d(",")).and(I(D(",")).optionally().groupedAs("actor")).and(d(",")).and(I(U).optionally().groupedAs("marginLeft")).and(d(",")).and(I(U).optionally().groupedAs("marginRight")).and(d(",")).and(I(U).optionally().groupedAs("marginVertical")).and(d(",")).and(I(D(",")).optionally().groupedAs("effect")).and(d(",")).and(I(Ns).optionally().groupedAs("content")),Cs=_(ws),$s=d("-").optionally().and(I(U)),b=$s.and(d(".").and(I(U)).optionally()),kn=d("\\").and("a").and(b.groupedAs("a_value")),Es=_(kn),Z=As.or(U).times(2),Nn=d("&H").and(Z.groupedAs("color_bgr_blue")).and(Z.groupedAs("color_bgr_green")).and(Z.groupedAs("color_bgr_red")).and(d("&")),An=d("\\c").and(Nn),Sn=d("\\1c").and(d("&H")).and(Z.groupedAs("color1_bgr_blue")).and(Z.groupedAs("color1_bgr_green")).and(Z.groupedAs("color1_bgr_red")).and(d("&")),Tn=d("\\2c").and(d("&H")).and(Z.groupedAs("color2_bgr_blue")).and(Z.groupedAs("color2_bgr_green")).and(Z.groupedAs("color2_bgr_red")).and(d("&")),wn=d("\\3c").and(d("&H")).and(Z.groupedAs("color3_bgr_blue")).and(Z.groupedAs("color3_bgr_green")).and(Z.groupedAs("color3_bgr_red")).and(d("&")),Cn=d("\\4c").and(d("&H")).and(Z.groupedAs("color4_bgr_blue")).and(Z.groupedAs("color4_bgr_green")).and(Z.groupedAs("color4_bgr_red")).and(d("&")),Is=_(Nn),Rs=_(An),Os=_(Sn),Ps=_(Tn),Zs=_(wn),js=_(Cn),$n=d("\\").and("alpha").and(I(D("\\")).groupedAs("alpha_value")),Ms=_($n),En=d("\\").and("1a").and(I(D("\\")).groupedAs("alpha1_value")),Fs=_(En),In=d("\\").and("2a").and(I(D("\\")).groupedAs("alpha2_value")),Ls=_(In),Rn=d("\\").and("3a").and(I(D("\\")).groupedAs("alpha3_value")),Ds=_(Rn),On=d("\\").and("4a").and(I(D("\\")).groupedAs("alpha4_value")),zs=_(On),Pn=d("\\").and("k").and(b.groupedAs("k_lower_case_value")),Bs=_(Pn),Zn=d("\\").and("K").and(b.groupedAs("k_upper_case_value")),Us=_(Zn),jn=d("\\").and("kf").and(b.groupedAs("kf_value")),Vs=_(jn),Mn=d("\\").and("ko").and(b.groupedAs("ko_value")),Gs=_(Mn),Fn=d("\\").and("q").and(b.groupedAs("q_value")),Hs=_(Fn),Ln=d("\\").and("s").and(b.groupedAs("s_value")),Ws=_(Ln),Dn=d("\\").and("u").and(b.groupedAs("u_value")),Ks=_(Dn),zn=d("\\").and("r").and(I(D("\\")).groupedAs("r_value")),Ys=_(zn),Bn=d("\\").and("fe").and(b.groupedAs("fe_value")),qs=_(Bn),Un=d("\\").and("fn").and(I(D("\\")).groupedAs("fn_value")),Xs=_(Un),Vn=d("\\").and("p").and(b.groupedAs("p_value")),Js=_(Vn),Gn=d("\\").and("pbo").and(b.groupedAs("pbo_value")),Qs=_(Gn),Hn=d("\\").and("an").and(b.groupedAs("an_value")),eo=_(Hn),Wn=d("\\").and("b").and(b.groupedAs("b_value")),to=_(Wn),Kn=d("\\").and("be").and(b.groupedAs("be_value")),no=_(Kn),Yn=d("\\").and("blur").and(b.groupedAs("blur_value")),ro=_(Yn),qn=d("\\").and("bord").and(b.groupedAs("bord_value")),ao=_(qn),Xn=d("\\").and("xbord").and(b.groupedAs("xbord_value")),so=_(Xn),Jn=d("\\").and("ybord").and(b.groupedAs("ybord_value")),oo=_(Jn),Qn=d("\\").and("shad").and(b.groupedAs("shad_value")),io=_(Qn),er=d("\\").and("xshad").and(b.groupedAs("xshad_value")),uo=_(er),tr=d("\\").and("yshad").and(b.groupedAs("yshad_value")),co=_(tr),nr=d("\\").and("fax").and(b.groupedAs("fax_value")),lo=_(nr),rr=d("\\").and("fay").and(b.groupedAs("fay_value")),fo=_(rr),ar=d("\\").and("fscx").and(b.groupedAs("fscx_value")),po=_(ar),sr=d("\\").and("fscy").and(b.groupedAs("fscy_value")),mo=_(sr),or=d("\\").and("fsp").and(b.groupedAs("fsp_value")),ho=_(or),ir=d("\\").and("fr").and(b.groupedAs("fr_value")),go=_(ir),ur=d("\\").and("frx").and(b.groupedAs("frx_value")),vo=_(ur),cr=d("\\").and("fry").and(b.groupedAs("fry_value")),yo=_(cr),lr=d("\\").and("frz").and(b.groupedAs("frz_value")),_o=_(lr),dr=d("\\").and("i").and(d("1").or("0").groupedAs("i_value")),bo=_(dr),fr=d("\\").and("fs").and(b.groupedAs("fs_value")),xo=_(fr),pr=d("\\").and("pos").and(d("(")).and(b.groupedAs("pos_x")).and(d(",")).and(b.groupedAs("pos_y")).and(d(")")),ko=_(pr),mr=d("\\").and("org").and(d("(")).and(b.groupedAs("org_x")).and(d(",")).and(b.groupedAs("org_y")).and(d(")")),No=_(mr),hr=d("\\").and("fad").and(d("(")).and(b.groupedAs("in")).and(d(",")).and(b.groupedAs("out")).and(d(")")),Ao=_(hr),gr=d("\\").and("fade").and(d("(")).and(b.groupedAs("fade_alpha1")).and(d(",")).and(b.groupedAs("fade_alpha2")).and(d(",")).and(b.groupedAs("fade_alpha3")).and(d(",")).and(b.groupedAs("fade_t1")).and(d(",")).and(b.groupedAs("fade_t2")).and(d(",")).and(b.groupedAs("fade_t3")).and(d(",")).and(b.groupedAs("fade_t4")).and(d(")")),So=_(gr),To=d(",").and(b.groupedAs("move_t1")).and(d(",")).and(b.groupedAs("move_t2")).optionally(),vr=d("\\").and("move").and(d("(")).and(b.groupedAs("move_x1")).and(d(",")).and(b.groupedAs("move_y1")).and(d(",")).and(b.groupedAs("move_x2")).and(d(",")).and(b.groupedAs("move_y2")).and(To).and(d(")")),wo=_(vr),yr=d("\\").and("clip").and(d("(")).and(I(D(")")).groupedAs("clip_args")).and(d(")")),Co=_(yr),_r=d("\\").and("iclip").and(d("(")).and(I(D(")")).groupedAs("iclip_args")).and(d(")")),$o=_(_r),Eo=d("\\").and(I(D("\\")).groupedAs("unknown_value")),br=Kn.or($n).or(Xn).or(Jn).or(er).or(tr).or(_r).or(vr).or(Yn).or(qn).or(Qn).or(ar).or(sr).or(gr).or(yr).or(or).or(pr).or(mr).or(hr).or(Gn).or(ur).or(cr).or(lr).or(nr).or(rr).or(Mn).or(jn).or(ir).or(fr).or(Bn).or(Un).or(Hn).or(Sn).or(Tn).or(wn).or(Cn).or(En).or(In).or(Rn).or(On).or(An).or(Fn).or(Dn).or(Ln).or(Vn).or(zn).or(dr).or(Wn).or(kn).or(Pn).or(Zn).or(Eo),Io=d("\\").at.lineStart().and("t").and(d("(")).and(b.groupedAs("arg1").and(d(",")).optionally()).and(b.groupedAs("arg2").and(d(",")).optionally()).and(b.groupedAs("arg3").and(d(",")).optionally()).and(I(br).groupedAs("tags")).and(d(")")),Ro=_(br),xr=_(Io);function ut(n){const e=Math.floor(n/3600),t=Math.floor((n/3600-e)*60);return n=n-e*3600-t*60,{hours:e,minutes:t,seconds:n}}function at(n){var s,f,l;const e=/(?<h>\d+):(?<m>[0-9]{1,2}?):(?<s>[0-9]{1,2}(?:\.[0-9]{1,2})?)/,t=n.match(e);if(!t||t.length===0)return null;const r=Math.floor(Number(((s=t.groups)==null?void 0:s.h)??"0")),a=Math.floor(Number(((f=t.groups)==null?void 0:f.m)??"0")),o=Number(((l=t.groups)==null?void 0:l.s)??"0"),i={hours:r,minutes:a,seconds:o};return We(i),i}function We(n){n.seconds>=60&&(n.seconds-=60,n.minutes++),n.minutes>=60&&(n.minutes-=60,n.hours++),n.hours>=9&&(n.hours=9,n.minutes=59,n.seconds=59.99)}function st(n){We(n);const e=n.hours.toFixed(0),t=n.minutes.toFixed(0).padStart(2,"0"),r=n.seconds.toFixed(2).padStart(5,"0");return`${e}:${t}:${r}`}function le(n){return We(n),n.hours*3600+n.minutes*60+n.seconds}function Oo(n,e){const t=le(n),r=le(e),a=t+r;return ut(a)}function Po(n,e){const t=le(n),r=le(e),a=t-r;return ut(a)}var Pe;(function(n){n[n.DOWN_LEFT=1]="DOWN_LEFT",n[n.DOWN_CENTER=2]="DOWN_CENTER",n[n.DOWN_RIGHT=3]="DOWN_RIGHT",n[n.CENTER_LEFT=4]="CENTER_LEFT",n[n.CENTER_CENTER=5]="CENTER_CENTER",n[n.CENTER_RIGHT=6]="CENTER_RIGHT",n[n.UP_LEFT=7]="UP_LEFT",n[n.UP_CENTER=8]="UP_CENTER",n[n.UP_RIGHT=9]="UP_RIGHT"})(Pe||(Pe={}));const kr=se.nativeEnum(Pe);var Ze;(function(n){n[n.ANSI=0]="ANSI",n[n.DEFAULT=1]="DEFAULT",n[n.SYMBOL=2]="SYMBOL",n[n.MAC=77]="MAC",n[n.SHIFT_JIS=128]="SHIFT_JIS",n[n.HANGEUL=129]="HANGEUL",n[n.JOHAB=130]="JOHAB",n[n.GB2312=134]="GB2312",n[n.CHINESE_BIG5=136]="CHINESE_BIG5",n[n.GREEK=161]="GREEK",n[n.TURKISH=162]="TURKISH",n[n.VIETNAMESE=163]="VIETNAMESE",n[n.HEBREW=177]="HEBREW",n[n.ARAB=178]="ARAB",n[n.BALTIC=186]="BALTIC",n[n.RUSSIAN=204]="RUSSIAN",n[n.THAI=222]="THAI",n[n.EASTERN_EUROPE=238]="EASTERN_EUROPE",n[n.OEM=255]="OEM"})(Ze||(Ze={}));const Nr=se.nativeEnum(Ze);function Ar(){return{format:"Layer, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text",lines:[]}}function Sr(n){let e="[Events]";e+=`
Format: ${n.format}`;for(const t of n.lines)e+=`
${Kr(t)}`;return e}function Tr(){return{data:[]}}function wr(n){let e="[Aegisub Extradata]";for(const t of n.data)e+=`
Data: ${t}`;return e}function Cr(n){let e=`fontname: ${n.name}`;for(const t of n.data)e+=`
${t}`;return e}function $r(){return{files:[]}}function Er(n){let e=`[Fonts]
`,t=0;for(const r of n.files)t>0&&(e+=`

`),e+=Cr(r),t++;return e+=`
`,e}function Ir(n){let e=`filename: ${n.name}`;for(const t of n.data)e+=`
${t}`;return e}function Rr(){return{files:[]}}function Or(n){let e=`[Graphics]
`,t=0;for(const r of n.files)t>0&&(e+=`

`),e+=Ir(r),t++;return e}const Zo="Automation Scripts",jo="Export Filters",Mo="Export Encoding",Fo="Last Style Storage",Lo="Audio File",Do="Video File",zo="Timecodes File",Bo="Keyframes File",Uo="Video AR Mode",Vo="Video AR Value",Go="Video Zoom Percent",Ho="Scroll Position",Wo="Active Line",Ko="Video Position";function Pr(){return{comments:[],properties:new Map}}function Zr(n){let e="[Aegisub Project Garbage]";for(const t of n.comments)e+=`
; ${t}`;for(const[t,r]of n.properties)e+=`
${t}: ${r}`;return e}const Yo="Title",qo="ScriptType",Xo="WrapStyle",Jo="PlayResX",Qo="PlayResY",ei="ScaledBorderAndShadow",ti="YCbCr Matrix",ni="Original Script",ri="Original Translation",ai="Original Editing",si="Original Timing",oi="Synch Point",ii="Script Updated By",ui="Update Details";function jr(){return{comments:[],properties:new Map}}function Mr(n){let e="[Script Info]";for(const t of n.comments)e+=`
; ${t}`;for(const[t,r]of n.properties)e+=`
${t}: ${r}`;return e}function Fr(n){let e=`Style: ${n.name}`;return e+=`,${n.fontName}`,e+=`,${n.fontSize}`,e+=`,${n.primaryAlpha}`,e+=`,${n.primaryColor}`,e+=`,${n.secondaryAlpha}`,e+=`,${n.secondaryColor}`,e+=`,${n.outlineAlpha}`,e+=`,${n.outlineColor}`,e+=`,${n.backAlpha}`,e+=`,${n.backColor}`,e+=`,${n.bold}`,e+=`,${n.italic}`,e+=`,${n.underline}`,e+=`,${n.strikeOut}`,e+=`,${n.scaleX}`,e+=`,${n.scaleY}`,e+=`,${n.spacing}`,e+=`,${n.angle}`,e+=`,${n.borderStyle}`,e+=`,${n.outline}`,e+=`,${n.shadow}`,e+=`,${n.alignment}`,e+=`,${n.marginLeft}`,e+=`,${n.marginRight}`,e+=`,${n.marginVertical}`,e+=`,${n.encoding}`,e}function Lr(){return{format:"Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding",styles:[]}}function ci(){return{format:"Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding",styles:[zr()]}}function Dr(n){let e="[V4+ Styles]";e+=`
Format: ${n.format}`;for(const t of n.styles)e+=`
${Fr(t)}`;return e}function zr(){return{name:"Default",fontName:"Arial",fontSize:20,primaryAlpha:"&H00FFFFFF",primaryColor:"&H000000FF",secondaryAlpha:"&H00000000",secondaryColor:"&H00000000",outlineAlpha:"",outlineColor:"",backAlpha:"",backColor:"",bold:0,italic:0,underline:0,strikeOut:0,scaleX:100,scaleY:100,spacing:0,angle:0,borderStyle:1,outline:2,shadow:2,alignment:Pe.DOWN_CENTER,marginLeft:10,marginRight:10,marginVertical:10,encoding:Ze.DEFAULT}}const li="[Script Info]",di="[Aegisub Project Garbage]",fi="[V4+ Styles]",pi="[Graphics]",mi="[Fonts]",hi="[Events]",gi="[Aegisub Extradata]",Ge="; ",cn="Data: ";function vi(n){let e="";return e+=Mr(n.scriptInfo),e+=`

`+Zr(n.aegisubProjectGarbage),e+=`

`+Dr(n.styles),e+=`

`+Er(n.fonts),e+=`

`+Or(n.graphics),e+=`

`+Sr(n.events),e+=`

`+wr(n.extraData),e+=`
`,e}function yi(n){const e={scriptInfo:jr(),aegisubProjectGarbage:Pr(),styles:Lr(),fonts:$r(),graphics:Rr(),events:Ar(),extraData:Tr()},t="scriptInfo",r="projectGarbage",a="styles",o="fonts",i="graphics",s="events",f="extraData";let l="",h="";const C=n.split(`
`);for(let z=0;z<C.length;z++){const Y=z+1,M=_i(C[z]);if(M.length===0)continue;switch(M){case li:l=t;continue;case di:l=r;continue;case fi:l=a;continue;case mi:l=o;continue;case pi:l=i;continue;case hi:l=s;continue;case gi:l=f;continue}let q="";switch(l){case t:q=bi(e,M);break;case r:q=xi(e,M);break;case a:q=ki(e,M);break;case o:h=Ni(e,M,h);break;case i:h=Ai(e,M,h);break;case s:q=Si(e,M);break;case f:Ti(e,M);break;default:console.error(`failed to parse line ${Y}`);break}if(q.length>0)return console.error(`failed to parse ass file at line ${Y}: ${q}
Line:
${M}`),null}return e}function Br(n){const e=/Style: (?<name>.*)\s*,\s*(?<fontName>.*)\s*,\s*(?<fontSize>\d+(?:\.\d+)?)\s*,\s*&H(?<alpha1>[A-Fa-f0-9]{2})(?<color1>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha2>[A-Fa-f0-9]{2})(?<color2>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha3>[A-Fa-f0-9]{2})(?<color3>[A-Fa-f0-9]{6})\s*,\s*&H(?<alpha4>[A-Fa-f0-9]{2})(?<color4>[A-Fa-f0-9]{6})\s*,\s*(?<bold>0|-1)\s*,\s*(?<italic>0|-1)\s*,\s*(?<underline>0|-1)\s*,\s*(?<strikeout>0|-1)\s*,\s*(?<scaleX>\d+(?:\.\d+)?)\s*,\s*(?<scaleY>\d+(?:\.\d+)?)\s*,\s*(?<spacing>\d+(?:\.\d+)?)\s*,\s*(?<angle>-?\d+(?:\.\d+)?)\s*,\s*(?<borderStyle>\d+)\s*,\s*(?<outline>\d+(?:\.\d+)?)\s*,\s*(?<shadow>\d+(?:\.\d+)?)\s*,\s*(?<alignment>[1-9])\s*,\s*(?<marginLeft>\d+)\s*,\s*(?<marginRight>\d+)\s*,\s*(?<marginVertical>\d+)\s*,\s*(?<encoding>\d+)/;if(!n.startsWith("Style: "))return[void 0,""];const t=n.match(e);if(!t||t.length===0||!t.groups)return[void 0,`failed to parse style: not a style: ${n}`];const r=kr.safeParse(Number(t.groups.alignment));if(!r.success)return[void 0,`failed to parse style: invalid alignment: ${n}`];const a=r.data,o=Nr.safeParse(Number(t.groups.encoding));if(!o.success)return[void 0,`failed to parse style: invalid encoding: ${t.groups.encoding}`];const i=o.data;return[{name:t.groups.name??"",fontName:t.groups.fontName??"",fontSize:Number(t.groups.fontSize??"0"),primaryAlpha:t.groups.alpha1,primaryColor:t.groups.color1,secondaryAlpha:t.groups.alpha2,secondaryColor:t.groups.color2,outlineAlpha:t.groups.alpha3,outlineColor:t.groups.color3,backAlpha:t.groups.alpha4,backColor:t.groups.color4,bold:Number(t.groups.bold),italic:Number(t.groups.italic),underline:Number(t.groups.underline),strikeOut:Number(t.groups.strikeout),scaleX:Number(t.groups.scaleX),scaleY:Number(t.groups.scaleY),spacing:Number(t.groups.spacing),angle:Number(t.groups.angle),borderStyle:Number(t.groups.borderStyle),outline:Number(t.groups.outline),shadow:Number(t.groups.shadow),alignment:a,marginLeft:Number(t.groups.marginLeft),marginRight:Number(t.groups.marginRight),marginVertical:Number(t.groups.marginVertical),encoding:i},""]}function _i(n){return n=n.replaceAll("\\uFEFF",""),n=n.replaceAll("\r",""),n}function Ke(n){var a,o;const e=/(?<key>.+):\s+(?<value>.*)\s*/,t={key:"",value:""},r=n.match(e);return!r||r.length===0?[t,`not a key-value pair: ${n}`]:(t.key=((a=r.groups)==null?void 0:a.key)??"",t.value=((o=r.groups)==null?void 0:o.value)??"",[t,""])}function bi(n,e){if(e.startsWith(Ge)){const a=e.substring(Ge.length);return n.scriptInfo.comments.push(a),""}const[t,r]=Ke(e);return r.length>0?`failed to parse script info line: ${r}`:(n.scriptInfo.properties.set(t.key,t.value),"")}function xi(n,e){if(e.startsWith(Ge)){const a=e.substring(Ge.length);return n.aegisubProjectGarbage.comments.push(a),""}const[t,r]=Ke(e);return r.length>0?`failed to parse script info line: ${r}`:(n.aegisubProjectGarbage.properties.set(t.key,t.value),"")}function ki(n,e){const[t,r]=Br(e);return r===""&&t!=null&&n.styles.styles.push(t),r}function Ni(n,e,t){const[r,a]=Ke(e);if(a.length===0&&r.key=="fontname"){const s=r.value;let f={name:"",data:[]},l=n.fonts.files.findIndex(h=>h.name===s);return n.fonts.files.push(f),l=n.fonts.files.length-1,f=n.fonts.files[l],f.name=s,t=s,s}const o=n.fonts.files.findLastIndex(s=>s.name==t);return o<0?"":(n.fonts.files[o].data.push(e),t)}function Ai(n,e,t){const[r,a]=Ke(e);if(a.length===0&&r.key=="filename"){const s=r.value;let f={name:"",data:[]},l=n.graphics.files.findIndex(h=>h.name===s);return n.graphics.files.push(f),l=n.graphics.files.length-1,f=n.graphics.files[l],f.name=s,t=s,s}const o=n.graphics.files.findLastIndex(s=>s.name==t);return o<0?"":(n.graphics.files[o].data.push(e),t)}function Si(n,e){if(e.startsWith("Format:"))return n.events.format=e,"";const t=Wr(e);return t==null?`not a event (dialogue / comment): ${t}`:(n.events.lines.push(t),"")}function Ti(n,e){if(!e.startsWith(cn))return;const t=e.substring(cn.length);n.extraData.data.push(t)}function wi(n){const e=[],t=n.content.split(" ");for(let f=0;f<t.length;f++){const l=t[f];if(Ur(l)){const h=l.matchAll(xn);for(const C of h)e.push({text:C[1],durationInMs:0})}else e.push({text:l,durationInMs:0});f!=t.length-1&&(e[e.length-1].text+=" ")}const r=Yr(n),a=Math.floor(Math.round(r*100/e.length)),o=e.length*a;for(const f of e)f.durationInMs=a;if(!(o===r*100)){const l=r*100-o;e[e.length-1].durationInMs+=l}const s=[];for(const f of e)s.push({name:"effect",tags:[{name:u.kf,value:f.durationInMs}]},{name:"text",value:f.text});n.content=Vr(s)}function Ur(n){for(;n.length>0;){const e=n.match(xn);if(!e||e.length===0)return!1;n=n.substring(e[0].length)}return!0}var u;(function(n){n.a="a",n.alpha="alpha",n.alpha1="1a",n.alpha2="2a",n.alpha3="3a",n.alpha4="4a",n.an="an",n.b="b",n.be="be",n.blur="blur",n.bord="bord",n.clip="clip",n.color="c",n.color1="1c",n.color2="2c",n.color3="3c",n.color4="4c",n.fad="fad",n.fade="fade",n.fax="fax",n.fay="fay",n.fe="fe",n.fn="fn",n.fr="fr",n.frx="frx",n.fry="fry",n.frz="frz",n.fs="fs",n.fscx="fscx",n.fscy="fscy",n.fsp="fsp",n.i="i",n.iclip="iclip",n.kLowerCase="k",n.kUpperCase="K",n.kf="kf",n.ko="ko",n.move="move",n.org="org",n.p="p",n.pbo="pbo",n.pos="pos",n.q="q",n.r="r",n.s="s",n.shad="shad",n.t="t",n.text="text",n.u="u",n.unknown="unknown",n.xbord="xbord",n.xshad="xshad",n.ybord="ybord",n.yshad="yshad"})(u||(u={}));function ve(n,e){var h,C,z,Y,M,q,lt,dt,ft,pt,mt,ht,gt,vt,yt,_t,bt,xt,kt,Nt,At,St,Tt,wt,Ct,$t,Et,It,Rt,Ot,Pt,Zt,jt,Mt,Ft,Lt,Dt,zt,Bt,Ut,Vt,Gt,Ht,Wt,Kt,Yt,qt,Xt,Jt,Qt,en;const t=n.substring(1),r=n.match(xr);if(r&&r.length>0)return Ci(n,e,t,r);const a=n.match(Ts);if(a&&a.length>0){const c=a[0];return e.push({name:u.text,value:c}),n=n.substring(c.length),n.length>0&&ve(n,e),e}const o=n.match(Ro);if(!o||o.length==0)return e;function i(c,p,R){return c.push(p),n=n.substring(R),n.length>0&&ve(n,c),c}let s=(h=o[0].match(wo))==null?void 0:h.groups;if(s!=null){const c=Number((s==null?void 0:s.move_x1)??"0"),p=Number((s==null?void 0:s.move_y1)??"0"),R=Number((s==null?void 0:s.move_x2)??"0"),F=Number((s==null?void 0:s.move_y2)??"0"),Ye=s!=null&&s.move_t1?Number(s.move_t1):null,qe=s!=null&&s.move_t2?Number(s.move_t2):null,Xe={name:u.move,x1:c,y1:p,x2:R,y2:F,t1:Ye,t2:qe};return i(e,Xe,o[0].length)}if(s=(C=o[0].match(Ms))==null?void 0:C.groups,s!=null){const c=(s==null?void 0:s.alpha_value)??"",p={name:u.alpha,value:c};return i(e,p,o[0].length)}if(s=(z=o[0].match(so))==null?void 0:z.groups,s!=null){const c=Number((s==null?void 0:s.xbord_value)??"0"),p={name:u.xbord,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Y=o[0].match(oo))==null?void 0:Y.groups,s!=null){const c=Number((s==null?void 0:s.ybord_value)??"0"),p={name:u.ybord,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(M=o[0].match(uo))==null?void 0:M.groups,s!=null){const c=Number((s==null?void 0:s.xshad_value)??"0"),p={name:u.xshad,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(q=o[0].match(co))==null?void 0:q.groups,s!=null){const c=Number((s==null?void 0:s.yshad_value)??"0"),p={name:u.yshad,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(lt=o[0].match($o))==null?void 0:lt.groups,s!=null){const c=(s==null?void 0:s.iclip_args)??"",p={name:u.iclip,drawCommands:c};return i(e,p,o[0].length)}if(s=(dt=o[0].match(ro))==null?void 0:dt.groups,s!=null){const c=Number((s==null?void 0:s.blur_value)??"0"),p={name:u.blur,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(ft=o[0].match(ao))==null?void 0:ft.groups,s!=null){const c=Number((s==null?void 0:s.bord_value)??"0"),p={name:u.bord,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(pt=o[0].match(io))==null?void 0:pt.groups,s!=null){const c=Number((s==null?void 0:s.shad_value)??"0"),p={name:u.shad,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(mt=o[0].match(po))==null?void 0:mt.groups,s!=null){const c=Number((s==null?void 0:s.fscx_value)??"0"),p={name:u.fscx,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(ht=o[0].match(mo))==null?void 0:ht.groups,s!=null){const c=Number((s==null?void 0:s.fscy_value)??"0"),p={name:u.fscy,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(gt=o[0].match(So))==null?void 0:gt.groups,s!=null){const c=Number((s==null?void 0:s.fade_alpha1)??"0"),p=Number((s==null?void 0:s.fade_alpha2)??"0"),R=Number((s==null?void 0:s.fade_alpha3)??"0"),F=Number((s==null?void 0:s.fade_t1)??"0"),Ye=Number((s==null?void 0:s.fade_t2)??"0"),qe=Number((s==null?void 0:s.fade_t3)??"0"),Xe=Number((s==null?void 0:s.fade_t4)??"0"),qr={name:u.fade,alpha1:c,alpha2:p,alpha3:R,t1:F,t2:Ye,t3:qe,t4:Xe};return i(e,qr,o[0].length)}if(s=(vt=o[0].match(Co))==null?void 0:vt.groups,s!=null){const c=(s==null?void 0:s.clip_args)??"",p={name:u.clip,drawCommands:c};return i(e,p,o[0].length)}if(s=(yt=o[0].match(ho))==null?void 0:yt.groups,s!=null){const c=Number((s==null?void 0:s.fsp_value)??"0"),p={name:u.fsp,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(_t=o[0].match(ko))==null?void 0:_t.groups,s!=null){const c=Number((s==null?void 0:s.pos_x)??"0"),p=Number((s==null?void 0:s.pos_y)??"0"),R={name:u.pos,x:c,y:p};return i(e,R,o[0].length)}if(s=(bt=o[0].match(No))==null?void 0:bt.groups,s!=null){const c=Number((s==null?void 0:s.org_x)??"0"),p=Number((s==null?void 0:s.org_y)??"0"),R={name:u.org,x:c,y:p};return i(e,R,o[0].length)}if(s=(xt=o[0].match(Ao))==null?void 0:xt.groups,s!=null){const c=Number((s==null?void 0:s.in)??"0"),p=Number((s==null?void 0:s.out)??"0"),R={name:u.fad,in:c,out:p};return i(e,R,o[0].length)}if(s=(kt=o[0].match(vo))==null?void 0:kt.groups,s!=null){const c=Number((s==null?void 0:s.frx_value)??"0"),p={name:u.frx,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Nt=o[0].match(yo))==null?void 0:Nt.groups,s!=null){const c=Number((s==null?void 0:s.fry_value)??"0"),p={name:u.fry,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(At=o[0].match(_o))==null?void 0:At.groups,s!=null){const c=Number((s==null?void 0:s.frz_value)??"0"),p={name:u.frz,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(St=o[0].match(lo))==null?void 0:St.groups,s!=null){const c=Number((s==null?void 0:s.fax_value)??"0"),p={name:u.fax,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Tt=o[0].match(fo))==null?void 0:Tt.groups,s!=null){const c=Number((s==null?void 0:s.fay_value)??"0"),p={name:u.fay,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(wt=o[0].match(Qs))==null?void 0:wt.groups,s!=null){const c=Number((s==null?void 0:s.pbo_value)??"0"),p={name:u.pbo,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Ct=o[0].match(qs))==null?void 0:Ct.groups,s!=null){const c=Number((s==null?void 0:s.fe_value)??"0"),p={name:u.fe,encodingId:Number(c)};return i(e,p,o[0].length)}if(s=($t=o[0].match(Xs))==null?void 0:$t.groups,s!=null){const c=(s==null?void 0:s.fn_value)??"",p={name:u.fn,font:c};return i(e,p,o[0].length)}if(s=(Et=o[0].match(eo))==null?void 0:Et.groups,s!=null){const c=Number((s==null?void 0:s.an_value)??"0"),p={name:u.an,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(It=o[0].match(no))==null?void 0:It.groups,s!=null){const c=Number((s==null?void 0:s.be_value)??"0"),p={name:u.be,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Rt=o[0].match(go))==null?void 0:Rt.groups,s!=null){const c=Number((s==null?void 0:s.fr_value)??"0"),p={name:u.fr,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Ot=o[0].match(xo))==null?void 0:Ot.groups,s!=null){const c=Number((s==null?void 0:s.fs_value)??"0"),p={name:u.fs,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Pt=o[0].match(Gs))==null?void 0:Pt.groups,s!=null){const c=Number((s==null?void 0:s.ko_value)??"0"),p={name:u.ko,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Zt=o[0].match(Vs))==null?void 0:Zt.groups,s!=null){const c=Number((s==null?void 0:s.kf_value)??"0"),p={name:u.kf,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(jt=o[0].match(Os))==null?void 0:jt.groups,s!=null){const c=Number(O((s==null?void 0:s.color1_bgr_blue)??"0")),p=Number(O((s==null?void 0:s.color1_bgr_green)??"0")),R=Number(O((s==null?void 0:s.color1_bgr_red)??"0")),F={name:u.color1,blue:c,green:p,red:R};return i(e,F,o[0].length)}if(s=(Mt=o[0].match(Ps))==null?void 0:Mt.groups,s!=null){const c=Number(O((s==null?void 0:s.color2_bgr_blue)??"0")),p=Number(O((s==null?void 0:s.color2_bgr_green)??"0")),R=Number(O((s==null?void 0:s.color2_bgr_red)??"0")),F={name:u.color2,blue:c,green:p,red:R};return i(e,F,o[0].length)}if(s=(Ft=o[0].match(Zs))==null?void 0:Ft.groups,s!=null){const c=Number(O((s==null?void 0:s.color3_bgr_blue)??"0")),p=Number(O((s==null?void 0:s.color3_bgr_green)??"0")),R=Number(O((s==null?void 0:s.color3_bgr_red)??"0")),F={name:u.color3,blue:c,green:p,red:R};return i(e,F,o[0].length)}if(s=(Lt=o[0].match(js))==null?void 0:Lt.groups,s!=null){const c=Number(O((s==null?void 0:s.color4_bgr_blue)??"0")),p=Number(O((s==null?void 0:s.color4_bgr_green)??"0")),R=Number(O((s==null?void 0:s.color4_bgr_red)??"0")),F={name:u.color4,blue:c,green:p,red:R};return i(e,F,o[0].length)}if(s=(Dt=o[0].match(Fs))==null?void 0:Dt.groups,s!=null){const c=s.alpha1_value??"",p={name:u.alpha1,value:c};return i(e,p,o[0].length)}if(s=(zt=o[0].match(Ls))==null?void 0:zt.groups,s!=null){const c=s.alpha2_value??"",p={name:u.alpha2,value:c};return i(e,p,o[0].length)}if(s=(Bt=o[0].match(Ds))==null?void 0:Bt.groups,s!=null){const c=s.alpha3_value??"",p={name:u.alpha3,value:c};return i(e,p,o[0].length)}if(s=(Ut=o[0].match(zs))==null?void 0:Ut.groups,s!=null){const c=s.alpha4_value??"",p={name:u.alpha4,value:c};return i(e,p,o[0].length)}if(s=(Vt=o[0].match(Bs))==null?void 0:Vt.groups,s!=null){const c=Number((s==null?void 0:s.k_lower_case_value)??"0"),p={name:u.kLowerCase,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Gt=o[0].match(Us))==null?void 0:Gt.groups,s!=null){const c=Number((s==null?void 0:s.k_upper_case_value)??"0"),p={name:u.kUpperCase,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Ht=o[0].match(Hs))==null?void 0:Ht.groups,s!=null){const c=Number((s==null?void 0:s.q_value)??"0"),p={name:u.q,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Wt=o[0].match(Ws))==null?void 0:Wt.groups,s!=null){const c=Number((s==null?void 0:s.s_value)??"0"),p={name:u.s,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Kt=o[0].match(Ks))==null?void 0:Kt.groups,s!=null){const c=Number((s==null?void 0:s.u_value)??"0"),p={name:u.u,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Yt=o[0].match(Ys))==null?void 0:Yt.groups,s!=null){const c=(s==null?void 0:s.r_value)??"",p={name:u.r,style:c};return i(e,p,o[0].length)}if(s=(qt=o[0].match(Js))==null?void 0:qt.groups,s!=null){const c=Number((s==null?void 0:s.p_value)??"0"),p={name:u.p,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Xt=o[0].match(bo))==null?void 0:Xt.groups,s!=null){const c=Number((s==null?void 0:s.i_value)??"0"),p={name:u.i,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(Jt=o[0].match(Rs))==null?void 0:Jt.groups,s!=null){const c=Number(O((s==null?void 0:s.color_bgr_blue)??"0")),p=Number(O((s==null?void 0:s.color_bgr_green)??"0")),R=Number(O((s==null?void 0:s.color_bgr_red)??"0")),F={name:u.color,blue:c,green:p,red:R};return i(e,F,o[0].length)}if(s=(Qt=o[0].match(to))==null?void 0:Qt.groups,s!=null){const c=Number((s==null?void 0:s.b_value)??"0"),p={name:u.b,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}if(s=(en=o[0].match(Es))==null?void 0:en.groups,s!=null){const c=Number((s==null?void 0:s.a_value)??"0"),p={name:u.a,value:Number.isNaN(c)?0:c};return i(e,p,o[0].length)}const f=o[0],l={name:u.unknown,value:f};return i(e,l,o[0].length)}function Ci(n,e,t,r){var a;if(t.startsWith(u.t)){const o=(a=r[0].match(xr))==null?void 0:a.groups,i=(o==null?void 0:o.tags)??"",s=[];ve(i,s);const f=o!=null&&o.arg1?Number(o.arg1):null,l=o!=null&&o.arg2?Number(o.arg2):null,h=o!=null&&o.arg3?Number(o.arg3):null,C={name:u.t,accel:null,t1:null,t2:null,tags:s};f!==null&&l!==null&&h!==null?(C.t1=f,C.t2=l,C.accel=h):f!==null&&l!==null&&h===null?(C.t1=f,C.t2=l,C.accel=null):f!==null&&(C.accel=f),e.push(C)}return n=n.substring(r[0].length),n.length>0&&ve(n,e),e}function $i(n){var r,a,o;const e=[],t=n.matchAll(Ss);for(const i of t){if((r=i.groups)!=null&&r.fx){const s=i.groups.fx.substring(1,i.groups.fx.length-1),f=[];ve(s,f),e.push({name:"effect",tags:f});continue}if((a=i.groups)!=null&&a.txt){e.push({name:"text",value:(o=i.groups)==null?void 0:o.txt});continue}}return e}function ct(n){let e="";for(const t of n.tags)switch(t.name){case u.t:{const r={tags:t.tags},a=ct(r);t.t1!==null&&t.t2!==null&&t.accel!==null?e+=`\\t(${t.t1},${t.t2},${t.accel},${a})`:t.t1!==null&&t.t2!==null&&t.accel===null?e+=`\\t(${t.t1},${t.t2},${a})`:t.accel!==null?e+=`\\t(${t.accel},${a})`:e+=`\\t(${a})`;break}case u.pos:case u.org:e+=`\\${t.name}(${t.x},${t.y})`;break;case u.move:e+=`\\move(${t.x1},${t.y1},${t.x2},${t.y2}`,t.t1!=null&&t.t2!=null&&(e+=`,${t.t1},${t.t2}`),e+=")";break;case u.clip:case u.iclip:e+=`\\${t.name}(${t.drawCommands})`;break;case u.fad:e+=`\\fad(${t.in},${t.out})`;break;case u.fade:e+=`\\fade(${t.alpha1},${t.alpha2},${t.alpha3},${t.t1},${t.t2},${t.t3},${t.t4})`;break;case u.fe:e+=`\\fe${t.encodingId}`;break;case u.fn:e+=`\\fn${t.font}`;break;case u.r:e+=`\\r${t.style}`;break;case u.color:case u.color1:case u.color2:case u.color3:case u.color4:{const r=Me(t.blue),a=Me(t.green),o=Me(t.red);e+=`\\${t.name}&H${r}${a}${o}&`;break}case u.text:case u.unknown:e+=t.value;break;default:e+=`\\${t.name}${t.value}`;break}return e}function Vr(n){let e="";for(const t of n){if(t.name=="text"){e+=t.value;continue}e+="{"+ct(t)+"}"}return e}function Ei(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t];if(r.name!="effect")continue;const a=n[t+1];if(a.name!="effect"){t++;continue}if(a==null)break;r.tags.push(...a.tags),e.push(t+1)}for(const t of e)n.splice(t,1)}function Ii(n,e){Gr(n,t=>{switch(t.name){case u.t:{t.accel!=null&&(t.accel=E(t.accel,e)),t.t1!=null&&(t.t1=E(t.t1,e)),t.t2!=null&&(t.t2=E(t.t2,e));break}case u.pos:case u.org:t.x=E(t.x,e),t.y=E(t.y,e);break;case u.move:t.x1=E(t.x1,e),t.y1=E(t.y1,e),t.x2=E(t.x2,e),t.y2=E(t.y2,e),t.t1!=null&&(t.t1=E(t.t1,e)),t.t2!=null&&(t.t2=E(t.t2,e));break;case u.fad:t.in=E(t.in,e),t.out=E(t.out,e);break;case u.fade:t.t1=E(t.t1,e),t.t2=E(t.t2,e),t.t3=E(t.t3,e),t.t4=E(t.t4,e),t.alpha1=E(t.alpha1,e),t.alpha2=E(t.alpha2,e),t.alpha3=E(t.alpha3,e);break;case u.fe:t.encodingId=Math.floor(t.encodingId);break;case u.color:case u.color1:case u.color2:case u.color3:case u.color4:t.blue=Math.floor(t.blue),t.green=Math.floor(t.green),t.red=Math.floor(t.red);break;case u.clip:case u.iclip:case u.fn:case u.r:case u.text:case u.unknown:break;default:typeof t.value=="number"&&(t.value=E(t.value,e));break}})}function Gr(n,e){for(const t of n)if(t.name=="effect")for(const r of t.tags)e(r)}function Ri(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.a,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Oi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.b,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Pi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.color,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Zi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.color1,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function ji(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.color2,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Mi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.color3,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Fi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.color4,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Li(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.alpha,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Di(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.alpha1,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function zi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.alpha2,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Bi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.alpha3,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Ui(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.alpha4,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Vi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.an,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Gi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.be,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Hi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.blur,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Wi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.bord,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Ki(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.xbord,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Yi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.ybord,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function qi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.shad,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Xi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.xshad,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Ji(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.yshad,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Qi(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fr,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function eu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.frx,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function tu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fry,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function nu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.frz,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function ru(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fax,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function au(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fay,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function su(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.p,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function ou(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.pbo,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function iu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.q,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function uu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.s,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function cu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.u,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function lu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.r,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function du(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fe,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function fu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fn,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function pu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fscx,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function mu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fscy,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function hu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fsp,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function gu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.kLowerCase,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function vu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.kUpperCase,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function yu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.ko,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function _u(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.kf,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function bu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.i,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function xu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fs,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function ku(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.pos,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Nu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.org,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Au(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fad,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Su(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.fade,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Tu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.clip,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function wu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.iclip,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Cu(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.move,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function $u(n){const e=n.find(a=>a.name=="effect");if((e==null?void 0:e.name)!="effect")return null;const t=u.t,r=e.tags.find(a=>a.name==t);return(r==null?void 0:r.name)!=t?null:r}function Eu(n,e){const t={name:u.a,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Iu(n,e){const t={name:u.an,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Ru(n,e){const t={name:u.b,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Ou(n,e,t,r){const a={name:u.color,blue:e,green:t,red:r},[o,i]=x(n,a.name,a);return o||(i.blue=e,i.green=t,i.red=r),i}function Pu(n,e,t,r){const a={name:u.color1,blue:e,green:t,red:r},[o,i]=x(n,a.name,a);return o||(i.blue=e,i.green=t,i.red=r),i}function Zu(n,e,t,r){const a={name:u.color2,blue:e,green:t,red:r},[o,i]=x(n,a.name,a);return o||(i.blue=e,i.green=t,i.red=r),i}function ju(n,e,t,r){const a={name:u.color3,blue:e,green:t,red:r},[o,i]=x(n,a.name,a);return o||(i.blue=e,i.green=t,i.red=r),i}function Mu(n,e,t,r){const a={name:u.color4,blue:e,green:t,red:r},[o,i]=x(n,a.name,a);return o||(i.blue=e,i.green=t,i.red=r),i}function Fu(n,e){const t={name:u.alpha,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Lu(n,e){const t={name:u.alpha1,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Du(n,e){const t={name:u.alpha2,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function zu(n,e){const t={name:u.alpha3,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Bu(n,e){const t={name:u.alpha4,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Uu(n,e){const t={name:u.blur,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Vu(n,e){const t={name:u.bord,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Gu(n,e){const t={name:u.xbord,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Hu(n,e){const t={name:u.ybord,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Wu(n,e){const t={name:u.fax,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Ku(n,e){const t={name:u.fay,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Yu(n,e){const t={name:u.fscx,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function qu(n,e){const t={name:u.fscy,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Xu(n,e){const t={name:u.fsp,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function Ju(n,e){const t={name:u.fe,encodingId:e},[r,a]=x(n,t.name,t);return r||(a.encodingId=e),a}function Qu(n,e){const t={name:u.fn,font:e},[r,a]=x(n,t.name,t);return r||(a.font=e),a}function ec(n,e){const t={name:u.kLowerCase,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function tc(n,e){const t={name:u.kUpperCase,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function nc(n,e){const t={name:u.kf,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function rc(n,e){const t={name:u.ko,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function ac(n,e){const t={name:u.p,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function sc(n,e){const t={name:u.pbo,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function oc(n,e){const t={name:u.q,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function ic(n,e){const t={name:u.s,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function uc(n,e){const t={name:u.shad,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function cc(n,e){const t={name:u.xshad,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function lc(n,e){const t={name:u.yshad,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function dc(n,e){const t={name:u.u,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function fc(n,e){const t={name:u.be,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function pc(n,e){const t={name:u.fs,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function mc(n,e){const t={name:u.fr,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function hc(n,e){const t={name:u.frx,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function gc(n,e){const t={name:u.fry,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function vc(n,e){const t={name:u.frz,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function yc(n,e){const t={name:u.i,value:e},[r,a]=x(n,t.name,t);return r||(a.value=e),a}function _c(n,e){const t={name:u.r,style:e},[r,a]=x(n,t.name,t);return r||(a.style=e),a}function bc(n,e,t){const r={name:u.pos,x:e,y:t},[a,o]=x(n,r.name,r);return a||(o.x=e,o.y=t),o}function xc(n,e,t){const r={name:u.org,x:e,y:t},[a,o]=x(n,r.name,r);return a||(o.x=e,o.y=t),o}function kc(n,e,t){const r={name:u.fad,in:e,out:t},[a,o]=x(n,r.name,r);return a||(o.in=e,o.out=t),o}function Nc(n,e,t,r,a,o,i,s){const f={name:u.fade,alpha1:e,alpha2:t,alpha3:r,t1:a,t2:o,t3:i,t4:s},[l,h]=x(n,f.name,f);return l||(h.alpha1=e,h.alpha2=t,h.alpha3=r,h.t1=a,h.t2=o,h.t3=i,h.t4=s),h}function Ac(n,e){const t={name:u.clip,drawCommands:e},[r,a]=x(n,t.name,t);return r||(a.drawCommands=e),a}function Sc(n,e){const t={name:u.iclip,drawCommands:e},[r,a]=x(n,t.name,t);return r||(a.drawCommands=e),a}function Tc(n,e,t,r,a,o=null,i=null){const s={name:u.move,x1:e,y1:t,x2:r,y2:a,t1:o,t2:i},[f,l]=x(n,s.name,s);return f||(l.x1=e,l.y1=t,l.x2=r,l.y2=a,l.t1=o,l.t2=i),l}function wc(n,e,t=null,r=null,a=null){const o={name:u.t,t1:r,t2:a,accel:t,tags:e},[i,s]=x(n,o.name,o);return i||(s.t1=r,s.t2=a,s.accel=t,s.tags=e),s}function Cc(n){return[{name:"effect",tags:n}]}function $c(n){const e=n.find(t=>t.name==="effect");return e==null||e.name!="effect"?[]:e.tags}function x(n,e,t){const r=n.find(o=>o.name=="effect");if((r==null?void 0:r.name)!="effect")return n.unshift({name:"effect",tags:[t]}),[!0,t];const a=r.tags.find(o=>o.name==e);return(a==null?void 0:a.name)!=e?(r.tags.push(t),[!0,t]):[!1,a]}function Ec(n,e){const t=n.find(a=>a.name=="effect");if((t==null?void 0:t.name)!="effect")return;const r=t.tags.findIndex(a=>a.name===e);r<0||t.tags.splice(r,1)}const Hr="Dialogue",ot="Comment";function Wr(n){const e=n.match(Cs);if(e==null)return null;const t=e.groups,r=at((t==null?void 0:t.start)??"");if(r==null)return null;const a=at((t==null?void 0:t.end)??"");return a==null?null:{type:(t==null?void 0:t.type)===ot?ot:Hr,layer:Number((t==null?void 0:t.layer)??"0"),start:r,end:a,style:(t==null?void 0:t.style)??"",actor:(t==null?void 0:t.actor)??"",marginLeft:Number((t==null?void 0:t.marginLeft)??"0"),marginRight:Number((t==null?void 0:t.marginRight)??"0"),marginVertical:Number((t==null?void 0:t.marginVertical)??"0"),effect:(t==null?void 0:t.effect)??"",content:(t==null?void 0:t.content)??""}}function Kr(n){let e=n.type;return e+=": ",e+=Math.floor(n.layer),e+=",",e+=st(n.start),e+=",",e+=st(n.end),e+=",",e+=n.style,e+=",",e+=n.actor,e+=",",e+=Math.floor(n.marginLeft),e+=",",e+=Math.floor(n.marginRight),e+=",",e+=Math.floor(n.marginVertical),e+=",",e+=n.effect,e+=",",e+=n.content,e}function Yr(n){return le(n.end)-le(n.start)}function Ic(n){const e=n.match(Is);if(e==null)return null;const t=e.groups;return{blue:O((t==null?void 0:t.color_bgr_blue)??""),green:O((t==null?void 0:t.color_bgr_green)??""),red:O((t==null?void 0:t.color_bgr_red)??"")}}function Rc(){return{type:"Dialogue",layer:0,start:{hours:0,minutes:0,seconds:0},end:{hours:0,minutes:0,seconds:5},style:"Default",actor:"",marginLeft:0,marginRight:0,marginVertical:0,effect:"",content:""}}const Hc=Object.freeze(Object.defineProperty({__proto__:null,ASSFileToString:vi,Alignment:kr,get Alignments(){return Pe},AttachedFontToString:Cr,AttachedGraphicToString:Ir,Encoding:Nr,get Encodings(){return Ze},LINE_TYPE_COMMENT:ot,LINE_TYPE_DIALOGUE:Hr,ProjectGarbagePropertyActiveLine:Wo,ProjectGarbagePropertyAudioFile:Lo,ProjectGarbagePropertyAutomationScripts:Zo,ProjectGarbagePropertyExportEncoding:Mo,ProjectGarbagePropertyExportFilters:jo,ProjectGarbagePropertyKeyframesFile:Bo,ProjectGarbagePropertyLastStyleStorage:Fo,ProjectGarbagePropertyScrollPosition:Ho,ProjectGarbagePropertyTimecodesFile:zo,ProjectGarbagePropertyVideoARMode:Uo,ProjectGarbagePropertyVideoARValue:Vo,ProjectGarbagePropertyVideoFile:Do,ProjectGarbagePropertyVideoPosition:Ko,ProjectGarbagePropertyVideoZoomPercent:Go,ScriptInfoPropertyOriginalEditing:ai,ScriptInfoPropertyOriginalScript:ni,ScriptInfoPropertyOriginalTiming:si,ScriptInfoPropertyOriginalTranslation:ri,ScriptInfoPropertyPlayResX:Jo,ScriptInfoPropertyPlayResY:Qo,ScriptInfoPropertyScaledBorderAndShadow:ei,ScriptInfoPropertyScriptType:qo,ScriptInfoPropertyScriptUpdatedBy:ii,ScriptInfoPropertySynchPoint:oi,ScriptInfoPropertyTitle:Yo,ScriptInfoPropertyUpdateDetails:ui,ScriptInfoPropertyWrapStyle:Xo,ScriptInfoPropertyYCbCrMatrix:ti,get TagName(){return u},adjustTimeOverplus:We,calculateLineDurationInSeconds:Yr,contentEffectToString:ct,contentsToString:Vr,findA:Ri,findAlpha:Li,findAlpha1:Di,findAlpha2:zi,findAlpha3:Bi,findAlpha4:Ui,findAn:Vi,findB:Oi,findBe:Gi,findBlur:Hi,findBord:Wi,findClip:Tu,findColor:Pi,findColor1:Zi,findColor2:ji,findColor3:Mi,findColor4:Fi,findFad:Au,findFade:Su,findFax:ru,findFay:au,findFe:du,findFn:fu,findFr:Qi,findFrx:eu,findFry:tu,findFrz:nu,findFs:xu,findFscx:pu,findFscy:mu,findFsp:hu,findI:bu,findIclip:wu,findKLowerCase:gu,findKUpperCase:vu,findKf:_u,findKo:yu,findMove:Cu,findOrg:Nu,findP:su,findPbo:ou,findPos:ku,findQ:iu,findR:lu,findS:uu,findShad:qi,findT:$u,findU:cu,findXbord:Ki,findXshad:Xi,findYbord:Yi,findYshad:Ji,forEachTag:Gr,generateDefaultLine:Rc,generateDefaultSectionStyles:ci,generateDefaultStyle:zr,hexToNumber:O,interpolate:vs,isRomajiWord:Ur,itemsToTags:$c,lineToString:Kr,mergeNeighboringEffects:Ei,newProjectGarbage:Pr,newScriptInfo:jr,newSectionEvents:Ar,newSectionExtraData:Tr,newSectionFonts:$r,newSectionGraphics:Rr,newSectionStyles:Lr,numberToHex:Me,parseASSFile:yi,parseColorBGR:Ic,parseContent:$i,parseLine:Wr,parseStyle:Br,parseTags:ve,parseTime:at,removeTag:Ec,secondsToTime:ut,sectionEventsToString:Sr,sectionExtraDataToString:wr,sectionFontsToString:Er,sectionGraphicsToString:Or,sectionProjectGarbageToString:Zr,sectionScriptInfoToString:Mr,sectionStylesToString:Dr,setA:Eu,setAlpha:Fu,setAlpha1:Lu,setAlpha2:Du,setAlpha3:zu,setAlpha4:Bu,setAn:Iu,setB:Ru,setBe:fc,setBlur:Uu,setBord:Vu,setClip:Ac,setColor:Ou,setColor1:Pu,setColor2:Zu,setColor3:ju,setColor4:Mu,setFad:kc,setFade:Nc,setFax:Wu,setFay:Ku,setFe:Ju,setFn:Qu,setFr:mc,setFrx:hc,setFry:gc,setFrz:vc,setFs:pc,setFscx:Yu,setFscy:qu,setFsp:Xu,setI:yc,setIclip:Sc,setKLowerCase:ec,setKUpperCase:tc,setKf:nc,setKo:rc,setMove:Tc,setOrg:xc,setP:ac,setPbo:sc,setPos:bc,setQ:oc,setR:_c,setS:ic,setShad:uc,setT:wc,setU:dc,setXbord:Gu,setXshad:cc,setYbord:Hu,setYshad:lc,splitSyllabes:wi,styleToString:Fr,subtractTimes:Po,sumTimes:Oo,tagsToItems:Cc,timeToSeconds:le,timeToString:st,truncate:E,truncateNumberTags:Ii},Symbol.toStringTag,{value:"Module"}));export{zu as A,rt as B,Bu as C,Ic as D,Ou as E,Pu as F,Zu as G,ju as H,Mu as I,bc as J,wi as K,Ei as L,le as M,ut as N,Mc as O,ot as P,yi as Q,Dc as R,u as T,Lc as a,nn as b,zc as c,Vc as d,Hc as e,Bc as f,Uc as g,ra as h,$i as i,Cu as j,ku as k,Tc as l,Vr as m,Kr as n,jc as o,Wr as p,Zc as q,Ec as r,Fc as s,Gc as t,Me as u,vs as v,O as w,Fu as x,Lu as y,Du as z};
